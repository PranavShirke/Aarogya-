function _w(i,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in i)){const l=Object.getOwnPropertyDescriptor(r,a);l&&Object.defineProperty(i,a,l.get?l:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function bT(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var xm={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function Ew(){if(Y_)return Bl;Y_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:i,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Bl.Fragment=e,Bl.jsx=t,Bl.jsxs=t,Bl}var X_;function Tw(){return X_||(X_=1,xm.exports=Ew()),xm.exports}var b=Tw(),Nm={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function bw(){if(W_)return Ne;W_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),T=Symbol.iterator;function A(P){return P===null||typeof P!="object"?null:(P=T&&P[T]||P["@@iterator"],typeof P=="function"?P:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,U={};function C(P,ie,ce){this.props=P,this.context=ie,this.refs=U,this.updater=ce||M}C.prototype.isReactComponent={},C.prototype.setState=function(P,ie){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ie,"setState")},C.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function q(){}q.prototype=C.prototype;function X(P,ie,ce){this.props=P,this.context=ie,this.refs=U,this.updater=ce||M}var W=X.prototype=new q;W.constructor=X,x(W,C.prototype),W.isPureReactComponent=!0;var ae=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},pe=Object.prototype.hasOwnProperty;function D(P,ie,ce,se,ve,Me){return ce=Me.ref,{$$typeof:i,type:P,key:ie,ref:ce!==void 0?ce:null,props:Me}}function R(P,ie){return D(P.type,ie,void 0,void 0,void 0,P.props)}function I(P){return typeof P=="object"&&P!==null&&P.$$typeof===i}function V(P){var ie={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(ce){return ie[ce]})}var L=/\/+/g;function j(P,ie){return typeof P=="object"&&P!==null&&P.key!=null?V(""+P.key):ie.toString(36)}function O(){}function We(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(O,O):(P.status="pending",P.then(function(ie){P.status==="pending"&&(P.status="fulfilled",P.value=ie)},function(ie){P.status==="pending"&&(P.status="rejected",P.reason=ie)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Fe(P,ie,ce,se,ve){var Me=typeof P;(Me==="undefined"||Me==="boolean")&&(P=null);var Ae=!1;if(P===null)Ae=!0;else switch(Me){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(P.$$typeof){case i:case e:Ae=!0;break;case y:return Ae=P._init,Fe(Ae(P._payload),ie,ce,se,ve)}}if(Ae)return ve=ve(P),Ae=se===""?"."+j(P,0):se,ae(ve)?(ce="",Ae!=null&&(ce=Ae.replace(L,"$&/")+"/"),Fe(ve,ie,ce,"",function(Wn){return Wn})):ve!=null&&(I(ve)&&(ve=R(ve,ce+(ve.key==null||P&&P.key===ve.key?"":(""+ve.key).replace(L,"$&/")+"/")+Ae)),ie.push(ve)),1;Ae=0;var Mt=se===""?".":se+":";if(ae(P))for(var it=0;it<P.length;it++)se=P[it],Me=Mt+j(se,it),Ae+=Fe(se,ie,ce,Me,ve);else if(it=A(P),typeof it=="function")for(P=it.call(P),it=0;!(se=P.next()).done;)se=se.value,Me=Mt+j(se,it++),Ae+=Fe(se,ie,ce,Me,ve);else if(Me==="object"){if(typeof P.then=="function")return Fe(We(P),ie,ce,se,ve);throw ie=String(P),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function Y(P,ie,ce){if(P==null)return P;var se=[],ve=0;return Fe(P,se,"","",function(Me){return ie.call(ce,Me,ve++)}),se}function ue(P){if(P._status===-1){var ie=P._result;ie=ie(),ie.then(function(ce){(P._status===0||P._status===-1)&&(P._status=1,P._result=ce)},function(ce){(P._status===0||P._status===-1)&&(P._status=2,P._result=ce)}),P._status===-1&&(P._status=0,P._result=ie)}if(P._status===1)return P._result.default;throw P._result}var me=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Re(){}return Ne.Children={map:Y,forEach:function(P,ie,ce){Y(P,function(){ie.apply(this,arguments)},ce)},count:function(P){var ie=0;return Y(P,function(){ie++}),ie},toArray:function(P){return Y(P,function(ie){return ie})||[]},only:function(P){if(!I(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ne.Component=C,Ne.Fragment=t,Ne.Profiler=a,Ne.PureComponent=X,Ne.StrictMode=r,Ne.Suspense=m,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(P){return oe.H.useMemoCache(P)}},Ne.cache=function(P){return function(){return P.apply(null,arguments)}},Ne.cloneElement=function(P,ie,ce){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var se=x({},P.props),ve=P.key,Me=void 0;if(ie!=null)for(Ae in ie.ref!==void 0&&(Me=void 0),ie.key!==void 0&&(ve=""+ie.key),ie)!pe.call(ie,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&ie.ref===void 0||(se[Ae]=ie[Ae]);var Ae=arguments.length-2;if(Ae===1)se.children=ce;else if(1<Ae){for(var Mt=Array(Ae),it=0;it<Ae;it++)Mt[it]=arguments[it+2];se.children=Mt}return D(P.type,ve,void 0,void 0,Me,se)},Ne.createContext=function(P){return P={$$typeof:c,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:l,_context:P},P},Ne.createElement=function(P,ie,ce){var se,ve={},Me=null;if(ie!=null)for(se in ie.key!==void 0&&(Me=""+ie.key),ie)pe.call(ie,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ve[se]=ie[se]);var Ae=arguments.length-2;if(Ae===1)ve.children=ce;else if(1<Ae){for(var Mt=Array(Ae),it=0;it<Ae;it++)Mt[it]=arguments[it+2];ve.children=Mt}if(P&&P.defaultProps)for(se in Ae=P.defaultProps,Ae)ve[se]===void 0&&(ve[se]=Ae[se]);return D(P,Me,void 0,void 0,null,ve)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(P){return{$$typeof:d,render:P}},Ne.isValidElement=I,Ne.lazy=function(P){return{$$typeof:y,_payload:{_status:-1,_result:P},_init:ue}},Ne.memo=function(P,ie){return{$$typeof:g,type:P,compare:ie===void 0?null:ie}},Ne.startTransition=function(P){var ie=oe.T,ce={};oe.T=ce;try{var se=P(),ve=oe.S;ve!==null&&ve(ce,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Re,me)}catch(Me){me(Me)}finally{oe.T=ie}},Ne.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ne.use=function(P){return oe.H.use(P)},Ne.useActionState=function(P,ie,ce){return oe.H.useActionState(P,ie,ce)},Ne.useCallback=function(P,ie){return oe.H.useCallback(P,ie)},Ne.useContext=function(P){return oe.H.useContext(P)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(P,ie){return oe.H.useDeferredValue(P,ie)},Ne.useEffect=function(P,ie,ce){var se=oe.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(P,ie)},Ne.useId=function(){return oe.H.useId()},Ne.useImperativeHandle=function(P,ie,ce){return oe.H.useImperativeHandle(P,ie,ce)},Ne.useInsertionEffect=function(P,ie){return oe.H.useInsertionEffect(P,ie)},Ne.useLayoutEffect=function(P,ie){return oe.H.useLayoutEffect(P,ie)},Ne.useMemo=function(P,ie){return oe.H.useMemo(P,ie)},Ne.useOptimistic=function(P,ie){return oe.H.useOptimistic(P,ie)},Ne.useReducer=function(P,ie,ce){return oe.H.useReducer(P,ie,ce)},Ne.useRef=function(P){return oe.H.useRef(P)},Ne.useState=function(P){return oe.H.useState(P)},Ne.useSyncExternalStore=function(P,ie,ce){return oe.H.useSyncExternalStore(P,ie,ce)},Ne.useTransition=function(){return oe.H.useTransition()},Ne.version="19.1.0",Ne}var J_;function kp(){return J_||(J_=1,Nm.exports=bw()),Nm.exports}var ee=kp();const Xi=bT(ee),Sw=_w({__proto__:null,default:Xi},[ee]);var Om={exports:{}},Hl={},Dm={exports:{}},Mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function Aw(){return Z_||(Z_=1,function(i){function e(Y,ue){var me=Y.length;Y.push(ue);e:for(;0<me;){var Re=me-1>>>1,P=Y[Re];if(0<a(P,ue))Y[Re]=ue,Y[me]=P,me=Re;else break e}}function t(Y){return Y.length===0?null:Y[0]}function r(Y){if(Y.length===0)return null;var ue=Y[0],me=Y.pop();if(me!==ue){Y[0]=me;e:for(var Re=0,P=Y.length,ie=P>>>1;Re<ie;){var ce=2*(Re+1)-1,se=Y[ce],ve=ce+1,Me=Y[ve];if(0>a(se,me))ve<P&&0>a(Me,se)?(Y[Re]=Me,Y[ve]=me,Re=ve):(Y[Re]=se,Y[ce]=me,Re=ce);else if(ve<P&&0>a(Me,me))Y[Re]=Me,Y[ve]=me,Re=ve;else break e}}return ue}function a(Y,ue){var me=Y.sortIndex-ue.sortIndex;return me!==0?me:Y.id-ue.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();i.unstable_now=function(){return c.now()-d}}var m=[],g=[],y=1,T=null,A=3,M=!1,x=!1,U=!1,C=!1,q=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ae(Y){for(var ue=t(g);ue!==null;){if(ue.callback===null)r(g);else if(ue.startTime<=Y)r(g),ue.sortIndex=ue.expirationTime,e(m,ue);else break;ue=t(g)}}function oe(Y){if(U=!1,ae(Y),!x)if(t(m)!==null)x=!0,pe||(pe=!0,j());else{var ue=t(g);ue!==null&&Fe(oe,ue.startTime-Y)}}var pe=!1,D=-1,R=5,I=-1;function V(){return C?!0:!(i.unstable_now()-I<R)}function L(){if(C=!1,pe){var Y=i.unstable_now();I=Y;var ue=!0;try{e:{x=!1,U&&(U=!1,X(D),D=-1),M=!0;var me=A;try{t:{for(ae(Y),T=t(m);T!==null&&!(T.expirationTime>Y&&V());){var Re=T.callback;if(typeof Re=="function"){T.callback=null,A=T.priorityLevel;var P=Re(T.expirationTime<=Y);if(Y=i.unstable_now(),typeof P=="function"){T.callback=P,ae(Y),ue=!0;break t}T===t(m)&&r(m),ae(Y)}else r(m);T=t(m)}if(T!==null)ue=!0;else{var ie=t(g);ie!==null&&Fe(oe,ie.startTime-Y),ue=!1}}break e}finally{T=null,A=me,M=!1}ue=void 0}}finally{ue?j():pe=!1}}}var j;if(typeof W=="function")j=function(){W(L)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,We=O.port2;O.port1.onmessage=L,j=function(){We.postMessage(null)}}else j=function(){q(L,0)};function Fe(Y,ue){D=q(function(){Y(i.unstable_now())},ue)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(Y){Y.callback=null},i.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},i.unstable_getCurrentPriorityLevel=function(){return A},i.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var ue=3;break;default:ue=A}var me=A;A=ue;try{return Y()}finally{A=me}},i.unstable_requestPaint=function(){C=!0},i.unstable_runWithPriority=function(Y,ue){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var me=A;A=Y;try{return ue()}finally{A=me}},i.unstable_scheduleCallback=function(Y,ue,me){var Re=i.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Re+me:Re):me=Re,Y){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=me+P,Y={id:y++,callback:ue,priorityLevel:Y,startTime:me,expirationTime:P,sortIndex:-1},me>Re?(Y.sortIndex=me,e(g,Y),t(m)===null&&Y===t(g)&&(U?(X(D),D=-1):U=!0,Fe(oe,me-Re))):(Y.sortIndex=P,e(m,Y),x||M||(x=!0,pe||(pe=!0,j()))),Y},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(Y){var ue=A;return function(){var me=A;A=ue;try{return Y.apply(this,arguments)}finally{A=me}}}}(Mm)),Mm}var e0;function ww(){return e0||(e0=1,Dm.exports=Aw()),Dm.exports}var Pm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0;function Rw(){if(t0)return Wt;t0=1;var i=kp();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(m,g,y){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:m,containerInfo:g,implementation:y}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wt.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,y)},Wt.flushSync=function(m){var g=c.T,y=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=g,r.p=y,r.d.f()}},Wt.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(m,g))},Wt.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},Wt.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,T=d(y,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,M=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?r.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:A,fetchPriority:M}):y==="script"&&r.d.X(m,{crossOrigin:T,integrity:A,fetchPriority:M,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Wt.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=d(g.as,g.crossOrigin);r.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(m)},Wt.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,T=d(y,g.crossOrigin);r.d.L(m,y,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Wt.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=d(g.as,g.crossOrigin);r.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(m)},Wt.requestFormReset=function(m){r.d.r(m)},Wt.unstable_batchedUpdates=function(m,g){return m(g)},Wt.useFormState=function(m,g,y){return c.H.useFormState(m,g,y)},Wt.useFormStatus=function(){return c.H.useHostTransitionStatus()},Wt.version="19.1.0",Wt}var n0;function ST(){if(n0)return Pm.exports;n0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Pm.exports=Rw(),Pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function Cw(){if(i0)return Hl;i0=1;var i=ww(),e=kp(),t=ST();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(l(n)!==n)throw Error(r(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return d(f),n;if(p===u)return d(f),s;p=p.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=p;else{for(var E=!1,S=f.child;S;){if(S===o){E=!0,o=f,u=p;break}if(S===u){E=!0,u=f,o=p;break}S=S.sibling}if(!E){for(S=p.child;S;){if(S===o){E=!0,o=p,u=f;break}if(S===u){E=!0,u=p,o=f;break}S=S.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function g(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=g(n),s!==null)return s;n=n.sibling}return null}var y=Object.assign,T=Symbol.for("react.element"),A=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),q=Symbol.for("react.provider"),X=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=L&&n[L]||n["@@iterator"],typeof n=="function"?n:null)}var O=Symbol.for("react.client.reference");function We(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===O?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case C:return"Profiler";case U:return"StrictMode";case oe:return"Suspense";case pe:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case M:return"Portal";case W:return(n.displayName||"Context")+".Provider";case X:return(n._context.displayName||"Context")+".Consumer";case ae:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case D:return s=n.displayName||null,s!==null?s:We(n.type)||"Memo";case R:s=n._payload,n=n._init;try{return We(n(s))}catch{}}return null}var Fe=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Re=[],P=-1;function ie(n){return{current:n}}function ce(n){0>P||(n.current=Re[P],Re[P]=null,P--)}function se(n,s){P++,Re[P]=n.current,n.current=s}var ve=ie(null),Me=ie(null),Ae=ie(null),Mt=ie(null);function it(n,s){switch(se(Ae,s),se(Me,n),se(ve,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?S_(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=S_(s),n=A_(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}ce(ve),se(ve,n)}function Wn(){ce(ve),ce(Me),ce(Ae)}function sr(n){n.memoizedState!==null&&se(Mt,n);var s=ve.current,o=A_(s,n.type);s!==o&&(se(Me,n),se(ve,o))}function bi(n){Me.current===n&&(ce(ve),ce(Me)),Mt.current===n&&(ce(Mt),Ll._currentValue=me)}var ss=Object.prototype.hasOwnProperty,as=i.unstable_scheduleCallback,os=i.unstable_cancelCallback,Mo=i.unstable_shouldYield,Vu=i.unstable_requestPaint,wn=i.unstable_now,xf=i.unstable_getCurrentPriorityLevel,Po=i.unstable_ImmediatePriority,aa=i.unstable_UserBlockingPriority,ls=i.unstable_NormalPriority,Nf=i.unstable_LowPriority,oa=i.unstable_IdlePriority,Vo=i.log,Lu=i.unstable_setDisableYieldValue,ct=null,Qe=null;function gn(n){if(typeof Vo=="function"&&Lu(n),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(ct,n)}catch{}}var Yt=Math.clz32?Math.clz32:us,ku=Math.log,Of=Math.LN2;function us(n){return n>>>=0,n===0?32:31-(ku(n)/Of|0)|0}var cs=256,hs=4194304;function zn(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function la(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,p=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?f=zn(u):(E&=S,E!==0?f=zn(E):o||(o=S&~n,o!==0&&(f=zn(o))))):(S=u&~p,S!==0?f=zn(S):E!==0?f=zn(E):o||(o=u&~n,o!==0&&(f=zn(o)))),f===0?0:s!==0&&s!==f&&(s&p)===0&&(p=f&-f,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:f}function fs(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Lo(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ko(){var n=cs;return cs<<=1,(cs&4194048)===0&&(cs=256),n}function Uo(){var n=hs;return hs<<=1,(hs&62914560)===0&&(hs=4194304),n}function Si(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Ai(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function jo(n,s,o,u,f,p){var E=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var S=n.entanglements,N=n.expirationTimes,F=n.hiddenUpdates;for(o=E&~o;0<o;){var J=31-Yt(o),te=1<<J;S[J]=0,N[J]=-1;var G=F[J];if(G!==null)for(F[J]=null,J=0;J<G.length;J++){var K=G[J];K!==null&&(K.lane&=-536870913)}o&=~te}u!==0&&Jn(n,u,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(E&~s))}function Jn(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-Yt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&4194090}function zo(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-Yt(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function ar(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function ua(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function or(){var n=ue.p;return n!==0?n:(n=window.event,n===void 0?32:F_(n.type))}function Uu(n,s){var o=ue.p;try{return ue.p=n,s()}finally{ue.p=o}}var at=Math.random().toString(36).slice(2),Rt="__reactFiber$"+at,Et="__reactProps$"+at,Rn="__reactContainer$"+at,Bo="__reactEvents$"+at,Df="__reactListeners$"+at,lr="__reactHandles$"+at,ju="__reactResources$"+at,ds="__reactMarker$"+at;function ur(n){delete n[Rt],delete n[Et],delete n[Bo],delete n[Df],delete n[lr]}function wi(n){var s=n[Rt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Rn]||o[Rt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=I_(n);n!==null;){if(o=n[Rt])return o;n=I_(n)}return s}n=o,o=n.parentNode}return null}function Zn(n){if(n=n[Rt]||n[Rn]){var s=n.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return n}return null}function ei(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function rn(n){var s=n[ju];return s||(s=n[ju]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function dt(n){n[ds]=!0}var Ho=new Set,ca={};function Bn(n,s){Ri(n,s),Ri(n+"Capture",s)}function Ri(n,s){for(ca[n]=s,n=0;n<s.length;n++)Ho.add(s[n])}var zu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bu={},ms={};function Hu(n){return ss.call(ms,n)?!0:ss.call(Bu,n)?!1:zu.test(n)?ms[n]=!0:(Bu[n]=!0,!1)}function cr(n,s,o){if(Hu(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function ti(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function zt(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}var ps,Fu;function Ci(n){if(ps===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ps=s&&s[1]||"",Fu=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ps+n+Fu}var ha=!1;function fa(n,s){if(!n||ha)return"";ha=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(K){var G=K}Reflect.construct(n,[],te)}else{try{te.call()}catch(K){G=K}n.call(te.prototype)}}else{try{throw Error()}catch(K){G=K}(te=n())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(K){if(K&&G&&typeof K.stack=="string")return[K.stack,G.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),E=p[0],S=p[1];if(E&&S){var N=E.split(`
`),F=S.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===F.length)for(u=N.length-1,f=F.length-1;1<=u&&0<=f&&N[u]!==F[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==F[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==F[f]){var J=`
`+N[u].replace(" at new "," at ");return n.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",n.displayName)),J}while(1<=u&&0<=f);break}}}finally{ha=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Ci(o):""}function Fo(n){switch(n.tag){case 26:case 27:case 5:return Ci(n.type);case 16:return Ci("Lazy");case 13:return Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return fa(n.type,!1);case 11:return fa(n.type.render,!1);case 1:return fa(n.type,!0);case 31:return Ci("Activity");default:return""}}function da(n){try{var s="";do s+=Fo(n),n=n.return;while(n);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function sn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function qo(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Mf(n){var s=qo(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),u=""+n[s];if(!n.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(E){u=""+E,p.call(this,E)}}),Object.defineProperty(n,s,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(E){u=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function ma(n){n._valueTracker||(n._valueTracker=Mf(n))}function Go(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=qo(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function gs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Pf=/[\n"\\]/g;function Tt(n){return n.replace(Pf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function yn(n,s,o,u,f,p,E,S){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),s!=null?E==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+sn(s)):n.value!==""+sn(s)&&(n.value=""+sn(s)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),s!=null?hr(n,E,sn(s)):o!=null?hr(n,E,sn(o)):u!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.name=""+sn(S):n.removeAttribute("name")}function ys(n,s,o,u,f,p,E,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null))return;o=o!=null?""+sn(o):"",s=s!=null?""+sn(s):o,S||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=S?n.checked:!!u,n.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function hr(n,s,o){s==="number"&&gs(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Ii(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+sn(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Je(n,s,o){if(s!=null&&(s=""+sn(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+sn(o):""}function vs(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(Fe(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=sn(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u)}function Cn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var _s=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qu(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||_s.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Ko(n,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&qu(n,f,u)}else for(var p in s)s.hasOwnProperty(p)&&qu(n,p,s[p])}function $o(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(n){return Lf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var xi=null;function In(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ni=null,Oi=null;function Qo(n){var s=Zn(n);if(s&&(n=s.stateNode)){var o=n[Et]||null;e:switch(n=s.stateNode,s.type){case"input":if(yn(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Tt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[Et]||null;if(!f)throw Error(r(90));yn(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Go(u)}break e;case"textarea":Je(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Ii(n,!!o.multiple,s,!1)}}}var ni=!1;function Gu(n,s,o){if(ni)return n(s,o);ni=!0;try{var u=n(s);return u}finally{if(ni=!1,(Ni!==null||Oi!==null)&&(Uc(),Ni&&(s=Ni,n=Oi,Oi=Ni=null,Qo(s),n)))for(s=0;s<n.length;s++)Qo(n[s])}}function Es(n,s){var o=n.stateNode;if(o===null)return null;var u=o[Et]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(Hn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){xn=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{xn=!1}var ii=null,fr=null,Di=null;function Yo(){if(Di)return Di;var n,s=fr,o=s.length,u,f="value"in ii?ii.value:ii.textContent,p=f.length;for(n=0;n<o&&s[n]===f[n];n++);var E=o-n;for(u=1;u<=E&&s[o-u]===f[p-u];u++);return Di=f.slice(n,1<u?1-u:void 0)}function ri(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function si(){return!0}function Xo(){return!1}function Pt(n){function s(o,u,f,p,E){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=E,this.currentTarget=null;for(var S in n)n.hasOwnProperty(S)&&(o=n[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?si:Xo,this.isPropagationStopped=Xo,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=si)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=si)},persist:function(){},isPersistent:si}),s}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=Pt(Ke),bs=y({},Ke,{view:0,detail:0}),Ku=Pt(bs),ya,va,ai,Ss=y({},bs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ai&&(ai&&n.type==="mousemove"?(ya=n.screenX-ai.screenX,va=n.screenY-ai.screenY):va=ya=0,ai=n),ya)},movementY:function(n){return"movementY"in n?n.movementY:va}}),Nn=Pt(Ss),$u=y({},Ss,{dataTransfer:0}),kf=Pt($u),As=y({},bs,{relatedTarget:0}),_a=Pt(As),Wo=y({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=Pt(Wo),Qu=y({},Ke,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ta=Pt(Qu),Uf=y({},Ke,{data:0}),Jo=Pt(Uf),ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Xu[n])?!!s[n]:!1}function Rs(){return Zo}var Wu=y({},bs,{key:function(n){if(n.key){var s=ws[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=ri(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Yu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(n){return n.type==="keypress"?ri(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?ri(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ba=Pt(Wu),Ju=y({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Pt(Ju),Mi=y({},bs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),Zu=Pt(Mi),ec=y({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),tc=Pt(ec),nc=y({},Ss,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Sa=Pt(nc),an=y({},Ke,{newState:0,oldState:0}),ic=Pt(an),rc=[9,13,27,32],oi=Hn&&"CompositionEvent"in window,h=null;Hn&&"documentMode"in document&&(h=document.documentMode);var v=Hn&&"TextEvent"in window&&!h,_=Hn&&(!oi||h&&8<h&&11>=h),w=" ",B=!1;function $(n,s){switch(n){case"keyup":return rc.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function le(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var je=!1;function Ct(n,s){switch(n){case"compositionend":return le(s);case"keypress":return s.which!==32?null:(B=!0,w);case"textInput":return n=s.data,n===w&&B?null:n;default:return null}}function ze(n,s){if(je)return n==="compositionend"||!oi&&$(n,s)?(n=Yo(),Di=fr=ii=null,je=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _&&s.locale!=="ko"?null:s.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!Vt[n.type]:s==="textarea"}function Pi(n,s,o,u){Ni?Oi?Oi.push(u):Oi=[u]:Ni=u,s=qc(s,"onChange"),0<s.length&&(o=new ga("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Bt=null,li=null;function tl(n){v_(n,0)}function sc(n){var s=ei(n);if(Go(s))return n}function jg(n,s){if(n==="change")return s}var zg=!1;if(Hn){var jf;if(Hn){var zf="oninput"in document;if(!zf){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),zf=typeof Bg.oninput=="function"}jf=zf}else jf=!1;zg=jf&&(!document.documentMode||9<document.documentMode)}function Hg(){Bt&&(Bt.detachEvent("onpropertychange",Fg),li=Bt=null)}function Fg(n){if(n.propertyName==="value"&&sc(li)){var s=[];Pi(s,li,n,In(n)),Gu(tl,s)}}function YS(n,s,o){n==="focusin"?(Hg(),Bt=s,li=o,Bt.attachEvent("onpropertychange",Fg)):n==="focusout"&&Hg()}function XS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return sc(li)}function WS(n,s){if(n==="click")return sc(s)}function JS(n,s){if(n==="input"||n==="change")return sc(s)}function ZS(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var vn=typeof Object.is=="function"?Object.is:ZS;function nl(n,s){if(vn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!ss.call(s,f)||!vn(n[f],s[f]))return!1}return!0}function qg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Gg(n,s){var o=qg(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=qg(o)}}function Kg(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Kg(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function $g(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=gs(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=gs(n.document)}return s}function Bf(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var eA=Hn&&"documentMode"in document&&11>=document.documentMode,Aa=null,Hf=null,il=null,Ff=!1;function Qg(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ff||Aa==null||Aa!==gs(u)||(u=Aa,"selectionStart"in u&&Bf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),il&&nl(il,u)||(il=u,u=qc(Hf,"onSelect"),0<u.length&&(s=new ga("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=Aa)))}function Cs(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var wa={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},qf={},Yg={};Hn&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete wa.animationend.animation,delete wa.animationiteration.animation,delete wa.animationstart.animation),"TransitionEvent"in window||delete wa.transitionend.transition);function Is(n){if(qf[n])return qf[n];if(!wa[n])return n;var s=wa[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Yg)return qf[n]=s[o];return n}var Xg=Is("animationend"),Wg=Is("animationiteration"),Jg=Is("animationstart"),tA=Is("transitionrun"),nA=Is("transitionstart"),iA=Is("transitioncancel"),Zg=Is("transitionend"),ey=new Map,Gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gf.push("scrollEnd");function Fn(n,s){ey.set(n,s),Bn(s,[n])}var ty=new WeakMap;function On(n,s){if(typeof n=="object"&&n!==null){var o=ty.get(n);return o!==void 0?o:(s={value:n,source:s,stack:da(s)},ty.set(n,s),s)}return{value:n,source:s,stack:da(s)}}var Dn=[],Ra=0,Kf=0;function ac(){for(var n=Ra,s=Kf=Ra=0;s<n;){var o=Dn[s];Dn[s++]=null;var u=Dn[s];Dn[s++]=null;var f=Dn[s];Dn[s++]=null;var p=Dn[s];if(Dn[s++]=null,u!==null&&f!==null){var E=u.pending;E===null?f.next=f:(f.next=E.next,E.next=f),u.pending=f}p!==0&&ny(o,f,p)}}function oc(n,s,o,u){Dn[Ra++]=n,Dn[Ra++]=s,Dn[Ra++]=o,Dn[Ra++]=u,Kf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function $f(n,s,o,u){return oc(n,s,o,u),lc(n)}function Ca(n,s){return oc(n,null,null,s),lc(n)}function ny(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&s!==null&&(f=31-Yt(o),n=p.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),p):null}function lc(n){if(50<Il)throw Il=0,Zd=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var Ia={};function rA(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(n,s,o,u){return new rA(n,s,o,u)}function Qf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Vi(n,s){var o=n.alternate;return o===null?(o=_n(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function iy(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function uc(n,s,o,u,f,p){var E=0;if(u=n,typeof n=="function")Qf(n)&&(E=1);else if(typeof n=="string")E=aw(n,o,ve.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=_n(31,o,s,f),n.elementType=I,n.lanes=p,n;case x:return xs(o.children,f,p,s);case U:E=8,f|=24;break;case C:return n=_n(12,o,s,f|2),n.elementType=C,n.lanes=p,n;case oe:return n=_n(13,o,s,f),n.elementType=oe,n.lanes=p,n;case pe:return n=_n(19,o,s,f),n.elementType=pe,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case q:case W:E=10;break e;case X:E=9;break e;case ae:E=11;break e;case D:E=14;break e;case R:E=16,u=null;break e}E=29,o=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=_n(E,o,s,f),s.elementType=n,s.type=u,s.lanes=p,s}function xs(n,s,o,u){return n=_n(7,n,u,s),n.lanes=o,n}function Yf(n,s,o){return n=_n(6,n,null,s),n.lanes=o,n}function Xf(n,s,o){return s=_n(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var xa=[],Na=0,cc=null,hc=0,Mn=[],Pn=0,Ns=null,Li=1,ki="";function Os(n,s){xa[Na++]=hc,xa[Na++]=cc,cc=n,hc=s}function ry(n,s,o){Mn[Pn++]=Li,Mn[Pn++]=ki,Mn[Pn++]=Ns,Ns=n;var u=Li;n=ki;var f=32-Yt(u)-1;u&=~(1<<f),o+=1;var p=32-Yt(s)+f;if(30<p){var E=f-f%5;p=(u&(1<<E)-1).toString(32),u>>=E,f-=E,Li=1<<32-Yt(s)+f|o<<f|u,ki=p+n}else Li=1<<p|o<<f|u,ki=n}function Wf(n){n.return!==null&&(Os(n,1),ry(n,1,0))}function Jf(n){for(;n===cc;)cc=xa[--Na],xa[Na]=null,hc=xa[--Na],xa[Na]=null;for(;n===Ns;)Ns=Mn[--Pn],Mn[Pn]=null,ki=Mn[--Pn],Mn[Pn]=null,Li=Mn[--Pn],Mn[Pn]=null}var on=null,ht=null,Ge=!1,Ds=null,ui=!1,Zf=Error(r(519));function Ms(n){var s=Error(r(418,""));throw al(On(s,n)),Zf}function sy(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Rt]=n,s[Et]=u,o){case"dialog":Le("cancel",s),Le("close",s);break;case"iframe":case"object":case"embed":Le("load",s);break;case"video":case"audio":for(o=0;o<Nl.length;o++)Le(Nl[o],s);break;case"source":Le("error",s);break;case"img":case"image":case"link":Le("error",s),Le("load",s);break;case"details":Le("toggle",s);break;case"input":Le("invalid",s),ys(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ma(s);break;case"select":Le("invalid",s);break;case"textarea":Le("invalid",s),vs(s,u.value,u.defaultValue,u.children),ma(s)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||b_(s.textContent,o)?(u.popover!=null&&(Le("beforetoggle",s),Le("toggle",s)),u.onScroll!=null&&Le("scroll",s),u.onScrollEnd!=null&&Le("scrollend",s),u.onClick!=null&&(s.onclick=Gc),s=!0):s=!1,s||Ms(n)}function ay(n){for(on=n.return;on;)switch(on.tag){case 5:case 13:ui=!1;return;case 27:case 3:ui=!0;return;default:on=on.return}}function rl(n){if(n!==on)return!1;if(!Ge)return ay(n),Ge=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||pm(n.type,n.memoizedProps)),o=!o),o&&ht&&Ms(n),ay(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(s===0){ht=Gn(n.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;n=n.nextSibling}ht=null}}else s===27?(s=ht,Ir(n.type)?(n=_m,_m=null,ht=n):ht=s):ht=on?Gn(n.stateNode.nextSibling):null;return!0}function sl(){ht=on=null,Ge=!1}function oy(){var n=Ds;return n!==null&&(hn===null?hn=n:hn.push.apply(hn,n),Ds=null),n}function al(n){Ds===null?Ds=[n]:Ds.push(n)}var ed=ie(null),Ps=null,Ui=null;function dr(n,s,o){se(ed,s._currentValue),s._currentValue=o}function ji(n){n._currentValue=ed.current,ce(ed)}function td(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function nd(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var E=f.child;p=p.firstContext;e:for(;p!==null;){var S=p;p=f;for(var N=0;N<s.length;N++)if(S.context===s[N]){p.lanes|=o,S=p.alternate,S!==null&&(S.lanes|=o),td(p.return,o,n),u||(E=null);break e}p=S.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(r(341));E.lanes|=o,p=E.alternate,p!==null&&(p.lanes|=o),td(E,o,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function ol(n,s,o,u){n=null;for(var f=s,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var S=f.type;vn(f.pendingProps.value,E.value)||(n!==null?n.push(S):n=[S])}}else if(f===Mt.current){if(E=f.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Ll):n=[Ll])}f=f.return}n!==null&&nd(s,n,o,u),s.flags|=262144}function fc(n){for(n=n.firstContext;n!==null;){if(!vn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Vs(n){Ps=n,Ui=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Xt(n){return ly(Ps,n)}function dc(n,s){return Ps===null&&Vs(n),ly(n,s)}function ly(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ui===null){if(n===null)throw Error(r(308));Ui=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Ui=Ui.next=s;return o}var sA=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},aA=i.unstable_scheduleCallback,oA=i.unstable_NormalPriority,xt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function id(){return{controller:new sA,data:new Map,refCount:0}}function ll(n){n.refCount--,n.refCount===0&&aA(oA,function(){n.controller.abort()})}var ul=null,rd=0,Oa=0,Da=null;function lA(n,s){if(ul===null){var o=ul=[];rd=0,Oa=am(),Da={status:"pending",value:void 0,then:function(u){o.push(u)}}}return rd++,s.then(uy,uy),s}function uy(){if(--rd===0&&ul!==null){Da!==null&&(Da.status="fulfilled");var n=ul;ul=null,Oa=0,Da=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function uA(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var cy=Y.S;Y.S=function(n,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&lA(n,s),cy!==null&&cy(n,s)};var Ls=ie(null);function sd(){var n=Ls.current;return n!==null?n:rt.pooledCache}function mc(n,s){s===null?se(Ls,Ls.current):se(Ls,s.pool)}function hy(){var n=sd();return n===null?null:{parent:xt._currentValue,pool:n}}var cl=Error(r(460)),fy=Error(r(474)),pc=Error(r(542)),ad={then:function(){}};function dy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function gc(){}function my(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(gc,gc),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,gy(n),n;default:if(typeof s.status=="string")s.then(gc,gc);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,gy(n),n}throw hl=s,cl}}var hl=null;function py(){if(hl===null)throw Error(r(459));var n=hl;return hl=null,n}function gy(n){if(n===cl||n===pc)throw Error(r(483))}var mr=!1;function od(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ld(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function pr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function gr(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ye&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=lc(n),ny(n,null,o),s}return oc(n,u,s,o),lc(n)}function fl(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,zo(n,o)}}function ud(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=E:p=p.next=E,o=o.next}while(o!==null);p===null?f=p=s:p=p.next=s}else f=p=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var cd=!1;function dl(){if(cd){var n=Da;if(n!==null)throw n}}function ml(n,s,o,u){cd=!1;var f=n.updateQueue;mr=!1;var p=f.firstBaseUpdate,E=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var N=S,F=N.next;N.next=null,E===null?p=F:E.next=F,E=N;var J=n.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==E&&(S===null?J.firstBaseUpdate=F:S.next=F,J.lastBaseUpdate=N))}if(p!==null){var te=f.baseState;E=0,J=F=N=null,S=p;do{var G=S.lane&-536870913,K=G!==S.lane;if(K?(Be&G)===G:(u&G)===G){G!==0&&G===Oa&&(cd=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var be=n,_e=S;G=s;var tt=o;switch(_e.tag){case 1:if(be=_e.payload,typeof be=="function"){te=be.call(tt,te,G);break e}te=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=_e.payload,G=typeof be=="function"?be.call(tt,te,G):be,G==null)break e;te=y({},te,G);break e;case 2:mr=!0}}G=S.callback,G!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[G]:K.push(G))}else K={lane:G,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(F=J=K,N=te):J=J.next=K,E|=G;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;K=S,S=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);J===null&&(N=te),f.baseState=N,f.firstBaseUpdate=F,f.lastBaseUpdate=J,p===null&&(f.shared.lanes=0),Ar|=E,n.lanes=E,n.memoizedState=te}}function yy(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function vy(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)yy(o[n],s)}var Ma=ie(null),yc=ie(0);function _y(n,s){n=Ki,se(yc,n),se(Ma,s),Ki=n|s.baseLanes}function hd(){se(yc,Ki),se(Ma,Ma.current)}function fd(){Ki=yc.current,ce(Ma),ce(yc)}var yr=0,Oe=null,Ze=null,bt=null,vc=!1,Pa=!1,ks=!1,_c=0,pl=0,Va=null,cA=0;function mt(){throw Error(r(321))}function dd(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!vn(n[o],s[o]))return!1;return!0}function md(n,s,o,u,f,p){return yr=p,Oe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Y.H=n===null||n.memoizedState===null?nv:iv,ks=!1,p=o(u,f),ks=!1,Pa&&(p=Ty(s,o,u,f)),Ey(n),p}function Ey(n){Y.H=wc;var s=Ze!==null&&Ze.next!==null;if(yr=0,bt=Ze=Oe=null,vc=!1,pl=0,Va=null,s)throw Error(r(300));n===null||Lt||(n=n.dependencies,n!==null&&fc(n)&&(Lt=!0))}function Ty(n,s,o,u){Oe=n;var f=0;do{if(Pa&&(Va=null),pl=0,Pa=!1,25<=f)throw Error(r(301));if(f+=1,bt=Ze=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Y.H=yA,p=s(o,u)}while(Pa);return p}function hA(){var n=Y.H,s=n.useState()[0];return s=typeof s.then=="function"?gl(s):s,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(Oe.flags|=1024),s}function pd(){var n=_c!==0;return _c=0,n}function gd(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function yd(n){if(vc){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}vc=!1}yr=0,bt=Ze=Oe=null,Pa=!1,pl=_c=0,Va=null}function un(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Oe.memoizedState=bt=n:bt=bt.next=n,bt}function St(){if(Ze===null){var n=Oe.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var s=bt===null?Oe.memoizedState:bt.next;if(s!==null)bt=s,Ze=n;else{if(n===null)throw Oe.alternate===null?Error(r(467)):Error(r(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},bt===null?Oe.memoizedState=bt=n:bt=bt.next=n}return bt}function vd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function gl(n){var s=pl;return pl+=1,Va===null&&(Va=[]),n=my(Va,n,s),s=Oe,(bt===null?s.memoizedState:bt.next)===null&&(s=s.alternate,Y.H=s===null||s.memoizedState===null?nv:iv),n}function Ec(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return gl(n);if(n.$$typeof===W)return Xt(n)}throw Error(r(438,String(n)))}function _d(n){var s=null,o=Oe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Oe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=vd(),Oe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=V;return s.index++,o}function zi(n,s){return typeof s=="function"?s(n):s}function Tc(n){var s=St();return Ed(s,Ze,n)}function Ed(n,s,o){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=n.baseQueue,p=u.pending;if(p!==null){if(f!==null){var E=f.next;f.next=p.next,p.next=E}s.baseQueue=f=p,u.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{s=f.next;var S=E=null,N=null,F=s,J=!1;do{var te=F.lane&-536870913;if(te!==F.lane?(Be&te)===te:(yr&te)===te){var G=F.revertLane;if(G===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),te===Oa&&(J=!0);else if((yr&G)===G){F=F.next,G===Oa&&(J=!0);continue}else te={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(S=N=te,E=p):N=N.next=te,Oe.lanes|=G,Ar|=G;te=F.action,ks&&o(p,te),p=F.hasEagerState?F.eagerState:o(p,te)}else G={lane:te,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(S=N=G,E=p):N=N.next=G,Oe.lanes|=te,Ar|=te;F=F.next}while(F!==null&&F!==s);if(N===null?E=p:N.next=S,!vn(p,n.memoizedState)&&(Lt=!0,J&&(o=Da,o!==null)))throw o;n.memoizedState=p,n.baseState=E,n.baseQueue=N,u.lastRenderedState=p}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Td(n){var s=St(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,p=s.memoizedState;if(f!==null){o.pending=null;var E=f=f.next;do p=n(p,E.action),E=E.next;while(E!==f);vn(p,s.memoizedState)||(Lt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function by(n,s,o){var u=Oe,f=St(),p=Ge;if(p){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!vn((Ze||f).memoizedState,o);E&&(f.memoizedState=o,Lt=!0),f=f.queue;var S=wy.bind(null,u,f,n);if(yl(2048,8,S,[n]),f.getSnapshot!==s||E||bt!==null&&bt.memoizedState.tag&1){if(u.flags|=2048,La(9,bc(),Ay.bind(null,u,f,o,s),null),rt===null)throw Error(r(349));p||(yr&124)!==0||Sy(u,s,o)}return o}function Sy(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Oe.updateQueue,s===null?(s=vd(),Oe.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function Ay(n,s,o,u){s.value=o,s.getSnapshot=u,Ry(s)&&Cy(n)}function wy(n,s,o){return o(function(){Ry(s)&&Cy(n)})}function Ry(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!vn(n,o)}catch{return!0}}function Cy(n){var s=Ca(n,2);s!==null&&An(s,n,2)}function bd(n){var s=un();if(typeof n=="function"){var o=n;if(n=o(),ks){gn(!0);try{o()}finally{gn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:n},s}function Iy(n,s,o,u){return n.baseState=o,Ed(n,Ze,typeof u=="function"?u:zi)}function fA(n,s,o,u,f){if(Ac(n))throw Error(r(485));if(n=s.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){p.listeners.push(E)}};Y.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,xy(s,p)):(p.next=o.next,s.pending=o.next=p)}}function xy(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var p=Y.T,E={};Y.T=E;try{var S=o(f,u),N=Y.S;N!==null&&N(E,S),Ny(n,s,S)}catch(F){Sd(n,s,F)}finally{Y.T=p}}else try{p=o(f,u),Ny(n,s,p)}catch(F){Sd(n,s,F)}}function Ny(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){Oy(n,s,u)},function(u){return Sd(n,s,u)}):Oy(n,s,o)}function Oy(n,s,o){s.status="fulfilled",s.value=o,Dy(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,xy(n,o)))}function Sd(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Dy(s),s=s.next;while(s!==u)}n.action=null}function Dy(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function My(n,s){return s}function Py(n,s){if(Ge){var o=rt.formState;if(o!==null){e:{var u=Oe;if(Ge){if(ht){t:{for(var f=ht,p=ui;f.nodeType!==8;){if(!p){f=null;break t}if(f=Gn(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){ht=Gn(f.nextSibling),u=f.data==="F!";break e}}Ms(u)}u=!1}u&&(s=o[0])}}return o=un(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:My,lastRenderedState:s},o.queue=u,o=Zy.bind(null,Oe,u),u.dispatch=o,u=bd(!1),p=Id.bind(null,Oe,!1,u.queue),u=un(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=fA.bind(null,Oe,f,p,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function Vy(n){var s=St();return Ly(s,Ze,n)}function Ly(n,s,o){if(s=Ed(n,s,My)[0],n=Tc(zi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=gl(s)}catch(E){throw E===cl?pc:E}else u=s;s=St();var f=s.queue,p=f.dispatch;return o!==s.memoizedState&&(Oe.flags|=2048,La(9,bc(),dA.bind(null,f,o),null)),[u,p,n]}function dA(n,s){n.action=s}function ky(n){var s=St(),o=Ze;if(o!==null)return Ly(s,o,n);St(),s=s.memoizedState,o=St();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function La(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Oe.updateQueue,s===null&&(s=vd(),Oe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function bc(){return{destroy:void 0,resource:void 0}}function Uy(){return St().memoizedState}function Sc(n,s,o,u){var f=un();u=u===void 0?null:u,Oe.flags|=n,f.memoizedState=La(1|s,bc(),o,u)}function yl(n,s,o,u){var f=St();u=u===void 0?null:u;var p=f.memoizedState.inst;Ze!==null&&u!==null&&dd(u,Ze.memoizedState.deps)?f.memoizedState=La(s,p,o,u):(Oe.flags|=n,f.memoizedState=La(1|s,p,o,u))}function jy(n,s){Sc(8390656,8,n,s)}function zy(n,s){yl(2048,8,n,s)}function By(n,s){return yl(4,2,n,s)}function Hy(n,s){return yl(4,4,n,s)}function Fy(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function qy(n,s,o){o=o!=null?o.concat([n]):null,yl(4,4,Fy.bind(null,s,n),o)}function Ad(){}function Gy(n,s){var o=St();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&dd(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function Ky(n,s){var o=St();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&dd(s,u[1]))return u[0];if(u=n(),ks){gn(!0);try{n()}finally{gn(!1)}}return o.memoizedState=[u,s],u}function wd(n,s,o){return o===void 0||(yr&1073741824)!==0?n.memoizedState=s:(n.memoizedState=o,n=Yv(),Oe.lanes|=n,Ar|=n,o)}function $y(n,s,o,u){return vn(o,s)?o:Ma.current!==null?(n=wd(n,o,u),vn(n,s)||(Lt=!0),n):(yr&42)===0?(Lt=!0,n.memoizedState=o):(n=Yv(),Oe.lanes|=n,Ar|=n,s)}function Qy(n,s,o,u,f){var p=ue.p;ue.p=p!==0&&8>p?p:8;var E=Y.T,S={};Y.T=S,Id(n,!1,s,o);try{var N=f(),F=Y.S;if(F!==null&&F(S,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var J=uA(N,u);vl(n,s,J,Sn(n))}else vl(n,s,u,Sn(n))}catch(te){vl(n,s,{then:function(){},status:"rejected",reason:te},Sn())}finally{ue.p=p,Y.T=E}}function mA(){}function Rd(n,s,o,u){if(n.tag!==5)throw Error(r(476));var f=Yy(n).queue;Qy(n,f,s,me,o===null?mA:function(){return Xy(n),o(u)})}function Yy(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:me},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zi,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Xy(n){var s=Yy(n).next.queue;vl(n,s,{},Sn())}function Cd(){return Xt(Ll)}function Wy(){return St().memoizedState}function Jy(){return St().memoizedState}function pA(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Sn();n=pr(o);var u=gr(s,n,o);u!==null&&(An(u,s,o),fl(u,s,o)),s={cache:id()},n.payload=s;return}s=s.return}}function gA(n,s,o){var u=Sn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Ac(n)?ev(s,o):(o=$f(n,s,o,u),o!==null&&(An(o,n,u),tv(o,s,u)))}function Zy(n,s,o){var u=Sn();vl(n,s,o,u)}function vl(n,s,o,u){var f={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ac(n))ev(s,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var E=s.lastRenderedState,S=p(E,o);if(f.hasEagerState=!0,f.eagerState=S,vn(S,E))return oc(n,s,f,0),rt===null&&ac(),!1}catch{}finally{}if(o=$f(n,s,f,u),o!==null)return An(o,n,u),tv(o,s,u),!0}return!1}function Id(n,s,o,u){if(u={lane:2,revertLane:am(),action:u,hasEagerState:!1,eagerState:null,next:null},Ac(n)){if(s)throw Error(r(479))}else s=$f(n,o,u,2),s!==null&&An(s,n,2)}function Ac(n){var s=n.alternate;return n===Oe||s!==null&&s===Oe}function ev(n,s){Pa=vc=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function tv(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,zo(n,o)}}var wc={readContext:Xt,use:Ec,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt},nv={readContext:Xt,use:Ec,useCallback:function(n,s){return un().memoizedState=[n,s===void 0?null:s],n},useContext:Xt,useEffect:jy,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Sc(4194308,4,Fy.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Sc(4194308,4,n,s)},useInsertionEffect:function(n,s){Sc(4,2,n,s)},useMemo:function(n,s){var o=un();s=s===void 0?null:s;var u=n();if(ks){gn(!0);try{n()}finally{gn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=un();if(o!==void 0){var f=o(s);if(ks){gn(!0);try{o(s)}finally{gn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=gA.bind(null,Oe,n),[u.memoizedState,n]},useRef:function(n){var s=un();return n={current:n},s.memoizedState=n},useState:function(n){n=bd(n);var s=n.queue,o=Zy.bind(null,Oe,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:Ad,useDeferredValue:function(n,s){var o=un();return wd(o,n,s)},useTransition:function(){var n=bd(!1);return n=Qy.bind(null,Oe,n.queue,!0,!1),un().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Oe,f=un();if(Ge){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),rt===null)throw Error(r(349));(Be&124)!==0||Sy(u,s,o)}f.memoizedState=o;var p={value:o,getSnapshot:s};return f.queue=p,jy(wy.bind(null,u,p,n),[n]),u.flags|=2048,La(9,bc(),Ay.bind(null,u,p,o,s),null),o},useId:function(){var n=un(),s=rt.identifierPrefix;if(Ge){var o=ki,u=Li;o=(u&~(1<<32-Yt(u)-1)).toString(32)+o,s=""+s+"R"+o,o=_c++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=cA++,s=""+s+"r"+o.toString(32)+"";return n.memoizedState=s},useHostTransitionStatus:Cd,useFormState:Py,useActionState:Py,useOptimistic:function(n){var s=un();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Id.bind(null,Oe,!0,o),o.dispatch=s,[n,s]},useMemoCache:_d,useCacheRefresh:function(){return un().memoizedState=pA.bind(null,Oe)}},iv={readContext:Xt,use:Ec,useCallback:Gy,useContext:Xt,useEffect:zy,useImperativeHandle:qy,useInsertionEffect:By,useLayoutEffect:Hy,useMemo:Ky,useReducer:Tc,useRef:Uy,useState:function(){return Tc(zi)},useDebugValue:Ad,useDeferredValue:function(n,s){var o=St();return $y(o,Ze.memoizedState,n,s)},useTransition:function(){var n=Tc(zi)[0],s=St().memoizedState;return[typeof n=="boolean"?n:gl(n),s]},useSyncExternalStore:by,useId:Wy,useHostTransitionStatus:Cd,useFormState:Vy,useActionState:Vy,useOptimistic:function(n,s){var o=St();return Iy(o,Ze,n,s)},useMemoCache:_d,useCacheRefresh:Jy},yA={readContext:Xt,use:Ec,useCallback:Gy,useContext:Xt,useEffect:zy,useImperativeHandle:qy,useInsertionEffect:By,useLayoutEffect:Hy,useMemo:Ky,useReducer:Td,useRef:Uy,useState:function(){return Td(zi)},useDebugValue:Ad,useDeferredValue:function(n,s){var o=St();return Ze===null?wd(o,n,s):$y(o,Ze.memoizedState,n,s)},useTransition:function(){var n=Td(zi)[0],s=St().memoizedState;return[typeof n=="boolean"?n:gl(n),s]},useSyncExternalStore:by,useId:Wy,useHostTransitionStatus:Cd,useFormState:ky,useActionState:ky,useOptimistic:function(n,s){var o=St();return Ze!==null?Iy(o,Ze,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:_d,useCacheRefresh:Jy},ka=null,_l=0;function Rc(n){var s=_l;return _l+=1,ka===null&&(ka=[]),my(ka,n,s)}function El(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Cc(n,s){throw s.$$typeof===T?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function rv(n){var s=n._init;return s(n._payload)}function sv(n){function s(z,k){if(n){var H=z.deletions;H===null?(z.deletions=[k],z.flags|=16):H.push(k)}}function o(z,k){if(!n)return null;for(;k!==null;)s(z,k),k=k.sibling;return null}function u(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function f(z,k){return z=Vi(z,k),z.index=0,z.sibling=null,z}function p(z,k,H){return z.index=H,n?(H=z.alternate,H!==null?(H=H.index,H<k?(z.flags|=67108866,k):H):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function E(z){return n&&z.alternate===null&&(z.flags|=67108866),z}function S(z,k,H,Z){return k===null||k.tag!==6?(k=Yf(H,z.mode,Z),k.return=z,k):(k=f(k,H),k.return=z,k)}function N(z,k,H,Z){var de=H.type;return de===x?J(z,k,H.props.children,Z,H.key):k!==null&&(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&rv(de)===k.type)?(k=f(k,H.props),El(k,H),k.return=z,k):(k=uc(H.type,H.key,H.props,null,z.mode,Z),El(k,H),k.return=z,k)}function F(z,k,H,Z){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=Xf(H,z.mode,Z),k.return=z,k):(k=f(k,H.children||[]),k.return=z,k)}function J(z,k,H,Z,de){return k===null||k.tag!==7?(k=xs(H,z.mode,Z,de),k.return=z,k):(k=f(k,H),k.return=z,k)}function te(z,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=Yf(""+k,z.mode,H),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case A:return H=uc(k.type,k.key,k.props,null,z.mode,H),El(H,k),H.return=z,H;case M:return k=Xf(k,z.mode,H),k.return=z,k;case R:var Z=k._init;return k=Z(k._payload),te(z,k,H)}if(Fe(k)||j(k))return k=xs(k,z.mode,H,null),k.return=z,k;if(typeof k.then=="function")return te(z,Rc(k),H);if(k.$$typeof===W)return te(z,dc(z,k),H);Cc(z,k)}return null}function G(z,k,H,Z){var de=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return de!==null?null:S(z,k,""+H,Z);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case A:return H.key===de?N(z,k,H,Z):null;case M:return H.key===de?F(z,k,H,Z):null;case R:return de=H._init,H=de(H._payload),G(z,k,H,Z)}if(Fe(H)||j(H))return de!==null?null:J(z,k,H,Z,null);if(typeof H.then=="function")return G(z,k,Rc(H),Z);if(H.$$typeof===W)return G(z,k,dc(z,H),Z);Cc(z,H)}return null}function K(z,k,H,Z,de){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return z=z.get(H)||null,S(k,z,""+Z,de);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case A:return z=z.get(Z.key===null?H:Z.key)||null,N(k,z,Z,de);case M:return z=z.get(Z.key===null?H:Z.key)||null,F(k,z,Z,de);case R:var Pe=Z._init;return Z=Pe(Z._payload),K(z,k,H,Z,de)}if(Fe(Z)||j(Z))return z=z.get(H)||null,J(k,z,Z,de,null);if(typeof Z.then=="function")return K(z,k,H,Rc(Z),de);if(Z.$$typeof===W)return K(z,k,H,dc(k,Z),de);Cc(k,Z)}return null}function be(z,k,H,Z){for(var de=null,Pe=null,ge=k,Ee=k=0,Ut=null;ge!==null&&Ee<H.length;Ee++){ge.index>Ee?(Ut=ge,ge=null):Ut=ge.sibling;var qe=G(z,ge,H[Ee],Z);if(qe===null){ge===null&&(ge=Ut);break}n&&ge&&qe.alternate===null&&s(z,ge),k=p(qe,k,Ee),Pe===null?de=qe:Pe.sibling=qe,Pe=qe,ge=Ut}if(Ee===H.length)return o(z,ge),Ge&&Os(z,Ee),de;if(ge===null){for(;Ee<H.length;Ee++)ge=te(z,H[Ee],Z),ge!==null&&(k=p(ge,k,Ee),Pe===null?de=ge:Pe.sibling=ge,Pe=ge);return Ge&&Os(z,Ee),de}for(ge=u(ge);Ee<H.length;Ee++)Ut=K(ge,z,Ee,H[Ee],Z),Ut!==null&&(n&&Ut.alternate!==null&&ge.delete(Ut.key===null?Ee:Ut.key),k=p(Ut,k,Ee),Pe===null?de=Ut:Pe.sibling=Ut,Pe=Ut);return n&&ge.forEach(function(Mr){return s(z,Mr)}),Ge&&Os(z,Ee),de}function _e(z,k,H,Z){if(H==null)throw Error(r(151));for(var de=null,Pe=null,ge=k,Ee=k=0,Ut=null,qe=H.next();ge!==null&&!qe.done;Ee++,qe=H.next()){ge.index>Ee?(Ut=ge,ge=null):Ut=ge.sibling;var Mr=G(z,ge,qe.value,Z);if(Mr===null){ge===null&&(ge=Ut);break}n&&ge&&Mr.alternate===null&&s(z,ge),k=p(Mr,k,Ee),Pe===null?de=Mr:Pe.sibling=Mr,Pe=Mr,ge=Ut}if(qe.done)return o(z,ge),Ge&&Os(z,Ee),de;if(ge===null){for(;!qe.done;Ee++,qe=H.next())qe=te(z,qe.value,Z),qe!==null&&(k=p(qe,k,Ee),Pe===null?de=qe:Pe.sibling=qe,Pe=qe);return Ge&&Os(z,Ee),de}for(ge=u(ge);!qe.done;Ee++,qe=H.next())qe=K(ge,z,Ee,qe.value,Z),qe!==null&&(n&&qe.alternate!==null&&ge.delete(qe.key===null?Ee:qe.key),k=p(qe,k,Ee),Pe===null?de=qe:Pe.sibling=qe,Pe=qe);return n&&ge.forEach(function(vw){return s(z,vw)}),Ge&&Os(z,Ee),de}function tt(z,k,H,Z){if(typeof H=="object"&&H!==null&&H.type===x&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case A:e:{for(var de=H.key;k!==null;){if(k.key===de){if(de=H.type,de===x){if(k.tag===7){o(z,k.sibling),Z=f(k,H.props.children),Z.return=z,z=Z;break e}}else if(k.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&rv(de)===k.type){o(z,k.sibling),Z=f(k,H.props),El(Z,H),Z.return=z,z=Z;break e}o(z,k);break}else s(z,k);k=k.sibling}H.type===x?(Z=xs(H.props.children,z.mode,Z,H.key),Z.return=z,z=Z):(Z=uc(H.type,H.key,H.props,null,z.mode,Z),El(Z,H),Z.return=z,z=Z)}return E(z);case M:e:{for(de=H.key;k!==null;){if(k.key===de)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){o(z,k.sibling),Z=f(k,H.children||[]),Z.return=z,z=Z;break e}else{o(z,k);break}else s(z,k);k=k.sibling}Z=Xf(H,z.mode,Z),Z.return=z,z=Z}return E(z);case R:return de=H._init,H=de(H._payload),tt(z,k,H,Z)}if(Fe(H))return be(z,k,H,Z);if(j(H)){if(de=j(H),typeof de!="function")throw Error(r(150));return H=de.call(H),_e(z,k,H,Z)}if(typeof H.then=="function")return tt(z,k,Rc(H),Z);if(H.$$typeof===W)return tt(z,k,dc(z,H),Z);Cc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(o(z,k.sibling),Z=f(k,H),Z.return=z,z=Z):(o(z,k),Z=Yf(H,z.mode,Z),Z.return=z,z=Z),E(z)):o(z,k)}return function(z,k,H,Z){try{_l=0;var de=tt(z,k,H,Z);return ka=null,de}catch(ge){if(ge===cl||ge===pc)throw ge;var Pe=_n(29,ge,null,z.mode);return Pe.lanes=Z,Pe.return=z,Pe}finally{}}}var Ua=sv(!0),av=sv(!1),Vn=ie(null),ci=null;function vr(n){var s=n.alternate;se(Nt,Nt.current&1),se(Vn,n),ci===null&&(s===null||Ma.current!==null||s.memoizedState!==null)&&(ci=n)}function ov(n){if(n.tag===22){if(se(Nt,Nt.current),se(Vn,n),ci===null){var s=n.alternate;s!==null&&s.memoizedState!==null&&(ci=n)}}else _r()}function _r(){se(Nt,Nt.current),se(Vn,Vn.current)}function Bi(n){ce(Vn),ci===n&&(ci=null),ce(Nt)}var Nt=ie(0);function Ic(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||vm(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function xd(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Nd={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Sn(),f=pr(u);f.payload=s,o!=null&&(f.callback=o),s=gr(n,f,u),s!==null&&(An(s,n,u),fl(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Sn(),f=pr(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=gr(n,f,u),s!==null&&(An(s,n,u),fl(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Sn(),u=pr(o);u.tag=2,s!=null&&(u.callback=s),s=gr(n,u,o),s!==null&&(An(s,n,o),fl(s,n,o))}};function lv(n,s,o,u,f,p,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,E):s.prototype&&s.prototype.isPureReactComponent?!nl(o,u)||!nl(f,p):!0}function uv(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Nd.enqueueReplaceState(s,s.state,null)}function Us(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=y({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var xc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function cv(n){xc(n)}function hv(n){console.error(n)}function fv(n){xc(n)}function Nc(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function dv(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Od(n,s,o){return o=pr(o),o.tag=3,o.payload={element:null},o.callback=function(){Nc(n,s)},o}function mv(n){return n=pr(n),n.tag=3,n}function pv(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;n.payload=function(){return f(p)},n.callback=function(){dv(s,o,u)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){dv(s,o,u),typeof f!="function"&&(wr===null?wr=new Set([this]):wr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function vA(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&ol(s,o,f,!0),o=Vn.current,o!==null){switch(o.tag){case 13:return ci===null?tm():o.alternate===null&&ft===0&&(ft=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===ad?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),im(n,u,f)),!1;case 22:return o.flags|=65536,u===ad?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),im(n,u,f)),!1}throw Error(r(435,o.tag))}return im(n,u,f),tm(),!1}if(Ge)return s=Vn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Zf&&(n=Error(r(422),{cause:u}),al(On(n,o)))):(u!==Zf&&(s=Error(r(423),{cause:u}),al(On(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=On(u,o),f=Od(n.stateNode,u,f),ud(n,f),ft!==4&&(ft=2)),!1;var p=Error(r(520),{cause:u});if(p=On(p,o),Cl===null?Cl=[p]:Cl.push(p),ft!==4&&(ft=2),s===null)return!0;u=On(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Od(o.stateNode,u,n),ud(o,n),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(wr===null||!wr.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=mv(f),pv(f,n,o,u),ud(o,f),!1}o=o.return}while(o!==null);return!1}var gv=Error(r(461)),Lt=!1;function Ht(n,s,o,u){s.child=n===null?av(s,null,o,u):Ua(s,n.child,o,u)}function yv(n,s,o,u,f){o=o.render;var p=s.ref;if("ref"in u){var E={};for(var S in u)S!=="ref"&&(E[S]=u[S])}else E=u;return Vs(s),u=md(n,s,o,E,p,f),S=pd(),n!==null&&!Lt?(gd(n,s,f),Hi(n,s,f)):(Ge&&S&&Wf(s),s.flags|=1,Ht(n,s,u,f),s.child)}function vv(n,s,o,u,f){if(n===null){var p=o.type;return typeof p=="function"&&!Qf(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,_v(n,s,p,u,f)):(n=uc(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!jd(n,f)){var E=p.memoizedProps;if(o=o.compare,o=o!==null?o:nl,o(E,u)&&n.ref===s.ref)return Hi(n,s,f)}return s.flags|=1,n=Vi(p,u),n.ref=s.ref,n.return=s,s.child=n}function _v(n,s,o,u,f){if(n!==null){var p=n.memoizedProps;if(nl(p,u)&&n.ref===s.ref)if(Lt=!1,s.pendingProps=u=p,jd(n,f))(n.flags&131072)!==0&&(Lt=!0);else return s.lanes=n.lanes,Hi(n,s,f)}return Dd(n,s,o,u,f)}function Ev(n,s,o){var u=s.pendingProps,f=u.children,p=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,n!==null){for(f=s.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;s.childLanes=p&~u}else s.childLanes=0,s.child=null;return Tv(n,s,u,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&mc(s,p!==null?p.cachePool:null),p!==null?_y(s,p):hd(),ov(s);else return s.lanes=s.childLanes=536870912,Tv(n,s,p!==null?p.baseLanes|o:o,o)}else p!==null?(mc(s,p.cachePool),_y(s,p),_r(),s.memoizedState=null):(n!==null&&mc(s,null),hd(),_r());return Ht(n,s,f,o),s.child}function Tv(n,s,o,u){var f=sd();return f=f===null?null:{parent:xt._currentValue,pool:f},s.memoizedState={baseLanes:o,cachePool:f},n!==null&&mc(s,null),hd(),ov(s),n!==null&&ol(n,s,u,!0),null}function Oc(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Dd(n,s,o,u,f){return Vs(s),o=md(n,s,o,u,void 0,f),u=pd(),n!==null&&!Lt?(gd(n,s,f),Hi(n,s,f)):(Ge&&u&&Wf(s),s.flags|=1,Ht(n,s,o,f),s.child)}function bv(n,s,o,u,f,p){return Vs(s),s.updateQueue=null,o=Ty(s,u,o,f),Ey(n),u=pd(),n!==null&&!Lt?(gd(n,s,p),Hi(n,s,p)):(Ge&&u&&Wf(s),s.flags|=1,Ht(n,s,o,p),s.child)}function Sv(n,s,o,u,f){if(Vs(s),s.stateNode===null){var p=Ia,E=o.contextType;typeof E=="object"&&E!==null&&(p=Xt(E)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Nd,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},od(s),E=o.contextType,p.context=typeof E=="object"&&E!==null?Xt(E):Ia,p.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(xd(s,o,E,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(E=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),E!==p.state&&Nd.enqueueReplaceState(p,p.state,null),ml(s,u,p,f),dl(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){p=s.stateNode;var S=s.memoizedProps,N=Us(o,S);p.props=N;var F=p.context,J=o.contextType;E=Ia,typeof J=="object"&&J!==null&&(E=Xt(J));var te=o.getDerivedStateFromProps;J=typeof te=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=s.pendingProps!==S,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||F!==E)&&uv(s,p,u,E),mr=!1;var G=s.memoizedState;p.state=G,ml(s,u,p,f),dl(),F=s.memoizedState,S||G!==F||mr?(typeof te=="function"&&(xd(s,o,te,u),F=s.memoizedState),(N=mr||lv(s,o,N,u,G,F,E))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=F),p.props=u,p.state=F,p.context=E,u=N):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,ld(n,s),E=s.memoizedProps,J=Us(o,E),p.props=J,te=s.pendingProps,G=p.context,F=o.contextType,N=Ia,typeof F=="object"&&F!==null&&(N=Xt(F)),S=o.getDerivedStateFromProps,(F=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E!==te||G!==N)&&uv(s,p,u,N),mr=!1,G=s.memoizedState,p.state=G,ml(s,u,p,f),dl();var K=s.memoizedState;E!==te||G!==K||mr||n!==null&&n.dependencies!==null&&fc(n.dependencies)?(typeof S=="function"&&(xd(s,o,S,u),K=s.memoizedState),(J=mr||lv(s,o,J,u,G,K,N)||n!==null&&n.dependencies!==null&&fc(n.dependencies))?(F||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,K,N),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,K,N)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=K),p.props=u,p.state=K,p.context=N,u=J):(typeof p.componentDidUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&G===n.memoizedState||(s.flags|=1024),u=!1)}return p=u,Oc(n,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&u?(s.child=Ua(s,n.child,null,f),s.child=Ua(s,null,o,f)):Ht(n,s,o,f),s.memoizedState=p.state,n=s.child):n=Hi(n,s,f),n}function Av(n,s,o,u){return sl(),s.flags|=256,Ht(n,s,o,u),s.child}var Md={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pd(n){return{baseLanes:n,cachePool:hy()}}function Vd(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Ln),n}function wv(n,s,o){var u=s.pendingProps,f=!1,p=(s.flags&128)!==0,E;if((E=p)||(E=n!==null&&n.memoizedState===null?!1:(Nt.current&2)!==0),E&&(f=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ge){if(f?vr(s):_r(),Ge){var S=ht,N;if(N=S){e:{for(N=S,S=ui;N.nodeType!==8;){if(!S){S=null;break e}if(N=Gn(N.nextSibling),N===null){S=null;break e}}S=N}S!==null?(s.memoizedState={dehydrated:S,treeContext:Ns!==null?{id:Li,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},N=_n(18,null,null,0),N.stateNode=S,N.return=s,s.child=N,on=s,ht=null,N=!0):N=!1}N||Ms(s)}if(S=s.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return vm(S)?s.lanes=32:s.lanes=536870912,null;Bi(s)}return S=u.children,u=u.fallback,f?(_r(),f=s.mode,S=Dc({mode:"hidden",children:S},f),u=xs(u,f,o,null),S.return=s,u.return=s,S.sibling=u,s.child=S,f=s.child,f.memoizedState=Pd(o),f.childLanes=Vd(n,E,o),s.memoizedState=Md,u):(vr(s),Ld(s,S))}if(N=n.memoizedState,N!==null&&(S=N.dehydrated,S!==null)){if(p)s.flags&256?(vr(s),s.flags&=-257,s=kd(n,s,o)):s.memoizedState!==null?(_r(),s.child=n.child,s.flags|=128,s=null):(_r(),f=u.fallback,S=s.mode,u=Dc({mode:"visible",children:u.children},S),f=xs(f,S,o,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,Ua(s,n.child,null,o),u=s.child,u.memoizedState=Pd(o),u.childLanes=Vd(n,E,o),s.memoizedState=Md,s=f);else if(vr(s),vm(S)){if(E=S.nextSibling&&S.nextSibling.dataset,E)var F=E.dgst;E=F,u=Error(r(419)),u.stack="",u.digest=E,al({value:u,source:null,stack:null}),s=kd(n,s,o)}else if(Lt||ol(n,s,o,!1),E=(o&n.childLanes)!==0,Lt||E){if(E=rt,E!==null&&(u=o&-o,u=(u&42)!==0?1:ar(u),u=(u&(E.suspendedLanes|o))!==0?0:u,u!==0&&u!==N.retryLane))throw N.retryLane=u,Ca(n,u),An(E,n,u),gv;S.data==="$?"||tm(),s=kd(n,s,o)}else S.data==="$?"?(s.flags|=192,s.child=n.child,s=null):(n=N.treeContext,ht=Gn(S.nextSibling),on=s,Ge=!0,Ds=null,ui=!1,n!==null&&(Mn[Pn++]=Li,Mn[Pn++]=ki,Mn[Pn++]=Ns,Li=n.id,ki=n.overflow,Ns=s),s=Ld(s,u.children),s.flags|=4096);return s}return f?(_r(),f=u.fallback,S=s.mode,N=n.child,F=N.sibling,u=Vi(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,F!==null?f=Vi(F,f):(f=xs(f,S,o,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,S=n.child.memoizedState,S===null?S=Pd(o):(N=S.cachePool,N!==null?(F=xt._currentValue,N=N.parent!==F?{parent:F,pool:F}:N):N=hy(),S={baseLanes:S.baseLanes|o,cachePool:N}),f.memoizedState=S,f.childLanes=Vd(n,E,o),s.memoizedState=Md,u):(vr(s),o=n.child,n=o.sibling,o=Vi(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(E=s.deletions,E===null?(s.deletions=[n],s.flags|=16):E.push(n)),s.child=o,s.memoizedState=null,o)}function Ld(n,s){return s=Dc({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Dc(n,s){return n=_n(22,n,null,s),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function kd(n,s,o){return Ua(s,n.child,null,o),n=Ld(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function Rv(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),td(n.return,s,o)}function Ud(n,s,o,u,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=f)}function Cv(n,s,o){var u=s.pendingProps,f=u.revealOrder,p=u.tail;if(Ht(n,s,u.children,o),u=Nt.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Rv(n,o,s);else if(n.tag===19)Rv(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(se(Nt,u),f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&Ic(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Ud(s,!1,f,o,p);break;case"backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Ic(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Ud(s,!0,o,null,p);break;case"together":Ud(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Hi(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Ar|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(ol(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=Vi(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Vi(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function jd(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&fc(n)))}function _A(n,s,o){switch(s.tag){case 3:it(s,s.stateNode.containerInfo),dr(s,xt,n.memoizedState.cache),sl();break;case 27:case 5:sr(s);break;case 4:it(s,s.stateNode.containerInfo);break;case 10:dr(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(vr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?wv(n,s,o):(vr(s),n=Hi(n,s,o),n!==null?n.sibling:null);vr(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(ol(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return Cv(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),se(Nt,Nt.current),u)break;return null;case 22:case 23:return s.lanes=0,Ev(n,s,o);case 24:dr(s,xt,n.memoizedState.cache)}return Hi(n,s,o)}function Iv(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Lt=!0;else{if(!jd(n,o)&&(s.flags&128)===0)return Lt=!1,_A(n,s,o);Lt=(n.flags&131072)!==0}else Lt=!1,Ge&&(s.flags&1048576)!==0&&ry(s,hc,s.index);switch(s.lanes=0,s.tag){case 16:e:{n=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")Qf(u)?(n=Us(u,n),s.tag=1,s=Sv(null,s,u,n,o)):(s.tag=0,s=Dd(null,s,u,n,o));else{if(u!=null){if(f=u.$$typeof,f===ae){s.tag=11,s=yv(null,s,u,n,o);break e}else if(f===D){s.tag=14,s=vv(null,s,u,n,o);break e}}throw s=We(u)||u,Error(r(306,s,""))}}return s;case 0:return Dd(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=Us(u,s.pendingProps),Sv(n,s,u,f,o);case 3:e:{if(it(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var p=s.memoizedState;f=p.element,ld(n,s),ml(s,u,null,o);var E=s.memoizedState;if(u=E.cache,dr(s,xt,u),u!==p.cache&&nd(s,[xt],o,!0),dl(),u=E.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=Av(n,s,u,o);break e}else if(u!==f){f=On(Error(r(424)),s),al(f),s=Av(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ht=Gn(n.firstChild),on=s,Ge=!0,Ds=null,ui=!0,o=av(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(sl(),u===f){s=Hi(n,s,o);break e}Ht(n,s,u,o)}s=s.child}return s;case 26:return Oc(n,s),n===null?(o=D_(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ge||(o=s.type,n=s.pendingProps,u=Kc(Ae.current).createElement(o),u[Rt]=s,u[Et]=n,qt(u,o,n),dt(u),s.stateNode=u):s.memoizedState=D_(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return sr(s),n===null&&Ge&&(u=s.stateNode=x_(s.type,s.pendingProps,Ae.current),on=s,ui=!0,f=ht,Ir(s.type)?(_m=f,ht=Gn(u.firstChild)):ht=f),Ht(n,s,s.pendingProps.children,o),Oc(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ge&&((f=u=ht)&&(u=$A(u,s.type,s.pendingProps,ui),u!==null?(s.stateNode=u,on=s,ht=Gn(u.firstChild),ui=!1,f=!0):f=!1),f||Ms(s)),sr(s),f=s.type,p=s.pendingProps,E=n!==null?n.memoizedProps:null,u=p.children,pm(f,p)?u=null:E!==null&&pm(f,E)&&(s.flags|=32),s.memoizedState!==null&&(f=md(n,s,hA,null,null,o),Ll._currentValue=f),Oc(n,s),Ht(n,s,u,o),s.child;case 6:return n===null&&Ge&&((n=o=ht)&&(o=QA(o,s.pendingProps,ui),o!==null?(s.stateNode=o,on=s,ht=null,n=!0):n=!1),n||Ms(s)),null;case 13:return wv(n,s,o);case 4:return it(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=Ua(s,null,u,o):Ht(n,s,u,o),s.child;case 11:return yv(n,s,s.type,s.pendingProps,o);case 7:return Ht(n,s,s.pendingProps,o),s.child;case 8:return Ht(n,s,s.pendingProps.children,o),s.child;case 12:return Ht(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,dr(s,s.type,u.value),Ht(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,Vs(s),f=Xt(f),u=u(f),s.flags|=1,Ht(n,s,u,o),s.child;case 14:return vv(n,s,s.type,s.pendingProps,o);case 15:return _v(n,s,s.type,s.pendingProps,o);case 19:return Cv(n,s,o);case 31:return u=s.pendingProps,o=s.mode,u={mode:u.mode,children:u.children},n===null?(o=Dc(u,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Vi(n.child,u),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Ev(n,s,o);case 24:return Vs(s),u=Xt(xt),n===null?(f=sd(),f===null&&(f=rt,p=id(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),s.memoizedState={parent:u,cache:f},od(s),dr(s,xt,f)):((n.lanes&o)!==0&&(ld(n,s),ml(s,null,null,o),dl()),f=n.memoizedState,p=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),dr(s,xt,u)):(u=p.cache,dr(s,xt,u),u!==f.cache&&nd(s,[xt],o,!0))),Ht(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Fi(n){n.flags|=4}function xv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!k_(s)){if(s=Vn.current,s!==null&&((Be&4194048)===Be?ci!==null:(Be&62914560)!==Be&&(Be&536870912)===0||s!==ci))throw hl=ad,fy;n.flags|=8192}}function Mc(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Uo():536870912,n.lanes|=s,Ha|=s)}function Tl(n,s){if(!Ge)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function lt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function EA(n,s,o){var u=s.pendingProps;switch(Jf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(s),null;case 1:return lt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ji(xt),Wn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(rl(s)?Fi(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,oy())),lt(s),null;case 26:return o=s.memoizedState,n===null?(Fi(s),o!==null?(lt(s),xv(s,o)):(lt(s),s.flags&=-16777217)):o?o!==n.memoizedState?(Fi(s),lt(s),xv(s,o)):(lt(s),s.flags&=-16777217):(n.memoizedProps!==u&&Fi(s),lt(s),s.flags&=-16777217),null;case 27:bi(s),o=Ae.current;var f=s.type;if(n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Fi(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return lt(s),null}n=ve.current,rl(s)?sy(s):(n=x_(f,u,o),s.stateNode=n,Fi(s))}return lt(s),null;case 5:if(bi(s),o=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&Fi(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return lt(s),null}if(n=ve.current,rl(s))sy(s);else{switch(f=Kc(Ae.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(o,{is:u.is}):f.createElement(o)}}n[Rt]=s,n[Et]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=n;e:switch(qt(n,o,u),o){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Fi(s)}}return lt(s),s.flags&=-16777217,null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&Fi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=Ae.current,rl(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=on,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Rt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||b_(n.nodeValue,o)),n||Ms(s)}else n=Kc(n).createTextNode(u),n[Rt]=s,s.stateNode=n}return lt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=rl(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Rt]=s}else sl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;lt(s),f=!1}else f=oy(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Bi(s),s):(Bi(s),null)}if(Bi(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=u!==null,n=n!==null&&n.memoizedState!==null,o){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return o!==n&&o&&(s.child.flags|=8192),Mc(s,s.updateQueue),lt(s),null;case 4:return Wn(),n===null&&cm(s.stateNode.containerInfo),lt(s),null;case 10:return ji(s.type),lt(s),null;case 19:if(ce(Nt),f=s.memoizedState,f===null)return lt(s),null;if(u=(s.flags&128)!==0,p=f.rendering,p===null)if(u)Tl(f,!1);else{if(ft!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=Ic(n),p!==null){for(s.flags|=128,Tl(f,!1),n=p.updateQueue,s.updateQueue=n,Mc(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)iy(o,n),o=o.sibling;return se(Nt,Nt.current&1|2),s.child}n=n.sibling}f.tail!==null&&wn()>Lc&&(s.flags|=128,u=!0,Tl(f,!1),s.lanes=4194304)}else{if(!u)if(n=Ic(p),n!==null){if(s.flags|=128,u=!0,n=n.updateQueue,s.updateQueue=n,Mc(s,n),Tl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Ge)return lt(s),null}else 2*wn()-f.renderingStartTime>Lc&&o!==536870912&&(s.flags|=128,u=!0,Tl(f,!1),s.lanes=4194304);f.isBackwards?(p.sibling=s.child,s.child=p):(n=f.last,n!==null?n.sibling=p:s.child=p,f.last=p)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=wn(),s.sibling=null,n=Nt.current,se(Nt,u?n&1|2:n&1),s):(lt(s),null);case 22:case 23:return Bi(s),fd(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(lt(s),s.subtreeFlags&6&&(s.flags|=8192)):lt(s),o=s.updateQueue,o!==null&&Mc(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&ce(Ls),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),ji(xt),lt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function TA(n,s){switch(Jf(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return ji(xt),Wn(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return bi(s),null;case 13:if(Bi(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));sl()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return ce(Nt),null;case 4:return Wn(),null;case 10:return ji(s.type),null;case 22:case 23:return Bi(s),fd(),n!==null&&ce(Ls),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return ji(xt),null;case 25:return null;default:return null}}function Nv(n,s){switch(Jf(s),s.tag){case 3:ji(xt),Wn();break;case 26:case 27:case 5:bi(s);break;case 4:Wn();break;case 13:Bi(s);break;case 19:ce(Nt);break;case 10:ji(s.type);break;case 22:case 23:Bi(s),fd(),n!==null&&ce(Ls);break;case 24:ji(xt)}}function bl(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var p=o.create,E=o.inst;u=p(),E.destroy=u}o=o.next}while(o!==f)}}catch(S){nt(s,s.return,S)}}function Er(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&n)===n){var E=u.inst,S=E.destroy;if(S!==void 0){E.destroy=void 0,f=s;var N=o,F=S;try{F()}catch(J){nt(f,N,J)}}}u=u.next}while(u!==p)}}catch(J){nt(s,s.return,J)}}function Ov(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{vy(s,o)}catch(u){nt(n,n.return,u)}}}function Dv(n,s,o){o.props=Us(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){nt(n,s,u)}}function Sl(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){nt(n,s,f)}}function hi(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){nt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){nt(n,s,f)}else o.current=null}function Mv(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){nt(n,n.return,f)}}function zd(n,s,o){try{var u=n.stateNode;HA(u,n.type,o,s),u[Et]=s}catch(f){nt(n,n.return,f)}}function Pv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ir(n.type)||n.tag===4}function Bd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Pv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ir(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hd(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Gc));else if(u!==4&&(u===27&&Ir(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Hd(n,s,o),n=n.sibling;n!==null;)Hd(n,s,o),n=n.sibling}function Pc(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&Ir(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Pc(n,s,o),n=n.sibling;n!==null;)Pc(n,s,o),n=n.sibling}function Vv(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);qt(s,u,o),s[Rt]=n,s[Et]=o}catch(p){nt(n,n.return,p)}}var qi=!1,pt=!1,Fd=!1,Lv=typeof WeakSet=="function"?WeakSet:Set,kt=null;function bA(n,s){if(n=n.containerInfo,dm=Jc,n=$g(n),Bf(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var E=0,S=-1,N=-1,F=0,J=0,te=n,G=null;t:for(;;){for(var K;te!==o||f!==0&&te.nodeType!==3||(S=E+f),te!==p||u!==0&&te.nodeType!==3||(N=E+u),te.nodeType===3&&(E+=te.nodeValue.length),(K=te.firstChild)!==null;)G=te,te=K;for(;;){if(te===n)break t;if(G===o&&++F===f&&(S=E),G===p&&++J===u&&(N=E),(K=te.nextSibling)!==null)break;te=G,G=te.parentNode}te=K}o=S===-1||N===-1?null:{start:S,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(mm={focusedElem:n,selectionRange:o},Jc=!1,kt=s;kt!==null;)if(s=kt,n=s.child,(s.subtreeFlags&1024)!==0&&n!==null)n.return=s,kt=n;else for(;kt!==null;){switch(s=kt,p=s.alternate,n=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=s,f=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var be=Us(o.type,f,o.elementType===o.type);n=u.getSnapshotBeforeUpdate(be,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(_e){nt(o,o.return,_e)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)ym(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":ym(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,kt=n;break}kt=s.return}}function kv(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:Tr(n,o),u&4&&bl(5,o);break;case 1:if(Tr(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(E){nt(o,o.return,E)}else{var f=Us(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(E){nt(o,o.return,E)}}u&64&&Ov(o),u&512&&Sl(o,o.return);break;case 3:if(Tr(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{vy(n,s)}catch(E){nt(o,o.return,E)}}break;case 27:s===null&&u&4&&Vv(o);case 26:case 5:Tr(n,o),s===null&&u&4&&Mv(o),u&512&&Sl(o,o.return);break;case 12:Tr(n,o);break;case 13:Tr(n,o),u&4&&zv(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=OA.bind(null,o),YA(n,o))));break;case 22:if(u=o.memoizedState!==null||qi,!u){s=s!==null&&s.memoizedState!==null||pt,f=qi;var p=pt;qi=u,(pt=s)&&!p?br(n,o,(o.subtreeFlags&8772)!==0):Tr(n,o),qi=f,pt=p}break;case 30:break;default:Tr(n,o)}}function Uv(n){var s=n.alternate;s!==null&&(n.alternate=null,Uv(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&ur(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ot=null,cn=!1;function Gi(n,s,o){for(o=o.child;o!==null;)jv(n,s,o),o=o.sibling}function jv(n,s,o){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(ct,o)}catch{}switch(o.tag){case 26:pt||hi(o,s),Gi(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:pt||hi(o,s);var u=ot,f=cn;Ir(o.type)&&(ot=o.stateNode,cn=!1),Gi(n,s,o),Dl(o.stateNode),ot=u,cn=f;break;case 5:pt||hi(o,s);case 6:if(u=ot,f=cn,ot=null,Gi(n,s,o),ot=u,cn=f,ot!==null)if(cn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(o.stateNode)}catch(p){nt(o,s,p)}else try{ot.removeChild(o.stateNode)}catch(p){nt(o,s,p)}break;case 18:ot!==null&&(cn?(n=ot,C_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),zl(n)):C_(ot,o.stateNode));break;case 4:u=ot,f=cn,ot=o.stateNode.containerInfo,cn=!0,Gi(n,s,o),ot=u,cn=f;break;case 0:case 11:case 14:case 15:pt||Er(2,o,s),pt||Er(4,o,s),Gi(n,s,o);break;case 1:pt||(hi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Dv(o,s,u)),Gi(n,s,o);break;case 21:Gi(n,s,o);break;case 22:pt=(u=pt)||o.memoizedState!==null,Gi(n,s,o),pt=u;break;default:Gi(n,s,o)}}function zv(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{zl(n)}catch(o){nt(s,s.return,o)}}function SA(n){switch(n.tag){case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Lv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Lv),s;default:throw Error(r(435,n.tag))}}function qd(n,s){var o=SA(n);s.forEach(function(u){var f=DA.bind(null,n,u);o.has(u)||(o.add(u),u.then(f,f))})}function En(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],p=n,E=s,S=E;e:for(;S!==null;){switch(S.tag){case 27:if(Ir(S.type)){ot=S.stateNode,cn=!1;break e}break;case 5:ot=S.stateNode,cn=!1;break e;case 3:case 4:ot=S.stateNode.containerInfo,cn=!0;break e}S=S.return}if(ot===null)throw Error(r(160));jv(p,E,f),ot=null,cn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Bv(s,n),s=s.sibling}var qn=null;function Bv(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:En(s,n),Tn(n),u&4&&(Er(3,n,n.return),bl(3,n),Er(5,n,n.return));break;case 1:En(s,n),Tn(n),u&512&&(pt||o===null||hi(o,o.return)),u&64&&qi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=qn;if(En(s,n),Tn(n),u&512&&(pt||o===null||hi(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[ds]||p[Rt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),qt(p,u,o),p[Rt]=n,dt(p),u=p;break e;case"link":var E=V_("link","href",f).get(u+(o.href||""));if(E){for(var S=0;S<E.length;S++)if(p=E[S],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(S,1);break t}}p=f.createElement(u),qt(p,u,o),f.head.appendChild(p);break;case"meta":if(E=V_("meta","content",f).get(u+(o.content||""))){for(S=0;S<E.length;S++)if(p=E[S],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(S,1);break t}}p=f.createElement(u),qt(p,u,o),f.head.appendChild(p);break;default:throw Error(r(468,u))}p[Rt]=n,dt(p),u=p}n.stateNode=u}else L_(f,n.type,n.stateNode);else n.stateNode=P_(f,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?L_(f,n.type,n.stateNode):P_(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&zd(n,n.memoizedProps,o.memoizedProps)}break;case 27:En(s,n),Tn(n),u&512&&(pt||o===null||hi(o,o.return)),o!==null&&u&4&&zd(n,n.memoizedProps,o.memoizedProps);break;case 5:if(En(s,n),Tn(n),u&512&&(pt||o===null||hi(o,o.return)),n.flags&32){f=n.stateNode;try{Cn(f,"")}catch(K){nt(n,n.return,K)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,zd(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Fd=!0);break;case 6:if(En(s,n),Tn(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(K){nt(n,n.return,K)}}break;case 3:if(Yc=null,f=qn,qn=$c(s.containerInfo),En(s,n),qn=f,Tn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{zl(s.containerInfo)}catch(K){nt(n,n.return,K)}Fd&&(Fd=!1,Hv(n));break;case 4:u=qn,qn=$c(n.stateNode.containerInfo),En(s,n),Tn(n),qn=u;break;case 12:En(s,n),Tn(n);break;case 13:En(s,n),Tn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Xd=wn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,qd(n,u)));break;case 22:f=n.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,F=qi,J=pt;if(qi=F||f,pt=J||N,En(s,n),pt=J,qi=F,Tn(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||N||qi||pt||js(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){N=o=s;try{if(p=N.stateNode,f)E=p.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{S=N.stateNode;var te=N.memoizedProps.style,G=te!=null&&te.hasOwnProperty("display")?te.display:null;S.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(K){nt(N,N.return,K)}}}else if(s.tag===6){if(o===null){N=s;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(K){nt(N,N.return,K)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,qd(n,o))));break;case 19:En(s,n),Tn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,qd(n,u)));break;case 30:break;case 21:break;default:En(s,n),Tn(n)}}function Tn(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(Pv(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,p=Bd(n);Pc(n,p,f);break;case 5:var E=o.stateNode;o.flags&32&&(Cn(E,""),o.flags&=-33);var S=Bd(n);Pc(n,S,E);break;case 3:case 4:var N=o.stateNode.containerInfo,F=Bd(n);Hd(n,F,N);break;default:throw Error(r(161))}}catch(J){nt(n,n.return,J)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Hv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Hv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function Tr(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)kv(n,s.alternate,s),s=s.sibling}function js(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:Er(4,s,s.return),js(s);break;case 1:hi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Dv(s,s.return,o),js(s);break;case 27:Dl(s.stateNode);case 26:case 5:hi(s,s.return),js(s);break;case 22:s.memoizedState===null&&js(s);break;case 30:js(s);break;default:js(s)}n=n.sibling}}function br(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,p=s,E=p.flags;switch(p.tag){case 0:case 11:case 15:br(f,p,o),bl(4,p);break;case 1:if(br(f,p,o),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){nt(u,u.return,F)}if(u=p,f=u.updateQueue,f!==null){var S=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)yy(N[f],S)}catch(F){nt(u,u.return,F)}}o&&E&64&&Ov(p),Sl(p,p.return);break;case 27:Vv(p);case 26:case 5:br(f,p,o),o&&u===null&&E&4&&Mv(p),Sl(p,p.return);break;case 12:br(f,p,o);break;case 13:br(f,p,o),o&&E&4&&zv(f,p);break;case 22:p.memoizedState===null&&br(f,p,o),Sl(p,p.return);break;case 30:break;default:br(f,p,o)}s=s.sibling}}function Gd(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&ll(o))}function Kd(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ll(n))}function fi(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Fv(n,s,o,u),s=s.sibling}function Fv(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:fi(n,s,o,u),f&2048&&bl(9,s);break;case 1:fi(n,s,o,u);break;case 3:fi(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&ll(n)));break;case 12:if(f&2048){fi(n,s,o,u),n=s.stateNode;try{var p=s.memoizedProps,E=p.id,S=p.onPostCommit;typeof S=="function"&&S(E,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){nt(s,s.return,N)}}else fi(n,s,o,u);break;case 13:fi(n,s,o,u);break;case 23:break;case 22:p=s.stateNode,E=s.alternate,s.memoizedState!==null?p._visibility&2?fi(n,s,o,u):Al(n,s):p._visibility&2?fi(n,s,o,u):(p._visibility|=2,ja(n,s,o,u,(s.subtreeFlags&10256)!==0)),f&2048&&Gd(E,s);break;case 24:fi(n,s,o,u),f&2048&&Kd(s.alternate,s);break;default:fi(n,s,o,u)}}function ja(n,s,o,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var p=n,E=s,S=o,N=u,F=E.flags;switch(E.tag){case 0:case 11:case 15:ja(p,E,S,N,f),bl(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?ja(p,E,S,N,f):Al(p,E):(J._visibility|=2,ja(p,E,S,N,f)),f&&F&2048&&Gd(E.alternate,E);break;case 24:ja(p,E,S,N,f),f&&F&2048&&Kd(E.alternate,E);break;default:ja(p,E,S,N,f)}s=s.sibling}}function Al(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:Al(o,u),f&2048&&Gd(u.alternate,u);break;case 24:Al(o,u),f&2048&&Kd(u.alternate,u);break;default:Al(o,u)}s=s.sibling}}var wl=8192;function za(n){if(n.subtreeFlags&wl)for(n=n.child;n!==null;)qv(n),n=n.sibling}function qv(n){switch(n.tag){case 26:za(n),n.flags&wl&&n.memoizedState!==null&&lw(qn,n.memoizedState,n.memoizedProps);break;case 5:za(n);break;case 3:case 4:var s=qn;qn=$c(n.stateNode.containerInfo),za(n),qn=s;break;case 22:n.memoizedState===null&&(s=n.alternate,s!==null&&s.memoizedState!==null?(s=wl,wl=16777216,za(n),wl=s):za(n));break;default:za(n)}}function Gv(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Rl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];kt=u,$v(u,n)}Gv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Kv(n),n=n.sibling}function Kv(n){switch(n.tag){case 0:case 11:case 15:Rl(n),n.flags&2048&&Er(9,n,n.return);break;case 3:Rl(n);break;case 12:Rl(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Vc(n)):Rl(n);break;default:Rl(n)}}function Vc(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];kt=u,$v(u,n)}Gv(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:Er(8,s,s.return),Vc(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Vc(s));break;default:Vc(s)}n=n.sibling}}function $v(n,s){for(;kt!==null;){var o=kt;switch(o.tag){case 0:case 11:case 15:Er(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:ll(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,kt=u;else e:for(o=n;kt!==null;){u=kt;var f=u.sibling,p=u.return;if(Uv(u),u===o){kt=null;break e}if(f!==null){f.return=p,kt=f;break e}kt=p}}}var AA={getCacheForType:function(n){var s=Xt(xt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o}},wA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,Ve=null,Be=0,Xe=0,bn=null,Sr=!1,Ba=!1,$d=!1,Ki=0,ft=0,Ar=0,zs=0,Qd=0,Ln=0,Ha=0,Cl=null,hn=null,Yd=!1,Xd=0,Lc=1/0,kc=null,wr=null,Ft=0,Rr=null,Fa=null,qa=0,Wd=0,Jd=null,Qv=null,Il=0,Zd=null;function Sn(){if((Ye&2)!==0&&Be!==0)return Be&-Be;if(Y.T!==null){var n=Oa;return n!==0?n:am()}return or()}function Yv(){Ln===0&&(Ln=(Be&536870912)===0||Ge?ko():536870912);var n=Vn.current;return n!==null&&(n.flags|=32),Ln}function An(n,s,o){(n===rt&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(Ga(n,0),Cr(n,Be,Ln,!1)),Ai(n,o),((Ye&2)===0||n!==rt)&&(n===rt&&((Ye&2)===0&&(zs|=o),ft===4&&Cr(n,Be,Ln,!1)),di(n))}function Xv(n,s,o){if((Ye&6)!==0)throw Error(r(327));var u=!o&&(s&124)===0&&(s&n.expiredLanes)===0||fs(n,s),f=u?IA(n,s):nm(n,s,!0),p=u;do{if(f===0){Ba&&!u&&Cr(n,s,0,!1);break}else{if(o=n.current.alternate,p&&!RA(o)){f=nm(n,s,!1),p=!1;continue}if(f===2){if(p=s,n.errorRecoveryDisabledLanes&p)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var S=n;f=Cl;var N=S.current.memoizedState.isDehydrated;if(N&&(Ga(S,E).flags|=256),E=nm(S,E,!1),E!==2){if($d&&!N){S.errorRecoveryDisabledLanes|=p,zs|=p,f=4;break e}p=hn,hn=f,p!==null&&(hn===null?hn=p:hn.push.apply(hn,p))}f=E}if(p=!1,f!==2)continue}}if(f===1){Ga(n,0),Cr(n,s,0,!0);break}e:{switch(u=n,p=f,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Cr(u,s,Ln,!Sr);break e;case 2:hn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Xd+300-wn(),10<f)){if(Cr(u,s,Ln,!Sr),la(u,0,!0)!==0)break e;u.timeoutHandle=w_(Wv.bind(null,u,o,hn,kc,Yd,s,Ln,zs,Ha,Sr,p,2,-0,0),f);break e}Wv(u,o,hn,kc,Yd,s,Ln,zs,Ha,Sr,p,0,-0,0)}}break}while(!0);di(n)}function Wv(n,s,o,u,f,p,E,S,N,F,J,te,G,K){if(n.timeoutHandle=-1,te=s.subtreeFlags,(te&8192||(te&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:ow},qv(s),te=uw(),te!==null)){n.cancelPendingCommit=te(r_.bind(null,n,s,p,o,u,f,E,S,N,J,1,G,K)),Cr(n,p,E,!F);return}r_(n,s,p,o,u,f,E,S,N)}function RA(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],p=f.getSnapshot;f=f.value;try{if(!vn(p(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Cr(n,s,o,u){s&=~Qd,s&=~zs,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var p=31-Yt(f),E=1<<p;u[p]=-1,f&=~E}o!==0&&Jn(n,o,s)}function Uc(){return(Ye&6)===0?(xl(0),!1):!0}function em(){if(Ve!==null){if(Xe===0)var n=Ve.return;else n=Ve,Ui=Ps=null,yd(n),ka=null,_l=0,n=Ve;for(;n!==null;)Nv(n.alternate,n),n=n.return;Ve=null}}function Ga(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,qA(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),em(),rt=n,Ve=o=Vi(n.current,null),Be=s,Xe=0,bn=null,Sr=!1,Ba=fs(n,s),$d=!1,Ha=Ln=Qd=zs=Ar=ft=0,hn=Cl=null,Yd=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-Yt(u),p=1<<f;s|=n[f],u&=~p}return Ki=s,ac(),o}function Jv(n,s){Oe=null,Y.H=wc,s===cl||s===pc?(s=py(),Xe=3):s===fy?(s=py(),Xe=4):Xe=s===gv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,bn=s,Ve===null&&(ft=1,Nc(n,On(s,n.current)))}function Zv(){var n=Y.H;return Y.H=wc,n===null?wc:n}function e_(){var n=Y.A;return Y.A=AA,n}function tm(){ft=4,Sr||(Be&4194048)!==Be&&Vn.current!==null||(Ba=!0),(Ar&134217727)===0&&(zs&134217727)===0||rt===null||Cr(rt,Be,Ln,!1)}function nm(n,s,o){var u=Ye;Ye|=2;var f=Zv(),p=e_();(rt!==n||Be!==s)&&(kc=null,Ga(n,s)),s=!1;var E=ft;e:do try{if(Xe!==0&&Ve!==null){var S=Ve,N=bn;switch(Xe){case 8:em(),E=6;break e;case 3:case 2:case 9:case 6:Vn.current===null&&(s=!0);var F=Xe;if(Xe=0,bn=null,Ka(n,S,N,F),o&&Ba){E=0;break e}break;default:F=Xe,Xe=0,bn=null,Ka(n,S,N,F)}}CA(),E=ft;break}catch(J){Jv(n,J)}while(!0);return s&&n.shellSuspendCounter++,Ui=Ps=null,Ye=u,Y.H=f,Y.A=p,Ve===null&&(rt=null,Be=0,ac()),E}function CA(){for(;Ve!==null;)t_(Ve)}function IA(n,s){var o=Ye;Ye|=2;var u=Zv(),f=e_();rt!==n||Be!==s?(kc=null,Lc=wn()+500,Ga(n,s)):Ba=fs(n,s);e:do try{if(Xe!==0&&Ve!==null){s=Ve;var p=bn;t:switch(Xe){case 1:Xe=0,bn=null,Ka(n,s,p,1);break;case 2:case 9:if(dy(p)){Xe=0,bn=null,n_(s);break}s=function(){Xe!==2&&Xe!==9||rt!==n||(Xe=7),di(n)},p.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:dy(p)?(Xe=0,bn=null,n_(s)):(Xe=0,bn=null,Ka(n,s,p,7));break;case 5:var E=null;switch(Ve.tag){case 26:E=Ve.memoizedState;case 5:case 27:var S=Ve;if(!E||k_(E)){Xe=0,bn=null;var N=S.sibling;if(N!==null)Ve=N;else{var F=S.return;F!==null?(Ve=F,jc(F)):Ve=null}break t}}Xe=0,bn=null,Ka(n,s,p,5);break;case 6:Xe=0,bn=null,Ka(n,s,p,6);break;case 8:em(),ft=6;break e;default:throw Error(r(462))}}xA();break}catch(J){Jv(n,J)}while(!0);return Ui=Ps=null,Y.H=u,Y.A=f,Ye=o,Ve!==null?0:(rt=null,Be=0,ac(),ft)}function xA(){for(;Ve!==null&&!Mo();)t_(Ve)}function t_(n){var s=Iv(n.alternate,n,Ki);n.memoizedProps=n.pendingProps,s===null?jc(n):Ve=s}function n_(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=bv(o,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=bv(o,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:yd(s);default:Nv(o,s),s=Ve=iy(s,Ki),s=Iv(o,s,Ki)}n.memoizedProps=n.pendingProps,s===null?jc(n):Ve=s}function Ka(n,s,o,u){Ui=Ps=null,yd(s),ka=null,_l=0;var f=s.return;try{if(vA(n,f,s,o,Be)){ft=1,Nc(n,On(o,n.current)),Ve=null;return}}catch(p){if(f!==null)throw Ve=f,p;ft=1,Nc(n,On(o,n.current)),Ve=null;return}s.flags&32768?(Ge||u===1?n=!0:Ba||(Be&536870912)!==0?n=!1:(Sr=n=!0,(u===2||u===9||u===3||u===6)&&(u=Vn.current,u!==null&&u.tag===13&&(u.flags|=16384))),i_(s,n)):jc(s)}function jc(n){var s=n;do{if((s.flags&32768)!==0){i_(s,Sr);return}n=s.return;var o=EA(s.alternate,s,Ki);if(o!==null){Ve=o;return}if(s=s.sibling,s!==null){Ve=s;return}Ve=s=n}while(s!==null);ft===0&&(ft=5)}function i_(n,s){do{var o=TA(n.alternate,n);if(o!==null){o.flags&=32767,Ve=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Ve=n;return}Ve=n=o}while(n!==null);ft=6,Ve=null}function r_(n,s,o,u,f,p,E,S,N){n.cancelPendingCommit=null;do zc();while(Ft!==0);if((Ye&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=Kf,jo(n,o,p,E,S,N),n===rt&&(Ve=rt=null,Be=0),Fa=s,Rr=n,qa=o,Wd=p,Jd=f,Qv=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,MA(ls,function(){return u_(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Y.T,Y.T=null,f=ue.p,ue.p=2,E=Ye,Ye|=4;try{bA(n,s,o)}finally{Ye=E,ue.p=f,Y.T=u}}Ft=1,s_(),a_(),o_()}}function s_(){if(Ft===1){Ft=0;var n=Rr,s=Fa,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=Y.T,Y.T=null;var u=ue.p;ue.p=2;var f=Ye;Ye|=4;try{Bv(s,n);var p=mm,E=$g(n.containerInfo),S=p.focusedElem,N=p.selectionRange;if(E!==S&&S&&S.ownerDocument&&Kg(S.ownerDocument.documentElement,S)){if(N!==null&&Bf(S)){var F=N.start,J=N.end;if(J===void 0&&(J=F),"selectionStart"in S)S.selectionStart=F,S.selectionEnd=Math.min(J,S.value.length);else{var te=S.ownerDocument||document,G=te&&te.defaultView||window;if(G.getSelection){var K=G.getSelection(),be=S.textContent.length,_e=Math.min(N.start,be),tt=N.end===void 0?_e:Math.min(N.end,be);!K.extend&&_e>tt&&(E=tt,tt=_e,_e=E);var z=Gg(S,_e),k=Gg(S,tt);if(z&&k&&(K.rangeCount!==1||K.anchorNode!==z.node||K.anchorOffset!==z.offset||K.focusNode!==k.node||K.focusOffset!==k.offset)){var H=te.createRange();H.setStart(z.node,z.offset),K.removeAllRanges(),_e>tt?(K.addRange(H),K.extend(k.node,k.offset)):(H.setEnd(k.node,k.offset),K.addRange(H))}}}}for(te=[],K=S;K=K.parentNode;)K.nodeType===1&&te.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<te.length;S++){var Z=te[S];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Jc=!!dm,mm=dm=null}finally{Ye=f,ue.p=u,Y.T=o}}n.current=s,Ft=2}}function a_(){if(Ft===2){Ft=0;var n=Rr,s=Fa,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=Y.T,Y.T=null;var u=ue.p;ue.p=2;var f=Ye;Ye|=4;try{kv(n,s.alternate,s)}finally{Ye=f,ue.p=u,Y.T=o}}Ft=3}}function o_(){if(Ft===4||Ft===3){Ft=0,Vu();var n=Rr,s=Fa,o=qa,u=Qv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ft=5:(Ft=0,Fa=Rr=null,l_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(wr=null),ua(o),s=s.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(ct,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Y.T,f=ue.p,ue.p=2,Y.T=null;try{for(var p=n.onRecoverableError,E=0;E<u.length;E++){var S=u[E];p(S.value,{componentStack:S.stack})}}finally{Y.T=s,ue.p=f}}(qa&3)!==0&&zc(),di(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===Zd?Il++:(Il=0,Zd=n):Il=0,xl(0)}}function l_(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,ll(s)))}function zc(n){return s_(),a_(),o_(),u_()}function u_(){if(Ft!==5)return!1;var n=Rr,s=Wd;Wd=0;var o=ua(qa),u=Y.T,f=ue.p;try{ue.p=32>o?32:o,Y.T=null,o=Jd,Jd=null;var p=Rr,E=qa;if(Ft=0,Fa=Rr=null,qa=0,(Ye&6)!==0)throw Error(r(331));var S=Ye;if(Ye|=4,Kv(p.current),Fv(p,p.current,E,o),Ye=S,xl(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(ct,p)}catch{}return!0}finally{ue.p=f,Y.T=u,l_(n,s)}}function c_(n,s,o){s=On(o,s),s=Od(n.stateNode,s,2),n=gr(n,s,2),n!==null&&(Ai(n,2),di(n))}function nt(n,s,o){if(n.tag===3)c_(n,n,o);else for(;s!==null;){if(s.tag===3){c_(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(wr===null||!wr.has(u))){n=On(o,n),o=mv(2),u=gr(s,o,2),u!==null&&(pv(o,u,s,n),Ai(u,2),di(u));break}}s=s.return}}function im(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new wA;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||($d=!0,f.add(o),n=NA.bind(null,n,s,o),s.then(n,n))}function NA(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,rt===n&&(Be&o)===o&&(ft===4||ft===3&&(Be&62914560)===Be&&300>wn()-Xd?(Ye&2)===0&&Ga(n,0):Qd|=o,Ha===Be&&(Ha=0)),di(n)}function h_(n,s){s===0&&(s=Uo()),n=Ca(n,s),n!==null&&(Ai(n,s),di(n))}function OA(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),h_(n,o)}function DA(n,s){var o=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),h_(n,o)}function MA(n,s){return as(n,s)}var Bc=null,$a=null,rm=!1,Hc=!1,sm=!1,Bs=0;function di(n){n!==$a&&n.next===null&&($a===null?Bc=$a=n:$a=$a.next=n),Hc=!0,rm||(rm=!0,VA())}function xl(n,s){if(!sm&&Hc){sm=!0;do for(var o=!1,u=Bc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var E=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-Yt(42|n)+1)-1,p&=f&~(E&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,p_(u,p))}else p=Be,p=la(u,u===rt?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||fs(u,p)||(o=!0,p_(u,p));u=u.next}while(o);sm=!1}}function PA(){f_()}function f_(){Hc=rm=!1;var n=0;Bs!==0&&(FA()&&(n=Bs),Bs=0);for(var s=wn(),o=null,u=Bc;u!==null;){var f=u.next,p=d_(u,s);p===0?(u.next=null,o===null?Bc=f:o.next=f,f===null&&($a=o)):(o=u,(n!==0||(p&3)!==0)&&(Hc=!0)),u=f}xl(n)}function d_(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var E=31-Yt(p),S=1<<E,N=f[E];N===-1?((S&o)===0||(S&u)!==0)&&(f[E]=Lo(S,s)):N<=s&&(n.expiredLanes|=S),p&=~S}if(s=rt,o=Be,o=la(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&os(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||fs(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&os(u),ua(o)){case 2:case 8:o=aa;break;case 32:o=ls;break;case 268435456:o=oa;break;default:o=ls}return u=m_.bind(null,n),o=as(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&os(u),n.callbackPriority=2,n.callbackNode=null,2}function m_(n,s){if(Ft!==0&&Ft!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(zc()&&n.callbackNode!==o)return null;var u=Be;return u=la(n,n===rt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Xv(n,u,s),d_(n,wn()),n.callbackNode!=null&&n.callbackNode===o?m_.bind(null,n):null)}function p_(n,s){if(zc())return null;Xv(n,s,!0)}function VA(){GA(function(){(Ye&6)!==0?as(Po,PA):f_()})}function am(){return Bs===0&&(Bs=ko()),Bs}function g_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:pa(""+n)}function y_(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function LA(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var p=g_((f[Et]||null).action),E=u.submitter;E&&(s=(s=E[Et]||null)?g_(s.formAction):E.getAttribute("formAction"),s!==null&&(p=s,E=null));var S=new ga("action","action",null,u,f);n.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Bs!==0){var N=E?y_(f,E):new FormData(f);Rd(o,{pending:!0,data:N,method:f.method,action:p},null,N)}}else typeof p=="function"&&(S.preventDefault(),N=E?y_(f,E):new FormData(f),Rd(o,{pending:!0,data:N,method:f.method,action:p},p,N))},currentTarget:f}]})}}for(var om=0;om<Gf.length;om++){var lm=Gf[om],kA=lm.toLowerCase(),UA=lm[0].toUpperCase()+lm.slice(1);Fn(kA,"on"+UA)}Fn(Xg,"onAnimationEnd"),Fn(Wg,"onAnimationIteration"),Fn(Jg,"onAnimationStart"),Fn("dblclick","onDoubleClick"),Fn("focusin","onFocus"),Fn("focusout","onBlur"),Fn(tA,"onTransitionRun"),Fn(nA,"onTransitionStart"),Fn(iA,"onTransitionCancel"),Fn(Zg,"onTransitionEnd"),Ri("onMouseEnter",["mouseout","mouseover"]),Ri("onMouseLeave",["mouseout","mouseover"]),Ri("onPointerEnter",["pointerout","pointerover"]),Ri("onPointerLeave",["pointerout","pointerover"]),Bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function v_(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var E=u.length-1;0<=E;E--){var S=u[E],N=S.instance,F=S.currentTarget;if(S=S.listener,N!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=F;try{p(f)}catch(J){xc(J)}f.currentTarget=null,p=N}else for(E=0;E<u.length;E++){if(S=u[E],N=S.instance,F=S.currentTarget,S=S.listener,N!==p&&f.isPropagationStopped())break e;p=S,f.currentTarget=F;try{p(f)}catch(J){xc(J)}f.currentTarget=null,p=N}}}}function Le(n,s){var o=s[Bo];o===void 0&&(o=s[Bo]=new Set);var u=n+"__bubble";o.has(u)||(__(s,n,2,!1),o.add(u))}function um(n,s,o){var u=0;s&&(u|=4),__(o,n,u,s)}var Fc="_reactListening"+Math.random().toString(36).slice(2);function cm(n){if(!n[Fc]){n[Fc]=!0,Ho.forEach(function(o){o!=="selectionchange"&&(jA.has(o)||um(o,!1,n),um(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Fc]||(s[Fc]=!0,um("selectionchange",!1,s))}}function __(n,s,o,u){switch(F_(s)){case 2:var f=fw;break;case 8:f=dw;break;default:f=Am}o=f.bind(null,s,o,n),f=void 0,!xn||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function hm(n,s,o,u,f){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var S=u.stateNode.containerInfo;if(S===f)break;if(E===4)for(E=u.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;S!==null;){if(E=wi(S),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){u=p=E;continue e}S=S.parentNode}}u=u.return}Gu(function(){var F=p,J=In(o),te=[];e:{var G=ey.get(n);if(G!==void 0){var K=ga,be=n;switch(n){case"keypress":if(ri(o)===0)break e;case"keydown":case"keyup":K=ba;break;case"focusin":be="focus",K=_a;break;case"focusout":be="blur",K=_a;break;case"beforeblur":case"afterblur":K=_a;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Nn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Zu;break;case Xg:case Wg:case Jg:K=Ea;break;case Zg:K=tc;break;case"scroll":case"scrollend":K=Ku;break;case"wheel":K=Sa;break;case"copy":case"cut":case"paste":K=Ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=el;break;case"toggle":case"beforetoggle":K=ic}var _e=(s&4)!==0,tt=!_e&&(n==="scroll"||n==="scrollend"),z=_e?G!==null?G+"Capture":null:G;_e=[];for(var k=F,H;k!==null;){var Z=k;if(H=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||H===null||z===null||(Z=Es(k,z),Z!=null&&_e.push(Ol(k,Z,H))),tt)break;k=k.return}0<_e.length&&(G=new K(G,be,null,o,J),te.push({event:G,listeners:_e}))}}if((s&7)===0){e:{if(G=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",G&&o!==xi&&(be=o.relatedTarget||o.fromElement)&&(wi(be)||be[Rn]))break e;if((K||G)&&(G=J.window===J?J:(G=J.ownerDocument)?G.defaultView||G.parentWindow:window,K?(be=o.relatedTarget||o.toElement,K=F,be=be?wi(be):null,be!==null&&(tt=l(be),_e=be.tag,be!==tt||_e!==5&&_e!==27&&_e!==6)&&(be=null)):(K=null,be=F),K!==be)){if(_e=Nn,Z="onMouseLeave",z="onMouseEnter",k="mouse",(n==="pointerout"||n==="pointerover")&&(_e=el,Z="onPointerLeave",z="onPointerEnter",k="pointer"),tt=K==null?G:ei(K),H=be==null?G:ei(be),G=new _e(Z,k+"leave",K,o,J),G.target=tt,G.relatedTarget=H,Z=null,wi(J)===F&&(_e=new _e(z,k+"enter",be,o,J),_e.target=H,_e.relatedTarget=tt,Z=_e),tt=Z,K&&be)t:{for(_e=K,z=be,k=0,H=_e;H;H=Qa(H))k++;for(H=0,Z=z;Z;Z=Qa(Z))H++;for(;0<k-H;)_e=Qa(_e),k--;for(;0<H-k;)z=Qa(z),H--;for(;k--;){if(_e===z||z!==null&&_e===z.alternate)break t;_e=Qa(_e),z=Qa(z)}_e=null}else _e=null;K!==null&&E_(te,G,K,_e,!1),be!==null&&tt!==null&&E_(te,tt,be,_e,!0)}}e:{if(G=F?ei(F):window,K=G.nodeName&&G.nodeName.toLowerCase(),K==="select"||K==="input"&&G.type==="file")var de=jg;else if(It(G))if(zg)de=JS;else{de=XS;var Pe=YS}else K=G.nodeName,!K||K.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?F&&$o(F.elementType)&&(de=jg):de=WS;if(de&&(de=de(n,F))){Pi(te,de,o,J);break e}Pe&&Pe(n,G,F),n==="focusout"&&F&&G.type==="number"&&F.memoizedProps.value!=null&&hr(G,"number",G.value)}switch(Pe=F?ei(F):window,n){case"focusin":(It(Pe)||Pe.contentEditable==="true")&&(Aa=Pe,Hf=F,il=null);break;case"focusout":il=Hf=Aa=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,Qg(te,o,J);break;case"selectionchange":if(eA)break;case"keydown":case"keyup":Qg(te,o,J)}var ge;if(oi)e:{switch(n){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else je?$(n,o)&&(Ee="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(_&&o.locale!=="ko"&&(je||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&je&&(ge=Yo()):(ii=J,fr="value"in ii?ii.value:ii.textContent,je=!0)),Pe=qc(F,Ee),0<Pe.length&&(Ee=new Jo(Ee,n,null,o,J),te.push({event:Ee,listeners:Pe}),ge?Ee.data=ge:(ge=le(o),ge!==null&&(Ee.data=ge)))),(ge=v?Ct(n,o):ze(n,o))&&(Ee=qc(F,"onBeforeInput"),0<Ee.length&&(Pe=new Jo("onBeforeInput","beforeinput",null,o,J),te.push({event:Pe,listeners:Ee}),Pe.data=ge)),LA(te,n,F,o,J)}v_(te,s)})}function Ol(n,s,o){return{instance:n,listener:s,currentTarget:o}}function qc(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Es(n,o),f!=null&&u.unshift(Ol(n,f,p)),f=Es(n,s),f!=null&&u.push(Ol(n,f,p))),n.tag===3)return u;n=n.return}return[]}function Qa(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function E_(n,s,o,u,f){for(var p=s._reactName,E=[];o!==null&&o!==u;){var S=o,N=S.alternate,F=S.stateNode;if(S=S.tag,N!==null&&N===u)break;S!==5&&S!==26&&S!==27||F===null||(N=F,f?(F=Es(o,p),F!=null&&E.unshift(Ol(o,F,N))):f||(F=Es(o,p),F!=null&&E.push(Ol(o,F,N)))),o=o.return}E.length!==0&&n.push({event:s,listeners:E})}var zA=/\r\n?/g,BA=/\u0000|\uFFFD/g;function T_(n){return(typeof n=="string"?n:""+n).replace(zA,`
`).replace(BA,"")}function b_(n,s){return s=T_(s),T_(n)===s}function Gc(){}function et(n,s,o,u,f,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Cn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Cn(n,""+u);break;case"className":ti(n,"class",u);break;case"tabIndex":ti(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ti(n,o,u);break;case"style":Ko(n,u,p);break;case"data":if(s!=="object"){ti(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=pa(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&et(n,s,"name",f.name,f,null),et(n,s,"formEncType",f.formEncType,f,null),et(n,s,"formMethod",f.formMethod,f,null),et(n,s,"formTarget",f.formTarget,f,null)):(et(n,s,"encType",f.encType,f,null),et(n,s,"method",f.method,f,null),et(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=pa(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Gc);break;case"onScroll":u!=null&&Le("scroll",n);break;case"onScrollEnd":u!=null&&Le("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=pa(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Le("beforetoggle",n),Le("toggle",n),cr(n,"popover",u);break;case"xlinkActuate":zt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":zt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":zt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":zt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":zt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":zt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":zt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":zt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":zt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":cr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Vf.get(o)||o,cr(n,o,u))}}function fm(n,s,o,u,f,p){switch(o){case"style":Ko(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Cn(n,u):(typeof u=="number"||typeof u=="bigint")&&Cn(n,""+u);break;case"onScroll":u!=null&&Le("scroll",n);break;case"onScrollEnd":u!=null&&Le("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Gc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ca.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),p=n[Et]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(s,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):cr(n,o,u)}}}function qt(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Le("error",n),Le("load",n);var u=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var E=o[p];if(E!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(n,s,p,E,o,null)}}f&&et(n,s,"srcSet",o.srcSet,o,null),u&&et(n,s,"src",o.src,o,null);return;case"input":Le("invalid",n);var S=p=E=f=null,N=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var J=o[u];if(J!=null)switch(u){case"name":f=J;break;case"type":E=J;break;case"checked":N=J;break;case"defaultChecked":F=J;break;case"value":p=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(r(137,s));break;default:et(n,s,u,J,o,null)}}ys(n,p,S,N,F,E,f,!1),ma(n);return;case"select":Le("invalid",n),u=E=p=null;for(f in o)if(o.hasOwnProperty(f)&&(S=o[f],S!=null))switch(f){case"value":p=S;break;case"defaultValue":E=S;break;case"multiple":u=S;default:et(n,s,f,S,o,null)}s=p,o=E,n.multiple=!!u,s!=null?Ii(n,!!u,s,!1):o!=null&&Ii(n,!!u,o,!0);return;case"textarea":Le("invalid",n),p=f=u=null;for(E in o)if(o.hasOwnProperty(E)&&(S=o[E],S!=null))switch(E){case"value":u=S;break;case"defaultValue":f=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(r(91));break;default:et(n,s,E,S,o,null)}vs(n,u,f,p),ma(n);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:et(n,s,N,u,o,null)}return;case"dialog":Le("beforetoggle",n),Le("toggle",n),Le("cancel",n),Le("close",n);break;case"iframe":case"object":Le("load",n);break;case"video":case"audio":for(u=0;u<Nl.length;u++)Le(Nl[u],n);break;case"image":Le("error",n),Le("load",n);break;case"details":Le("toggle",n);break;case"embed":case"source":case"link":Le("error",n),Le("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:et(n,s,F,u,o,null)}return;default:if($o(s)){for(J in o)o.hasOwnProperty(J)&&(u=o[J],u!==void 0&&fm(n,s,J,u,o,void 0));return}}for(S in o)o.hasOwnProperty(S)&&(u=o[S],u!=null&&et(n,s,S,u,o,null))}function HA(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,E=null,S=null,N=null,F=null,J=null;for(K in o){var te=o[K];if(o.hasOwnProperty(K)&&te!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":N=te;default:u.hasOwnProperty(K)||et(n,s,K,null,u,te)}}for(var G in u){var K=u[G];if(te=o[G],u.hasOwnProperty(G)&&(K!=null||te!=null))switch(G){case"type":p=K;break;case"name":f=K;break;case"checked":F=K;break;case"defaultChecked":J=K;break;case"value":E=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==te&&et(n,s,G,K,u,te)}}yn(n,E,S,N,F,J,p,f);return;case"select":K=E=S=G=null;for(p in o)if(N=o[p],o.hasOwnProperty(p)&&N!=null)switch(p){case"value":break;case"multiple":K=N;default:u.hasOwnProperty(p)||et(n,s,p,null,u,N)}for(f in u)if(p=u[f],N=o[f],u.hasOwnProperty(f)&&(p!=null||N!=null))switch(f){case"value":G=p;break;case"defaultValue":S=p;break;case"multiple":E=p;default:p!==N&&et(n,s,f,p,u,N)}s=S,o=E,u=K,G!=null?Ii(n,!!o,G,!1):!!u!=!!o&&(s!=null?Ii(n,!!o,s,!0):Ii(n,!!o,o?[]:"",!1));return;case"textarea":K=G=null;for(S in o)if(f=o[S],o.hasOwnProperty(S)&&f!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:et(n,s,S,null,u,f)}for(E in u)if(f=u[E],p=o[E],u.hasOwnProperty(E)&&(f!=null||p!=null))switch(E){case"value":G=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==p&&et(n,s,E,f,u,p)}Je(n,G,K);return;case"option":for(var be in o)if(G=o[be],o.hasOwnProperty(be)&&G!=null&&!u.hasOwnProperty(be))switch(be){case"selected":n.selected=!1;break;default:et(n,s,be,null,u,G)}for(N in u)if(G=u[N],K=o[N],u.hasOwnProperty(N)&&G!==K&&(G!=null||K!=null))switch(N){case"selected":n.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:et(n,s,N,G,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in o)G=o[_e],o.hasOwnProperty(_e)&&G!=null&&!u.hasOwnProperty(_e)&&et(n,s,_e,null,u,G);for(F in u)if(G=u[F],K=o[F],u.hasOwnProperty(F)&&G!==K&&(G!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:et(n,s,F,G,u,K)}return;default:if($o(s)){for(var tt in o)G=o[tt],o.hasOwnProperty(tt)&&G!==void 0&&!u.hasOwnProperty(tt)&&fm(n,s,tt,void 0,u,G);for(J in u)G=u[J],K=o[J],!u.hasOwnProperty(J)||G===K||G===void 0&&K===void 0||fm(n,s,J,G,u,K);return}}for(var z in o)G=o[z],o.hasOwnProperty(z)&&G!=null&&!u.hasOwnProperty(z)&&et(n,s,z,null,u,G);for(te in u)G=u[te],K=o[te],!u.hasOwnProperty(te)||G===K||G==null&&K==null||et(n,s,te,G,u,K)}var dm=null,mm=null;function Kc(n){return n.nodeType===9?n:n.ownerDocument}function S_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A_(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function pm(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gm=null;function FA(){var n=window.event;return n&&n.type==="popstate"?n===gm?!1:(gm=n,!0):(gm=null,!1)}var w_=typeof setTimeout=="function"?setTimeout:void 0,qA=typeof clearTimeout=="function"?clearTimeout:void 0,R_=typeof Promise=="function"?Promise:void 0,GA=typeof queueMicrotask=="function"?queueMicrotask:typeof R_<"u"?function(n){return R_.resolve(null).then(n).catch(KA)}:w_;function KA(n){setTimeout(function(){throw n})}function Ir(n){return n==="head"}function C_(n,s){var o=s,u=0,f=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var E=n.ownerDocument;if(o&1&&Dl(E.documentElement),o&2&&Dl(E.body),o&4)for(o=E.head,Dl(o),E=o.firstChild;E;){var S=E.nextSibling,N=E.nodeName;E[ds]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=S}}if(f===0){n.removeChild(p),zl(s);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);zl(s)}function ym(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ym(o),ur(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function $A(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[ds])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Gn(n.nextSibling),n===null)break}return null}function QA(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Gn(n.nextSibling),n===null))return null;return n}function vm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function YA(n,s){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Gn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return n}var _m=null;function I_(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return n;s--}else o==="/$"&&s++}n=n.previousSibling}return null}function x_(n,s,o){switch(s=Kc(o),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Dl(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);ur(n)}var kn=new Map,N_=new Set;function $c(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var $i=ue.d;ue.d={f:XA,r:WA,D:JA,C:ZA,L:ew,m:tw,X:iw,S:nw,M:rw};function XA(){var n=$i.f(),s=Uc();return n||s}function WA(n){var s=Zn(n);s!==null&&s.tag===5&&s.type==="form"?Xy(s):$i.r(n)}var Ya=typeof document>"u"?null:document;function O_(n,s,o){var u=Ya;if(u&&typeof s=="string"&&s){var f=Tt(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),N_.has(f)||(N_.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),qt(s,"link",n),dt(s),u.head.appendChild(s)))}}function JA(n){$i.D(n),O_("dns-prefetch",n,null)}function ZA(n,s){$i.C(n,s),O_("preconnect",n,s)}function ew(n,s,o){$i.L(n,s,o);var u=Ya;if(u&&n&&s){var f='link[rel="preload"][as="'+Tt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Tt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Tt(o.imageSizes)+'"]')):f+='[href="'+Tt(n)+'"]';var p=f;switch(s){case"style":p=Xa(n);break;case"script":p=Wa(n)}kn.has(p)||(n=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),kn.set(p,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(Ml(p))||s==="script"&&u.querySelector(Pl(p))||(s=u.createElement("link"),qt(s,"link",n),dt(s),u.head.appendChild(s)))}}function tw(n,s){$i.m(n,s);var o=Ya;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Tt(u)+'"][href="'+Tt(n)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Wa(n)}if(!kn.has(p)&&(n=y({rel:"modulepreload",href:n},s),kn.set(p,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Pl(p)))return}u=o.createElement("link"),qt(u,"link",n),dt(u),o.head.appendChild(u)}}}function nw(n,s,o){$i.S(n,s,o);var u=Ya;if(u&&n){var f=rn(u).hoistableStyles,p=Xa(n);s=s||"default";var E=f.get(p);if(!E){var S={loading:0,preload:null};if(E=u.querySelector(Ml(p)))S.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":s},o),(o=kn.get(p))&&Em(n,o);var N=E=u.createElement("link");dt(N),qt(N,"link",n),N._p=new Promise(function(F,J){N.onload=F,N.onerror=J}),N.addEventListener("load",function(){S.loading|=1}),N.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Qc(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:S},f.set(p,E)}}}function iw(n,s){$i.X(n,s);var o=Ya;if(o&&n){var u=rn(o).hoistableScripts,f=Wa(n),p=u.get(f);p||(p=o.querySelector(Pl(f)),p||(n=y({src:n,async:!0},s),(s=kn.get(f))&&Tm(n,s),p=o.createElement("script"),dt(p),qt(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function rw(n,s){$i.M(n,s);var o=Ya;if(o&&n){var u=rn(o).hoistableScripts,f=Wa(n),p=u.get(f);p||(p=o.querySelector(Pl(f)),p||(n=y({src:n,async:!0,type:"module"},s),(s=kn.get(f))&&Tm(n,s),p=o.createElement("script"),dt(p),qt(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function D_(n,s,o,u){var f=(f=Ae.current)?$c(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Xa(o.href),o=rn(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Xa(o.href);var p=rn(f).hoistableStyles,E=p.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,E),(p=f.querySelector(Ml(n)))&&!p._p&&(E.instance=p,E.state.loading=5),kn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},kn.set(n,o),p||sw(f,n,o,E.state))),s&&u===null)throw Error(r(528,""));return E}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wa(o),o=rn(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Xa(n){return'href="'+Tt(n)+'"'}function Ml(n){return'link[rel="stylesheet"]['+n+"]"}function M_(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function sw(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),qt(s,"link",o),dt(s),n.head.appendChild(s))}function Wa(n){return'[src="'+Tt(n)+'"]'}function Pl(n){return"script[async]"+n}function P_(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+Tt(o.href)+'"]');if(u)return s.instance=u,dt(u),u;var f=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),dt(u),qt(u,"style",f),Qc(u,o.precedence,n),s.instance=u;case"stylesheet":f=Xa(o.href);var p=n.querySelector(Ml(f));if(p)return s.state.loading|=4,s.instance=p,dt(p),p;u=M_(o),(f=kn.get(f))&&Em(u,f),p=(n.ownerDocument||n).createElement("link"),dt(p);var E=p;return E._p=new Promise(function(S,N){E.onload=S,E.onerror=N}),qt(p,"link",u),s.state.loading|=4,Qc(p,o.precedence,n),s.instance=p;case"script":return p=Wa(o.src),(f=n.querySelector(Pl(p)))?(s.instance=f,dt(f),f):(u=o,(f=kn.get(p))&&(u=y({},o),Tm(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),dt(f),qt(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Qc(u,o.precedence,n));return s.instance}function Qc(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,E=0;E<u.length;E++){var S=u[E];if(S.dataset.precedence===s)p=S;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function Em(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Tm(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Yc=null;function V_(n,s,o){if(Yc===null){var u=new Map,f=Yc=new Map;f.set(o,u)}else f=Yc,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var p=o[f];if(!(p[ds]||p[Rt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var E=p.getAttribute(s)||"";E=n+E;var S=u.get(E);S?S.push(p):u.set(E,[p])}}return u}function L_(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function aw(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function k_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Vl=null;function ow(){}function lw(n,s,o){if(Vl===null)throw Error(r(475));var u=Vl;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=Xa(o.href),p=n.querySelector(Ml(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Xc.bind(u),n.then(u,u)),s.state.loading|=4,s.instance=p,dt(p);return}p=n.ownerDocument||n,o=M_(o),(f=kn.get(f))&&Em(o,f),p=p.createElement("link"),dt(p);var E=p;E._p=new Promise(function(S,N){E.onload=S,E.onerror=N}),qt(p,"link",o),s.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Xc.bind(u),n.addEventListener("load",s),n.addEventListener("error",s))}}function uw(){if(Vl===null)throw Error(r(475));var n=Vl;return n.stylesheets&&n.count===0&&bm(n,n.stylesheets),0<n.count?function(s){var o=setTimeout(function(){if(n.stylesheets&&bm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=s,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Xc(){if(this.count--,this.count===0){if(this.stylesheets)bm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Wc=null;function bm(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Wc=new Map,s.forEach(cw,n),Wc=null,Xc.call(n))}function cw(n,s){if(!(s.state.loading&4)){var o=Wc.get(n);if(o)var u=o.get(null);else{o=new Map,Wc.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var E=f[p];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),u=E)}u&&o.set(null,u)}f=s.instance,E=f.getAttribute("data-precedence"),p=o.get(E)||u,p===u&&o.set(null,f),o.set(E,f),this.count++,u=Xc.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Ll={$$typeof:W,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function hw(n,s,o,u,f,p,E,S){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.hiddenUpdates=Si(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function U_(n,s,o,u,f,p,E,S,N,F,J,te){return n=new hw(n,s,o,E,S,N,F,te),s=1,p===!0&&(s|=24),p=_n(3,null,null,s),n.current=p,p.stateNode=n,s=id(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},od(p),n}function j_(n){return n?(n=Ia,n):Ia}function z_(n,s,o,u,f,p){f=j_(f),u.context===null?u.context=f:u.pendingContext=f,u=pr(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=gr(n,u,s),o!==null&&(An(o,n,s),fl(o,n,s))}function B_(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Sm(n,s){B_(n,s),(n=n.alternate)&&B_(n,s)}function H_(n){if(n.tag===13){var s=Ca(n,67108864);s!==null&&An(s,n,67108864),Sm(n,67108864)}}var Jc=!0;function fw(n,s,o,u){var f=Y.T;Y.T=null;var p=ue.p;try{ue.p=2,Am(n,s,o,u)}finally{ue.p=p,Y.T=f}}function dw(n,s,o,u){var f=Y.T;Y.T=null;var p=ue.p;try{ue.p=8,Am(n,s,o,u)}finally{ue.p=p,Y.T=f}}function Am(n,s,o,u){if(Jc){var f=wm(u);if(f===null)hm(n,s,u,Zc,o),q_(n,u);else if(pw(f,n,s,o,u))u.stopPropagation();else if(q_(n,u),s&4&&-1<mw.indexOf(n)){for(;f!==null;){var p=Zn(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var E=zn(p.pendingLanes);if(E!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;E;){var N=1<<31-Yt(E);S.entanglements[1]|=N,E&=~N}di(p),(Ye&6)===0&&(Lc=wn()+500,xl(0))}}break;case 13:S=Ca(p,2),S!==null&&An(S,p,2),Uc(),Sm(p,2)}if(p=wm(u),p===null&&hm(n,s,u,Zc,o),p===f)break;f=p}f!==null&&u.stopPropagation()}else hm(n,s,u,null,o)}}function wm(n){return n=In(n),Rm(n)}var Zc=null;function Rm(n){if(Zc=null,n=wi(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return Zc=n,null}function F_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xf()){case Po:return 2;case aa:return 8;case ls:case Nf:return 32;case oa:return 268435456;default:return 32}default:return 32}}var Cm=!1,xr=null,Nr=null,Or=null,kl=new Map,Ul=new Map,Dr=[],mw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(n,s){switch(n){case"focusin":case"focusout":xr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Or=null;break;case"pointerover":case"pointerout":kl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(s.pointerId)}}function jl(n,s,o,u,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},s!==null&&(s=Zn(s),s!==null&&H_(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function pw(n,s,o,u,f){switch(s){case"focusin":return xr=jl(xr,n,s,o,u,f),!0;case"dragenter":return Nr=jl(Nr,n,s,o,u,f),!0;case"mouseover":return Or=jl(Or,n,s,o,u,f),!0;case"pointerover":var p=f.pointerId;return kl.set(p,jl(kl.get(p)||null,n,s,o,u,f)),!0;case"gotpointercapture":return p=f.pointerId,Ul.set(p,jl(Ul.get(p)||null,n,s,o,u,f)),!0}return!1}function G_(n){var s=wi(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,Uu(n.priority,function(){if(o.tag===13){var u=Sn();u=ar(u);var f=Ca(o,u);f!==null&&An(f,o,u),Sm(o,u)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function eh(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=wm(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);xi=u,o.target.dispatchEvent(u),xi=null}else return s=Zn(o),s!==null&&H_(s),n.blockedOn=o,!1;s.shift()}return!0}function K_(n,s,o){eh(n)&&o.delete(s)}function gw(){Cm=!1,xr!==null&&eh(xr)&&(xr=null),Nr!==null&&eh(Nr)&&(Nr=null),Or!==null&&eh(Or)&&(Or=null),kl.forEach(K_),Ul.forEach(K_)}function th(n,s){n.blockedOn===s&&(n.blockedOn=null,Cm||(Cm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,gw)))}var nh=null;function $_(n){nh!==n&&(nh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){nh===n&&(nh=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(Rm(u||o)===null)continue;break}var p=Zn(o);p!==null&&(n.splice(s,3),s-=3,Rd(p,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function zl(n){function s(N){return th(N,n)}xr!==null&&th(xr,n),Nr!==null&&th(Nr,n),Or!==null&&th(Or,n),kl.forEach(s),Ul.forEach(s);for(var o=0;o<Dr.length;o++){var u=Dr[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Dr.length&&(o=Dr[0],o.blockedOn===null);)G_(o),o.blockedOn===null&&Dr.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],p=o[u+1],E=f[Et]||null;if(typeof p=="function")E||$_(o);else if(E){var S=null;if(p&&p.hasAttribute("formAction")){if(f=p,E=p[Et]||null)S=E.formAction;else if(Rm(f)!==null)continue}else S=E.action;typeof S=="function"?o[u+1]=S:(o.splice(u,3),u-=3),$_(o)}}}function Im(n){this._internalRoot=n}ih.prototype.render=Im.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Sn();z_(o,u,n,s,null,null)},ih.prototype.unmount=Im.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;z_(n.current,2,null,n,null,null),Uc(),s[Rn]=null}};function ih(n){this._internalRoot=n}ih.prototype.unstable_scheduleHydration=function(n){if(n){var s=or();n={blockedOn:null,target:n,priority:s};for(var o=0;o<Dr.length&&s!==0&&s<Dr[o].priority;o++);Dr.splice(o,0,n),o===0&&G_(n)}};var Q_=e.version;if(Q_!=="19.1.0")throw Error(r(527,Q_,"19.1.0"));ue.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=m(s),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var yw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rh.isDisabled&&rh.supportsFiber)try{ct=rh.inject(yw),Qe=rh}catch{}}return Hl.createRoot=function(n,s){if(!a(n))throw Error(r(299));var o=!1,u="",f=cv,p=hv,E=fv,S=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(S=s.unstable_transitionCallbacks)),s=U_(n,1,!1,null,null,o,u,f,p,E,S,null),n[Rn]=s.current,cm(n),new Im(s)},Hl.hydrateRoot=function(n,s,o){if(!a(n))throw Error(r(299));var u=!1,f="",p=cv,E=hv,S=fv,N=null,F=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(S=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(N=o.unstable_transitionCallbacks),o.formState!==void 0&&(F=o.formState)),s=U_(n,1,!0,s,o??null,u,f,p,E,S,N,F),s.context=j_(null),o=s.current,u=Sn(),u=ar(u),f=pr(u),f.callback=null,gr(o,f,u),o=u,s.current.lanes=o,Ai(s,o),di(s),n[Rn]=s.current,cm(n),new ih(s)},Hl.version="19.1.0",Hl}var r0;function Iw(){if(r0)return Om.exports;r0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Om.exports=Cw(),Om.exports}var xw=Iw();const Nw=bT(xw);ST();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function su(){return su=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},su.apply(this,arguments)}var Br;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Br||(Br={}));const s0="popstate";function Ow(i){i===void 0&&(i={});function e(r,a){let{pathname:l,search:c,hash:d}=r.location;return Wm("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(r,a){return typeof a=="string"?a:wh(a)}return Mw(e,t,null,i)}function yt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function AT(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Dw(){return Math.random().toString(36).substr(2,8)}function a0(i,e){return{usr:i.state,key:i.key,idx:e}}function Wm(i,e,t,r){return t===void 0&&(t=null),su({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?To(e):e,{state:t,key:e&&e.key||r||Dw()})}function wh(i){let{pathname:e="/",search:t="",hash:r=""}=i;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function To(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substr(t),i=i.substr(0,t));let r=i.indexOf("?");r>=0&&(e.search=i.substr(r),i=i.substr(0,r)),i&&(e.pathname=i)}return e}function Mw(i,e,t,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:l=!1}=r,c=a.history,d=Br.Pop,m=null,g=y();g==null&&(g=0,c.replaceState(su({},c.state,{idx:g}),""));function y(){return(c.state||{idx:null}).idx}function T(){d=Br.Pop;let C=y(),q=C==null?null:C-g;g=C,m&&m({action:d,location:U.location,delta:q})}function A(C,q){d=Br.Push;let X=Wm(U.location,C,q);g=y()+1;let W=a0(X,g),ae=U.createHref(X);try{c.pushState(W,"",ae)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;a.location.assign(ae)}l&&m&&m({action:d,location:U.location,delta:1})}function M(C,q){d=Br.Replace;let X=Wm(U.location,C,q);g=y();let W=a0(X,g),ae=U.createHref(X);c.replaceState(W,"",ae),l&&m&&m({action:d,location:U.location,delta:0})}function x(C){let q=a.location.origin!=="null"?a.location.origin:a.location.href,X=typeof C=="string"?C:wh(C);return X=X.replace(/ $/,"%20"),yt(q,"No window.location.(origin|href) available to create URL for href: "+X),new URL(X,q)}let U={get action(){return d},get location(){return i(a,c)},listen(C){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(s0,T),m=C,()=>{a.removeEventListener(s0,T),m=null}},createHref(C){return e(a,C)},createURL:x,encodeLocation(C){let q=x(C);return{pathname:q.pathname,search:q.search,hash:q.hash}},push:A,replace:M,go(C){return c.go(C)}};return U}var o0;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(o0||(o0={}));function Pw(i,e,t){return t===void 0&&(t="/"),Vw(i,e,t)}function Vw(i,e,t,r){let a=typeof e=="string"?To(e):e,l=Up(a.pathname||"/",t);if(l==null)return null;let c=wT(i);Lw(c);let d=null;for(let m=0;d==null&&m<c.length;++m){let g=Qw(l);d=Gw(c[m],g)}return d}function wT(i,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let a=(l,c,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(yt(m.relativePath.startsWith(r),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(r.length));let g=Fr([r,m.relativePath]),y=t.concat(m);l.children&&l.children.length>0&&(yt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),wT(l.children,e,y,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:Fw(g,l.index),routesMeta:y})};return i.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))a(l,c);else for(let m of RT(l.path))a(l,c,m)}),e}function RT(i){let e=i.split("/");if(e.length===0)return[];let[t,...r]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let c=RT(r.join("/")),d=[];return d.push(...c.map(m=>m===""?l:[l,m].join("/"))),a&&d.push(...c),d.map(m=>i.startsWith("/")&&m===""?"/":m)}function Lw(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:qw(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const kw=/^:[\w-]+$/,Uw=3,jw=2,zw=1,Bw=10,Hw=-2,l0=i=>i==="*";function Fw(i,e){let t=i.split("/"),r=t.length;return t.some(l0)&&(r+=Hw),e&&(r+=jw),t.filter(a=>!l0(a)).reduce((a,l)=>a+(kw.test(l)?Uw:l===""?zw:Bw),r)}function qw(i,e){return i.length===e.length&&i.slice(0,-1).every((r,a)=>r===e[a])?i[i.length-1]-e[e.length-1]:0}function Gw(i,e,t){let{routesMeta:r}=i,a={},l="/",c=[];for(let d=0;d<r.length;++d){let m=r[d],g=d===r.length-1,y=l==="/"?e:e.slice(l.length)||"/",T=Kw({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),A=m.route;if(!T)return null;Object.assign(a,T.params),c.push({params:a,pathname:Fr([l,T.pathname]),pathnameBase:Jw(Fr([l,T.pathnameBase])),route:A}),T.pathnameBase!=="/"&&(l=Fr([l,T.pathnameBase]))}return c}function Kw(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,r]=$w(i.path,i.caseSensitive,i.end),a=e.match(t);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:r.reduce((g,y,T)=>{let{paramName:A,isOptional:M}=y;if(A==="*"){let U=d[T]||"";c=l.slice(0,l.length-U.length).replace(/(.)\/+$/,"$1")}const x=d[T];return M&&!x?g[A]=void 0:g[A]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:c,pattern:i}}function $w(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),AT(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let r=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(r.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function Qw(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return AT(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function Up(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=i.charAt(t);return r&&r!=="/"?null:i.slice(t)||"/"}function Yw(i,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:a=""}=typeof i=="string"?To(i):i;return{pathname:t?t.startsWith("/")?t:Xw(t,e):e,search:Zw(r),hash:e2(a)}}function Xw(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Vm(i,e,t,r){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ww(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jp(i,e){let t=Ww(i);return e?t.map((r,a)=>a===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function zp(i,e,t,r){r===void 0&&(r=!1);let a;typeof i=="string"?a=To(i):(a=su({},i),yt(!a.pathname||!a.pathname.includes("?"),Vm("?","pathname","search",a)),yt(!a.pathname||!a.pathname.includes("#"),Vm("#","pathname","hash",a)),yt(!a.search||!a.search.includes("#"),Vm("#","search","hash",a)));let l=i===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=t;else{let T=e.length-1;if(!r&&c.startsWith("..")){let A=c.split("/");for(;A[0]==="..";)A.shift(),T-=1;a.pathname=A.join("/")}d=T>=0?e[T]:"/"}let m=Yw(a,d),g=c&&c!=="/"&&c.endsWith("/"),y=(l||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}const Fr=i=>i.join("/").replace(/\/\/+/g,"/"),Jw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),Zw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,e2=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function t2(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const CT=["post","put","patch","delete"];new Set(CT);const n2=["get",...CT];new Set(n2);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function au(){return au=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},au.apply(this,arguments)}const Bp=ee.createContext(null),i2=ee.createContext(null),ts=ee.createContext(null),ef=ee.createContext(null),ns=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),IT=ee.createContext(null);function r2(i,e){let{relative:t}=e===void 0?{}:e;bo()||yt(!1);let{basename:r,navigator:a}=ee.useContext(ts),{hash:l,pathname:c,search:d}=NT(i,{relative:t}),m=c;return r!=="/"&&(m=c==="/"?r:Fr([r,c])),a.createHref({pathname:m,search:d,hash:l})}function bo(){return ee.useContext(ef)!=null}function _u(){return bo()||yt(!1),ee.useContext(ef).location}function xT(i){ee.useContext(ts).static||ee.useLayoutEffect(i)}function Eu(){let{isDataRoute:i}=ee.useContext(ns);return i?y2():s2()}function s2(){bo()||yt(!1);let i=ee.useContext(Bp),{basename:e,future:t,navigator:r}=ee.useContext(ts),{matches:a}=ee.useContext(ns),{pathname:l}=_u(),c=JSON.stringify(jp(a,t.v7_relativeSplatPath)),d=ee.useRef(!1);return xT(()=>{d.current=!0}),ee.useCallback(function(g,y){if(y===void 0&&(y={}),!d.current)return;if(typeof g=="number"){r.go(g);return}let T=zp(g,JSON.parse(c),l,y.relative==="path");i==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Fr([e,T.pathname])),(y.replace?r.replace:r.push)(T,y.state,y)},[e,r,c,l,i])}function NT(i,e){let{relative:t}=e===void 0?{}:e,{future:r}=ee.useContext(ts),{matches:a}=ee.useContext(ns),{pathname:l}=_u(),c=JSON.stringify(jp(a,r.v7_relativeSplatPath));return ee.useMemo(()=>zp(i,JSON.parse(c),l,t==="path"),[i,c,l,t])}function a2(i,e){return o2(i,e)}function o2(i,e,t,r){bo()||yt(!1);let{navigator:a,static:l}=ee.useContext(ts),{matches:c}=ee.useContext(ns),d=c[c.length-1],m=d?d.params:{};d&&d.pathname;let g=d?d.pathnameBase:"/";d&&d.route;let y=_u(),T;if(e){var A;let q=typeof e=="string"?To(e):e;g==="/"||(A=q.pathname)!=null&&A.startsWith(g)||yt(!1),T=q}else T=y;let M=T.pathname||"/",x=M;if(g!=="/"){let q=g.replace(/^\//,"").split("/");x="/"+M.replace(/^\//,"").split("/").slice(q.length).join("/")}let U=Pw(i,{pathname:x}),C=f2(U&&U.map(q=>Object.assign({},q,{params:Object.assign({},m,q.params),pathname:Fr([g,a.encodeLocation?a.encodeLocation(q.pathname).pathname:q.pathname]),pathnameBase:q.pathnameBase==="/"?g:Fr([g,a.encodeLocation?a.encodeLocation(q.pathnameBase).pathname:q.pathnameBase])})),c,t,r);return e&&C?ee.createElement(ef.Provider,{value:{location:au({pathname:"/",search:"",hash:"",state:null,key:"default"},T),navigationType:Br.Pop}},C):C}function l2(){let i=g2(),e=t2(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},e),t?ee.createElement("pre",{style:a},t):null,null)}const u2=ee.createElement(l2,null);class c2 extends ee.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ee.createElement(ns.Provider,{value:this.props.routeContext},ee.createElement(IT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function h2(i){let{routeContext:e,match:t,children:r}=i,a=ee.useContext(Bp);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),ee.createElement(ns.Provider,{value:e},r)}function f2(i,e,t,r){var a;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),i==null){var l;if(!t)return null;if(t.errors)i=t.matches;else if((l=r)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let c=i,d=(a=t)==null?void 0:a.errors;if(d!=null){let y=c.findIndex(T=>T.route.id&&(d==null?void 0:d[T.route.id])!==void 0);y>=0||yt(!1),c=c.slice(0,Math.min(c.length,y+1))}let m=!1,g=-1;if(t&&r&&r.v7_partialHydration)for(let y=0;y<c.length;y++){let T=c[y];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=y),T.route.id){let{loaderData:A,errors:M}=t,x=T.route.loader&&A[T.route.id]===void 0&&(!M||M[T.route.id]===void 0);if(T.route.lazy||x){m=!0,g>=0?c=c.slice(0,g+1):c=[c[0]];break}}}return c.reduceRight((y,T,A)=>{let M,x=!1,U=null,C=null;t&&(M=d&&T.route.id?d[T.route.id]:void 0,U=T.route.errorElement||u2,m&&(g<0&&A===0?(v2("route-fallback"),x=!0,C=null):g===A&&(x=!0,C=T.route.hydrateFallbackElement||null)));let q=e.concat(c.slice(0,A+1)),X=()=>{let W;return M?W=U:x?W=C:T.route.Component?W=ee.createElement(T.route.Component,null):T.route.element?W=T.route.element:W=y,ee.createElement(h2,{match:T,routeContext:{outlet:y,matches:q,isDataRoute:t!=null},children:W})};return t&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?ee.createElement(c2,{location:t.location,revalidation:t.revalidation,component:U,error:M,children:X(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):X()},null)}var OT=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(OT||{}),DT=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(DT||{});function d2(i){let e=ee.useContext(Bp);return e||yt(!1),e}function m2(i){let e=ee.useContext(i2);return e||yt(!1),e}function p2(i){let e=ee.useContext(ns);return e||yt(!1),e}function MT(i){let e=p2(),t=e.matches[e.matches.length-1];return t.route.id||yt(!1),t.route.id}function g2(){var i;let e=ee.useContext(IT),t=m2(),r=MT();return e!==void 0?e:(i=t.errors)==null?void 0:i[r]}function y2(){let{router:i}=d2(OT.UseNavigateStable),e=MT(DT.UseNavigateStable),t=ee.useRef(!1);return xT(()=>{t.current=!0}),ee.useCallback(function(a,l){l===void 0&&(l={}),t.current&&(typeof a=="number"?i.navigate(a):i.navigate(a,au({fromRouteId:e},l)))},[i,e])}const u0={};function v2(i,e,t){u0[i]||(u0[i]=!0)}function _2(i,e){i==null||i.v7_startTransition,i==null||i.v7_relativeSplatPath}function E2(i){let{to:e,replace:t,state:r,relative:a}=i;bo()||yt(!1);let{future:l,static:c}=ee.useContext(ts),{matches:d}=ee.useContext(ns),{pathname:m}=_u(),g=Eu(),y=zp(e,jp(d,l.v7_relativeSplatPath),m,a==="path"),T=JSON.stringify(y);return ee.useEffect(()=>g(JSON.parse(T),{replace:t,state:r,relative:a}),[g,T,a,t,r]),null}function Vr(i){yt(!1)}function T2(i){let{basename:e="/",children:t=null,location:r,navigationType:a=Br.Pop,navigator:l,static:c=!1,future:d}=i;bo()&&yt(!1);let m=e.replace(/^\/*/,"/"),g=ee.useMemo(()=>({basename:m,navigator:l,static:c,future:au({v7_relativeSplatPath:!1},d)}),[m,d,l,c]);typeof r=="string"&&(r=To(r));let{pathname:y="/",search:T="",hash:A="",state:M=null,key:x="default"}=r,U=ee.useMemo(()=>{let C=Up(y,m);return C==null?null:{location:{pathname:C,search:T,hash:A,state:M,key:x},navigationType:a}},[m,y,T,A,M,x,a]);return U==null?null:ee.createElement(ts.Provider,{value:g},ee.createElement(ef.Provider,{children:t,value:U}))}function b2(i){let{children:e,location:t}=i;return a2(Jm(e),t)}new Promise(()=>{});function Jm(i,e){e===void 0&&(e=[]);let t=[];return ee.Children.forEach(i,(r,a)=>{if(!ee.isValidElement(r))return;let l=[...e,a];if(r.type===ee.Fragment){t.push.apply(t,Jm(r.props.children,l));return}r.type!==Vr&&yt(!1),!r.props.index||!r.props.children||yt(!1);let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=Jm(r.props.children,l)),t.push(c)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zm(){return Zm=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Zm.apply(this,arguments)}function S2(i,e){if(i==null)return{};var t={},r=Object.keys(i),a,l;for(l=0;l<r.length;l++)a=r[l],!(e.indexOf(a)>=0)&&(t[a]=i[a]);return t}function A2(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function w2(i,e){return i.button===0&&(!e||e==="_self")&&!A2(i)}const R2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],C2="6";try{window.__reactRouterVersion=C2}catch{}const I2="startTransition",c0=Sw[I2];function x2(i){let{basename:e,children:t,future:r,window:a}=i,l=ee.useRef();l.current==null&&(l.current=Ow({window:a,v5Compat:!0}));let c=l.current,[d,m]=ee.useState({action:c.action,location:c.location}),{v7_startTransition:g}=r||{},y=ee.useCallback(T=>{g&&c0?c0(()=>m(T)):m(T)},[m,g]);return ee.useLayoutEffect(()=>c.listen(y),[c,y]),ee.useEffect(()=>_2(r),[r]),ee.createElement(T2,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c,future:r})}const N2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",O2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lr=ee.forwardRef(function(e,t){let{onClick:r,relative:a,reloadDocument:l,replace:c,state:d,target:m,to:g,preventScrollReset:y,viewTransition:T}=e,A=S2(e,R2),{basename:M}=ee.useContext(ts),x,U=!1;if(typeof g=="string"&&O2.test(g)&&(x=g,N2))try{let W=new URL(window.location.href),ae=g.startsWith("//")?new URL(W.protocol+g):new URL(g),oe=Up(ae.pathname,M);ae.origin===W.origin&&oe!=null?g=oe+ae.search+ae.hash:U=!0}catch{}let C=r2(g,{relative:a}),q=D2(g,{replace:c,state:d,target:m,preventScrollReset:y,relative:a,viewTransition:T});function X(W){r&&r(W),W.defaultPrevented||q(W)}return ee.createElement("a",Zm({},A,{href:x||C,onClick:U||l?r:X,ref:t,target:m}))});var h0;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(h0||(h0={}));var f0;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(f0||(f0={}));function D2(i,e){let{target:t,replace:r,state:a,preventScrollReset:l,relative:c,viewTransition:d}=e===void 0?{}:e,m=Eu(),g=_u(),y=NT(i,{relative:c});return ee.useCallback(T=>{if(w2(T,t)){T.preventDefault();let A=r!==void 0?r:wh(g)===wh(y);m(i,{replace:A,state:a,preventScrollReset:l,relative:c,viewTransition:d})}},[g,m,y,r,a,t,i,l,c,d])}const M2=()=>{};var d0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let a=i.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},P2=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const a=i[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=i[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=i[t++],c=i[t++],d=i[t++],m=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const l=i[t++],c=i[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},VT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<i.length;a+=3){const l=i[a],c=a+1<i.length,d=c?i[a+1]:0,m=a+2<i.length,g=m?i[a+2]:0,y=l>>2,T=(l&3)<<4|d>>4;let A=(d&15)<<2|g>>6,M=g&63;m||(M=64,c||(A=64)),r.push(t[y],t[T],t[A],t[M])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(PT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):P2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<i.length;){const l=t[i.charAt(a++)],d=a<i.length?t[i.charAt(a)]:0;++a;const g=a<i.length?t[i.charAt(a)]:64;++a;const T=a<i.length?t[i.charAt(a)]:64;if(++a,l==null||d==null||g==null||T==null)throw new V2;const A=l<<2|d>>4;if(r.push(A),g!==64){const M=d<<4&240|g>>2;if(r.push(M),T!==64){const x=g<<6&192|T;r.push(x)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class V2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L2=function(i){const e=PT(i);return VT.encodeByteArray(e,!0)},Rh=function(i){return L2(i).replace(/\./g,"")},LT=function(i){try{return VT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=()=>k2().__FIREBASE_DEFAULTS__,j2=()=>{if(typeof process>"u"||typeof d0>"u")return;const i=d0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},z2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&LT(i[1]);return e&&JSON.parse(e)},tf=()=>{try{return M2()||U2()||j2()||z2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},kT=i=>{var e,t;return(t=(e=tf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},B2=i=>{const e=kT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},UT=()=>{var i;return(i=tf())===null||i===void 0?void 0:i.config},jT=i=>{var e;return(e=tf())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Rh(JSON.stringify(t)),Rh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function G2(){var i;const e=(i=tf())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Q2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Y2(){const i=nn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function X2(){return!G2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function W2(){try{return typeof indexedDB=="object"}catch{return!1}}function J2(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="FirebaseError";class rr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Z2,Object.setPrototypeOf(this,rr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?eR(l,r):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new rr(a,d,r)}}function eR(i,e){return i.replace(tR,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const tR=/\{\$([^}]+)}/g;function nR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function $s(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=i[a],c=e[a];if(m0(l)&&m0(c)){if(!$s(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function m0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $l(i){const e={};return i.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Ql(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function iR(i,e){const t=new rR(i,e);return t.subscribe.bind(t)}class rR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");sR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Lm),a.error===void 0&&(a.error=Lm),a.complete===void 0&&(a.complete=Lm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sR(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(i){return i&&i._delegate?i._delegate:i}class Qs{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new H2;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lR(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);r===d&&c.resolve(a)}return a}onInit(e,t){var r;const a=this.normalizeInstanceIdentifier(t),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&e(c,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oR(i){return i===Hs?void 0:i}function lR(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new aR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const cR={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},hR=ke.INFO,fR={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},dR=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),a=fR[e];if(a)console[a](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Hp=class{constructor(e){this.name=e,this._logLevel=hR,this._logHandler=dR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}};const mR=(i,e)=>e.some(t=>i instanceof t);let p0,g0;function pR(){return p0||(p0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gR(){return g0||(g0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const zT=new WeakMap,ep=new WeakMap,BT=new WeakMap,km=new WeakMap,Fp=new WeakMap;function yR(i){const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(qr(i.result)),a()},c=()=>{r(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&zT.set(t,i)}).catch(()=>{}),Fp.set(e,i),e}function vR(i){if(ep.has(i))return;const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});ep.set(i,e)}let tp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return ep.get(i);if(e==="objectStoreNames")return i.objectStoreNames||BT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function _R(i){tp=i(tp)}function ER(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(Um(this),e,...t);return BT.set(r,e.sort?e.sort():[e]),qr(r)}:gR().includes(i)?function(...e){return i.apply(Um(this),e),qr(zT.get(this))}:function(...e){return qr(i.apply(Um(this),e))}}function TR(i){return typeof i=="function"?ER(i):(i instanceof IDBTransaction&&vR(i),mR(i,pR())?new Proxy(i,tp):i)}function qr(i){if(i instanceof IDBRequest)return yR(i);if(km.has(i))return km.get(i);const e=TR(i);return e!==i&&(km.set(i,e),Fp.set(e,i)),e}const Um=i=>Fp.get(i);function bR(i,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(i,e),d=qr(c);return r&&c.addEventListener("upgradeneeded",m=>{r(qr(c.result),m.oldVersion,m.newVersion,qr(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const SR=["get","getKey","getAll","getAllKeys","count"],AR=["put","add","delete","clear"],jm=new Map;function y0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(jm.get(e))return jm.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=AR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||SR.includes(t)))return;const l=async function(c,...d){const m=this.transaction(c,a?"readwrite":"readonly");let g=m.store;return r&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),a&&m.done]))[0]};return jm.set(e,l),l}_R(i=>({...i,get:(e,t,r)=>y0(e,t)||i.get(e,t,r),has:(e,t)=>!!y0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(RR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function RR(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const np="@firebase/app",v0="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er=new Hp("@firebase/app"),CR="@firebase/app-compat",IR="@firebase/analytics-compat",xR="@firebase/analytics",NR="@firebase/app-check-compat",OR="@firebase/app-check",DR="@firebase/auth",MR="@firebase/auth-compat",PR="@firebase/database",VR="@firebase/data-connect",LR="@firebase/database-compat",kR="@firebase/functions",UR="@firebase/functions-compat",jR="@firebase/installations",zR="@firebase/installations-compat",BR="@firebase/messaging",HR="@firebase/messaging-compat",FR="@firebase/performance",qR="@firebase/performance-compat",GR="@firebase/remote-config",KR="@firebase/remote-config-compat",$R="@firebase/storage",QR="@firebase/storage-compat",YR="@firebase/firestore",XR="@firebase/vertexai",WR="@firebase/firestore-compat",JR="firebase",ZR="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="[DEFAULT]",eC={[np]:"fire-core",[CR]:"fire-core-compat",[xR]:"fire-analytics",[IR]:"fire-analytics-compat",[OR]:"fire-app-check",[NR]:"fire-app-check-compat",[DR]:"fire-auth",[MR]:"fire-auth-compat",[PR]:"fire-rtdb",[VR]:"fire-data-connect",[LR]:"fire-rtdb-compat",[kR]:"fire-fn",[UR]:"fire-fn-compat",[jR]:"fire-iid",[zR]:"fire-iid-compat",[BR]:"fire-fcm",[HR]:"fire-fcm-compat",[FR]:"fire-perf",[qR]:"fire-perf-compat",[GR]:"fire-rc",[KR]:"fire-rc-compat",[$R]:"fire-gcs",[QR]:"fire-gcs-compat",[YR]:"fire-fst",[WR]:"fire-fst-compat",[XR]:"fire-vertex","fire-js":"fire-js",[JR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Map,tC=new Map,rp=new Map;function _0(i,e){try{i.container.addComponent(e)}catch(t){er.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function fo(i){const e=i.name;if(rp.has(e))return er.debug(`There were multiple attempts to register component ${e}.`),!1;rp.set(e,i);for(const t of Ch.values())_0(t,i);for(const t of tC.values())_0(t,i);return!0}function qp(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function Un(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gr=new Tu("app","Firebase",nC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=ZR;function HT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ip,automaticDataCollectionEnabled:!1},e),a=r.name;if(typeof a!="string"||!a)throw Gr.create("bad-app-name",{appName:String(a)});if(t||(t=UT()),!t)throw Gr.create("no-options");const l=Ch.get(a);if(l){if($s(t,l.options)&&$s(r,l.config))return l;throw Gr.create("duplicate-app",{appName:a})}const c=new uR(a);for(const m of rp.values())c.addComponent(m);const d=new iC(t,r,c);return Ch.set(a,d),d}function FT(i=ip){const e=Ch.get(i);if(!e&&i===ip&&UT())return HT();if(!e)throw Gr.create("no-app",{appName:i});return e}function Kr(i,e,t){var r;let a=(r=eC[i])!==null&&r!==void 0?r:i;t&&(a+=`-${t}`);const l=a.match(/\s|\//),c=e.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${e}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),er.warn(d.join(" "));return}fo(new Qs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="firebase-heartbeat-database",sC=1,ou="firebase-heartbeat-store";let zm=null;function qT(){return zm||(zm=bR(rC,sC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ou)}catch(t){console.warn(t)}}}}).catch(i=>{throw Gr.create("idb-open",{originalErrorMessage:i.message})})),zm}async function aC(i){try{const t=(await qT()).transaction(ou),r=await t.objectStore(ou).get(GT(i));return await t.done,r}catch(e){if(e instanceof rr)er.warn(e.message);else{const t=Gr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});er.warn(t.message)}}}async function E0(i,e){try{const r=(await qT()).transaction(ou,"readwrite");await r.objectStore(ou).put(e,GT(i)),await r.done}catch(t){if(t instanceof rr)er.warn(t.message);else{const r=Gr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});er.warn(r.message)}}}function GT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=1024,lC=30;class uC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new hC(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=T0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>lC){const c=fC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){er.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=T0(),{heartbeatsToSend:r,unsentEntries:a}=cC(this._heartbeatsCache.heartbeats),l=Rh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return er.warn(t),""}}}function T0(){return new Date().toISOString().substring(0,10)}function cC(i,e=oC){const t=[];let r=i.slice();for(const a of i){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),b0(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),b0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class hC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return W2()?J2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await aC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return E0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return E0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function b0(i){return Rh(JSON.stringify({version:2,heartbeats:i})).length}function fC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(i){fo(new Qs("platform-logger",e=>new wR(e),"PRIVATE")),fo(new Qs("heartbeat",e=>new uC(e),"PRIVATE")),Kr(np,v0,i),Kr(np,v0,"esm2017"),Kr("fire-js","")}dC("");function Gp(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(i);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(i,r[a])&&(t[r[a]]=i[r[a]]);return t}function KT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mC=KT,$T=new Tu("auth","Firebase",KT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new Hp("@firebase/auth");function pC(i,...e){Ih.logLevel<=ke.WARN&&Ih.warn(`Auth (${So}): ${i}`,...e)}function fh(i,...e){Ih.logLevel<=ke.ERROR&&Ih.error(`Auth (${So}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(i,...e){throw Kp(i,...e)}function yi(i,...e){return Kp(i,...e)}function QT(i,e,t){const r=Object.assign(Object.assign({},mC()),{[e]:t});return new Tu("auth","Firebase",r).create(e,{appName:i.name})}function Wi(i){return QT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Kp(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return $T.create(i,...e)}function Te(i,e,...t){if(!i)throw Kp(e,...t)}function Qi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw fh(e),new Error(e)}function tr(i,e){i||Qi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function gC(){return S0()==="http:"||S0()==="https:"}function S0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gC()||$2()||"connection"in navigator)?navigator.onLine:!0}function vC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,t){this.shortDelay=e,this.longDelay=t,tr(t>e,"Short delay should be less than long delay!"),this.isMobile=q2()||Q2()}get(){return yC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(i,e){tr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Qi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Qi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Qi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],TC=new Su(3e4,6e4);function is(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function rs(i,e,t,r,a={}){return XT(i,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const d=bu(Object.assign({key:i.config.apiKey},c)).slice(1),m=await i._getAdditionalHeaders();m["Content-Type"]="application/json",i.languageCode&&(m["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:m},l);return K2()||(g.referrerPolicy="no-referrer"),YT.fetch()(await WT(i,i.config.apiHost,t,d),g)})}async function XT(i,e,t){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},_C),e);try{const a=new SC(i),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw sh(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw sh(i,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw sh(i,"email-already-in-use",c);if(m==="USER_DISABLED")throw sh(i,"user-disabled",c);const y=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw QT(i,y,g);Qn(i,y)}}catch(a){if(a instanceof rr)throw a;Qn(i,"network-request-failed",{message:String(a)})}}async function Au(i,e,t,r,a={}){const l=await rs(i,e,t,r,a);return"mfaPendingCredential"in l&&Qn(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function WT(i,e,t,r){const a=`${e}${t}?${r}`,l=i,c=l.config.emulator?$p(i.config,a):`${i.config.apiScheme}://${a}`;return EC.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}function bC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(yi(this.auth,"network-request-failed")),TC.get())})}}function sh(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=yi(i,e,r);return a.customData._tokenResponse=t,a}function A0(i){return i!==void 0&&i.enterprise!==void 0}class AC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return bC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wC(i,e){return rs(i,"GET","/v2/recaptchaConfig",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RC(i,e){return rs(i,"POST","/v1/accounts:delete",e)}async function xh(i,e){return rs(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CC(i,e=!1){const t=ln(i),r=await t.getIdToken(e),a=Qp(r);Te(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Zl(Bm(a.auth_time)),issuedAtTime:Zl(Bm(a.iat)),expirationTime:Zl(Bm(a.exp)),signInProvider:c||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Bm(i){return Number(i)*1e3}function Qp(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const a=LT(t);return a?JSON.parse(a):(fh("Failed to decode base64 JWT payload"),null)}catch(a){return fh("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function w0(i){const e=Qp(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof rr&&IC(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function IC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(i){var e;const t=i.auth,r=await i.getIdToken(),a=await lu(i,xh(t,{idToken:r}));Te(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];i._notifyReloadListener(l);const c=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?JT(l.providerUserInfo):[],d=OC(i.providerData,c),m=i.isAnonymous,g=!(i.email&&l.passwordHash)&&!(d!=null&&d.length),y=m?g:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ap(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(i,T)}async function NC(i){const e=ln(i);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OC(i,e){return[...i.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function JT(i){return i.map(e=>{var{providerId:t}=e,r=Gp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(i,e){const t=await XT(i,{},async()=>{const r=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=i.config,c=await WT(i,a,"/v1/token",`key=${l}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",YT.fetch()(c,{method:"POST",headers:d,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function MC(i,e){return rs(i,"POST","/v2/accounts:revokeToken",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):w0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=w0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await DC(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new lo;return r&&(Te(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Te(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Te(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return Qi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Kn{constructor(e){var{uid:t,auth:r,stsTokenManager:a}=e,l=Gp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ap(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await lu(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return CC(this,e)}reload(){return NC(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Nh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await lu(this,RC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,a,l,c,d,m,g,y;const T=(r=t.displayName)!==null&&r!==void 0?r:void 0,A=(a=t.email)!==null&&a!==void 0?a:void 0,M=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,x=(c=t.photoURL)!==null&&c!==void 0?c:void 0,U=(d=t.tenantId)!==null&&d!==void 0?d:void 0,C=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,q=(g=t.createdAt)!==null&&g!==void 0?g:void 0,X=(y=t.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:W,emailVerified:ae,isAnonymous:oe,providerData:pe,stsTokenManager:D}=t;Te(W&&D,e,"internal-error");const R=lo.fromJSON(this.name,D);Te(typeof W=="string",e,"internal-error"),Pr(T,e.name),Pr(A,e.name),Te(typeof ae=="boolean",e,"internal-error"),Te(typeof oe=="boolean",e,"internal-error"),Pr(M,e.name),Pr(x,e.name),Pr(U,e.name),Pr(C,e.name),Pr(q,e.name),Pr(X,e.name);const I=new Kn({uid:W,auth:e,email:A,emailVerified:ae,displayName:T,isAnonymous:oe,photoURL:x,phoneNumber:M,tenantId:U,stsTokenManager:R,createdAt:q,lastLoginAt:X});return pe&&Array.isArray(pe)&&(I.providerData=pe.map(V=>Object.assign({},V))),C&&(I._redirectEventId=C),I}static async _fromIdTokenResponse(e,t,r=!1){const a=new lo;a.updateFromServerResponse(t);const l=new Kn({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Nh(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Te(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?JT(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),d=new lo;d.updateFromIdToken(r);const m=new Kn({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new ap(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0=new Map;function Yi(i){tr(i instanceof Function,"Expected a class definition");let e=R0.get(i);return e?(tr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,R0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}ZT.type="NONE";const C0=ZT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(i,e,t){return`firebase:${i}:${e}:${t}`}class uo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=dh(this.userKey,a.apiKey,l),this.fullPersistenceKey=dh("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await xh(this.auth,{idToken:e}).catch(()=>{});return t?Kn._fromGetAccountInfoResponse(this.auth,t,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new uo(Yi(C0),e,r);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Yi(C0);const c=dh(r,e.config.apiKey,e.name);let d=null;for(const g of t)try{const y=await g._get(c);if(y){let T;if(typeof y=="string"){const A=await xh(e,{idToken:y}).catch(()=>{});if(!A)break;T=await Kn._fromGetAccountInfoResponse(e,A,y)}else T=Kn._fromJSON(e,y);g!==l&&(d=T),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new uo(l,e,r):(l=m[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(c)}catch{}})),new uo(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(i1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(e1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(s1(e))return"Blackberry";if(a1(e))return"Webos";if(t1(e))return"Safari";if((e.includes("chrome/")||n1(e))&&!e.includes("edge/"))return"Chrome";if(r1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function e1(i=nn()){return/firefox\//i.test(i)}function t1(i=nn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function n1(i=nn()){return/crios\//i.test(i)}function i1(i=nn()){return/iemobile/i.test(i)}function r1(i=nn()){return/android/i.test(i)}function s1(i=nn()){return/blackberry/i.test(i)}function a1(i=nn()){return/webos/i.test(i)}function Yp(i=nn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function PC(i=nn()){var e;return Yp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function VC(){return Y2()&&document.documentMode===10}function o1(i=nn()){return Yp(i)||r1(i)||a1(i)||s1(i)||/windows phone/i.test(i)||i1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(i,e=[]){let t;switch(i){case"Browser":t=I0(nn());break;case"Worker":t=`${I0(nn())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${So}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,d)=>{try{const m=e(l);c(m)}catch(m){d(m)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(i,e={}){return rs(i,"GET","/v2/passwordPolicy",is(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=6;class jC{constructor(e){var t,r,a,l;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:UC,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,a,l,c,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(r=m.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(c=m.containsNumericCharacter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x0(this),this.idTokenSubscription=new x0(this),this.beforeStateQueue=new LC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$T,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Yi(t)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await xh(this,{idToken:e}),r=await Kn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Un(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!c||c===d)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Wi(this));const t=e?ln(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Yi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kC(this),t=new jC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await MC(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Yi(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[Yi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,a);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=l1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&pC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function ta(i){return ln(i)}class x0{constructor(e){this.auth=e,this.observer=null,this.addObserver=iR(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BC(i){nf=i}function u1(i){return nf.loadJS(i)}function HC(){return nf.recaptchaEnterpriseScript}function FC(){return nf.gapiScript}function qC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class GC{constructor(){this.enterprise=new KC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class KC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const $C="recaptcha-enterprise",c1="NO_RECAPTCHA";class QC{constructor(e){this.type=$C,this.auth=ta(e)}async verify(e="verify",t=!1){async function r(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(c,d)=>{wC(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new AC(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,c(g.siteKey)}}).catch(m=>{d(m)})})}function a(l,c,d){const m=window.grecaptcha;A0(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{c(g)}).catch(()=>{c(c1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new GC().execute("siteKey",{action:"verify"}):new Promise((l,c)=>{r(this.auth).then(d=>{if(!t&&A0(window.grecaptcha))a(d,l,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=HC();m.length!==0&&(m+=d),u1(m).then(()=>{a(d,l,c)}).catch(g=>{c(g)})}}).catch(d=>{c(d)})})}}async function N0(i,e,t,r=!1,a=!1){const l=new QC(i);let c;if(a)c=c1;else try{c=await l.verify(t)}catch{c=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function op(i,e,t,r,a){var l;if(!((l=i._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await N0(i,e,t,t==="getOobCode");return r(i,c)}else return r(i,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await N0(i,e,t,t==="getOobCode");return r(i,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(i,e){const t=qp(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if($s(l,e??{}))return a;Qn(a,"already-initialized")}return t.initialize({options:e})}function XC(i,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Yi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function WC(i,e,t){const r=ta(i);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=h1(e),{host:c,port:d}=JC(e),m=d===null?"":`:${d}`,g={url:`${l}//${c}${m}/`},y=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te($s(g,r.config.emulator)&&$s(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=g,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,ZC()}function h1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function JC(i){const e=h1(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:O0(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:O0(c)}}}function O0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function ZC(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Qi("not implemented")}_getIdTokenResponse(e){return Qi("not implemented")}_linkToIdToken(e,t){return Qi("not implemented")}_getReauthenticationResolver(e){return Qi("not implemented")}}async function eI(i,e){return rs(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(i,e){return Au(i,"POST","/v1/accounts:signInWithPassword",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(i,e){return Au(i,"POST","/v1/accounts:signInWithEmailLink",is(i,e))}async function iI(i,e){return Au(i,"POST","/v1/accounts:signInWithEmailLink",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Xp{constructor(e,t,r,a=null){super("password",r),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new uu(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new uu(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(e,t,"signInWithPassword",tI);case"emailLink":return nI(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return op(e,r,"signUpPassword",eI);case"emailLink":return iI(e,{idToken:t,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(i,e){return Au(i,"POST","/v1/accounts:signInWithIdp",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="http://localhost";class Ys extends Xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ys(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=t,l=Gp(t,["providerId","signInMethod"]);if(!r||!a)return null;const c=new Ys(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return co(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,co(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,co(e,t)}buildRequest(){const e={requestUri:rI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function aI(i){const e=$l(Ql(i)).link,t=e?$l(Ql(e)).deep_link_id:null,r=$l(Ql(i)).deep_link_id;return(r?$l(Ql(r)).link:null)||r||t||e||i}class Wp{constructor(e){var t,r,a,l,c,d;const m=$l(Ql(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,y=(r=m.oobCode)!==null&&r!==void 0?r:null,T=sI((a=m.mode)!==null&&a!==void 0?a:null);Te(g&&y&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=y,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(c=m.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=aI(e);try{return new Wp(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,t){return uu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Wp.parseLink(t);return Te(r,"argument-error"),uu._fromEmailAndCode(e,r.code,r.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends f1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends wu{constructor(){super("facebook.com")}static credential(e){return Ys._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ys._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ur.credential(t,r)}catch{return null}}}Ur.GOOGLE_SIGN_IN_METHOD="google.com";Ur.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends wu{constructor(){super("github.com")}static credential(e){return Ys._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr extends wu{constructor(){super("twitter.com")}static credential(e,t){return Ys._fromParams({providerId:zr.PROVIDER_ID,signInMethod:zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return zr.credentialFromTaggedObject(e)}static credentialFromError(e){return zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return zr.credential(t,r)}catch{return null}}}zr.TWITTER_SIGN_IN_METHOD="twitter.com";zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(i,e){return Au(i,"POST","/v1/accounts:signUp",is(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await Kn._fromIdTokenResponse(e,r,a),c=D0(r);return new Xs({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=D0(r);return new Xs({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function D0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends rr{constructor(e,t,r,a){var l;super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new Oh(e,t,r,a)}}function d1(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(i,l,e,r):l})}async function lI(i,e,t=!1){const r=await lu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return Xs._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(i,e,t=!1){const{auth:r}=i;if(Un(r.app))return Promise.reject(Wi(r));const a="reauthenticate";try{const l=await lu(i,d1(r,a,e,i),t);Te(l.idToken,r,"internal-error");const c=Qp(l.idToken);Te(c,r,"internal-error");const{sub:d}=c;return Te(i.uid===d,r,"user-mismatch"),Xs._forOperation(i,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(i,e,t=!1){if(Un(i.app))return Promise.reject(Wi(i));const r="signIn",a=await d1(i,r,e),l=await Xs._fromIdTokenResponse(i,r,a);return t||await i._updateCurrentUser(l.user),l}async function cI(i,e){return m1(ta(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(i){const e=ta(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function hI(i,e,t){if(Un(i.app))return Promise.reject(Wi(i));const r=ta(i),c=await op(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oI).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&p1(i),m}),d=await Xs._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(d.user),d}function fI(i,e,t){return Un(i.app)?Promise.reject(Wi(i)):cI(ln(i),Ao.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&p1(i),r})}function dI(i,e,t,r){return ln(i).onIdTokenChanged(e,t,r)}function mI(i,e,t){return ln(i).beforeAuthStateChanged(e,t)}function pI(i,e,t,r){return ln(i).onAuthStateChanged(e,t,r)}function gI(i){return ln(i).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yI=1e3,vI=10;class y1 extends g1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=o1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,m)=>{this.notifyListeners(c,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);VC()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,vI):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},yI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}y1.type="LOCAL";const _I=y1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends g1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}v1.type="SESSION";const _1=v1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new rf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const d=Array.from(c).map(async g=>g(t.origin,l)),m=await EI(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,m)=>{const g=Jp("",20);a.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(T){const A=T;if(A.data.eventId===g)switch(A.data.status){case"ack":clearTimeout(y),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(A.data.response);break;default:clearTimeout(y),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vi(){return window}function bI(i){vi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(){return typeof vi().WorkerGlobalScope<"u"&&typeof vi().importScripts=="function"}async function SI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function wI(){return E1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="firebaseLocalStorageDb",RI=1,Mh="firebaseLocalStorage",b1="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function sf(i,e){return i.transaction([Mh],e?"readwrite":"readonly").objectStore(Mh)}function CI(){const i=indexedDB.deleteDatabase(T1);return new Ru(i).toPromise()}function lp(){const i=indexedDB.open(T1,RI);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Mh,{keyPath:b1})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Mh)?e(r):(r.close(),await CI(),e(await lp()))})})}async function M0(i,e,t){const r=sf(i,!0).put({[b1]:e,value:t});return new Ru(r).toPromise()}async function II(i,e){const t=sf(i,!1).get(e),r=await new Ru(t).toPromise();return r===void 0?null:r.value}function P0(i,e){const t=sf(i,!0).delete(e);return new Ru(t).toPromise()}const xI=800,NI=3;class S1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await lp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>NI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return E1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(wI()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await SI(),!this.activeServiceWorker)return;this.sender=new TI(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await lp();return await M0(e,Dh,"1"),await P0(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>M0(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>II(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>P0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=sf(a,!1).getAll();return new Ru(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S1.type="LOCAL";const OI=S1;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(i,e){return e?Yi(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp extends Xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,t){return co(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function MI(i){return m1(i.auth,new Zp(i),i.bypassAuthState)}function PI(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),uI(t,new Zp(i),i.bypassAuthState)}async function VI(i){const{auth:e,user:t}=i;return Te(t,e,"internal-error"),lI(t,new Zp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MI;case"linkViaPopup":case"linkViaRedirect":return VI;case"reauthViaPopup":case"reauthViaRedirect":return PI;default:Qn(this.auth,"internal-error")}}resolve(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI=new Su(2e3,1e4);class ao extends A1{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){tr(this.filter.length===1,"Popup operations only handle one event");const e=Jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LI.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="pendingRedirect",mh=new Map;class UI extends A1{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const r=await jI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jI(i,e){const t=HI(e),r=BI(i);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function zI(i,e){mh.set(i._key(),e)}function BI(i){return Yi(i._redirectPersistence)}function HI(i){return dh(kI,i.config.apiKey,i.name)}async function FI(i,e,t=!1){if(Un(i.app))return Promise.reject(Wi(i));const r=ta(i),a=DI(r,e),c=await new UI(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=10*60*1e3;class GI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!KI(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!w1(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(yi(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=qI&&this.cachedEventUids.clear(),this.cachedEventUids.has(V0(e))}saveEventToCache(e){this.cachedEventUids.add(V0(e)),this.lastProcessedEventTime=Date.now()}}function V0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function w1({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function KI(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return w1(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(i,e={}){return rs(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YI=/^https?/;async function XI(i){if(i.config.emulator)return;const{authorizedDomains:e}=await $I(i);for(const t of e)try{if(WI(t))return}catch{}Qn(i,"unauthorized-domain")}function WI(i){const e=sp(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!YI.test(t))return!1;if(QI.test(i))return r===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JI=new Su(3e4,6e4);function L0(){const i=vi().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function ZI(i){return new Promise((e,t)=>{var r,a,l;function c(){L0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{L0(),t(yi(i,"network-request-failed"))},timeout:JI.get()})}if(!((a=(r=vi().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=vi().gapi)===null||l===void 0)&&l.load)c();else{const d=qC("iframefcb");return vi()[d]=()=>{gapi.load?c():t(yi(i,"network-request-failed"))},u1(`${FC()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw ph=null,e})}let ph=null;function ex(i){return ph=ph||ZI(i),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=new Su(5e3,15e3),nx="__/auth/iframe",ix="emulator/auth/iframe",rx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ax(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?$p(e,ix):`https://${i.config.authDomain}/${nx}`,r={apiKey:e.apiKey,appName:i.name,v:So},a=sx.get(i.config.apiHost);a&&(r.eid=a);const l=i._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${bu(r).slice(1)}`}async function ox(i){const e=await ex(i),t=vi().gapi;return Te(t,i,"internal-error"),e.open({where:document.body,url:ax(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rx,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=yi(i,"network-request-failed"),d=vi().setTimeout(()=>{l(c)},tx.get());function m(){vi().clearTimeout(d),a(r)}r.ping(m).then(m,()=>{l(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ux=500,cx=600,hx="_blank",fx="http://localhost";class k0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dx(i,e,t,r=ux,a=cx){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m=Object.assign(Object.assign({},lx),{width:r.toString(),height:a.toString(),top:l,left:c}),g=nn().toLowerCase();t&&(d=n1(g)?hx:t),e1(g)&&(e=e||fx,m.scrollbars="yes");const y=Object.entries(m).reduce((A,[M,x])=>`${A}${M}=${x},`,"");if(PC(g)&&d!=="_self")return mx(e||"",d),new k0(null);const T=window.open(e||"",d,y);Te(T,i,"popup-blocked");try{T.focus()}catch{}return new k0(T)}function mx(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="__/auth/handler",gx="emulator/auth/handler",yx=encodeURIComponent("fac");async function U0(i,e,t,r,a,l){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:So,eventId:a};if(e instanceof f1){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",nR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,T]of Object.entries({}))c[y]=T}if(e instanceof wu){const y=e.getScopes().filter(T=>T!=="");y.length>0&&(c.scopes=y.join(","))}i.tenantId&&(c.tid=i.tenantId);const d=c;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await i._getAppCheckToken(),g=m?`#${yx}=${encodeURIComponent(m)}`:"";return`${vx(i)}?${bu(d).slice(1)}${g}`}function vx({config:i}){return i.emulator?$p(i,gx):`https://${i.authDomain}/${px}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="webStorageSupport";class _x{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_1,this._completeRedirectFn=FI,this._overrideRedirectResult=zI}async _openPopup(e,t,r,a){var l;tr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const c=await U0(e,t,r,sp(),a);return dx(e,c,Jp())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await U0(e,t,r,sp(),a);return bI(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(tr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ox(e),r=new GI(e);return t.register("authEvent",a=>(Te(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Hm,{type:Hm},a=>{var l;const c=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Hm];c!==void 0&&t(!!c),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=XI(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return o1()||t1()||Yp()}}const Ex=_x;var j0="@firebase/auth",z0="1.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Sx(i){fo(new Qs("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=r.options;Te(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:l1(i)},g=new zC(r,a,l,m);return XC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),fo(new Qs("auth-internal",e=>{const t=ta(e.getProvider("auth").getImmediate());return(r=>new Tx(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Kr(j0,z0,bx(i)),Kr(j0,z0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax=5*60,wx=jT("authIdTokenMaxAge")||Ax;let B0=null;const Rx=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>wx)return;const a=t==null?void 0:t.token;B0!==a&&(B0=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function wo(i=FT()){const e=qp(i,"auth");if(e.isInitialized())return e.getImmediate();const t=YC(i,{popupRedirectResolver:Ex,persistence:[OI,_I,_1]}),r=jT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=Rx(l.toString());mI(t,c,()=>c(t.currentUser)),dI(t,d=>c(d))}}const a=kT("auth");return a&&WC(t,`http://${a}`),t}function Cx(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}BC({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=a=>{const l=yi("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",Cx().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Sx("Browser");const R1=ee.createContext();function Ix(){return ee.useContext(R1)}function xx({children:i}){const[e,t]=ee.useState(null),[r,a]=ee.useState(!0),l=wo();ee.useEffect(()=>pI(l,m=>{t(m),a(!1)}),[l]);const c={currentUser:e,loading:r};return b.jsx(R1.Provider,{value:c,children:!r&&i})}const Fl=({children:i})=>{const{currentUser:e,loading:t}=Ix();return t?b.jsx("div",{className:"loading-container",children:b.jsx("div",{className:"spinner"})}):e?i:b.jsx(E2,{to:"/login"})};var H0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $r,C1;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,R){function I(){}I.prototype=R.prototype,D.D=R.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(V,L,j){for(var O=Array(arguments.length-2),We=2;We<arguments.length;We++)O[We-2]=arguments[We];return R.prototype[L].apply(V,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,R,I){I||(I=0);var V=Array(16);if(typeof R=="string")for(var L=0;16>L;++L)V[L]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(L=0;16>L;++L)V[L]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=D.g[0],I=D.g[1],L=D.g[2];var j=D.g[3],O=R+(j^I&(L^j))+V[0]+3614090360&4294967295;R=I+(O<<7&4294967295|O>>>25),O=j+(L^R&(I^L))+V[1]+3905402710&4294967295,j=R+(O<<12&4294967295|O>>>20),O=L+(I^j&(R^I))+V[2]+606105819&4294967295,L=j+(O<<17&4294967295|O>>>15),O=I+(R^L&(j^R))+V[3]+3250441966&4294967295,I=L+(O<<22&4294967295|O>>>10),O=R+(j^I&(L^j))+V[4]+4118548399&4294967295,R=I+(O<<7&4294967295|O>>>25),O=j+(L^R&(I^L))+V[5]+1200080426&4294967295,j=R+(O<<12&4294967295|O>>>20),O=L+(I^j&(R^I))+V[6]+2821735955&4294967295,L=j+(O<<17&4294967295|O>>>15),O=I+(R^L&(j^R))+V[7]+4249261313&4294967295,I=L+(O<<22&4294967295|O>>>10),O=R+(j^I&(L^j))+V[8]+1770035416&4294967295,R=I+(O<<7&4294967295|O>>>25),O=j+(L^R&(I^L))+V[9]+2336552879&4294967295,j=R+(O<<12&4294967295|O>>>20),O=L+(I^j&(R^I))+V[10]+4294925233&4294967295,L=j+(O<<17&4294967295|O>>>15),O=I+(R^L&(j^R))+V[11]+2304563134&4294967295,I=L+(O<<22&4294967295|O>>>10),O=R+(j^I&(L^j))+V[12]+1804603682&4294967295,R=I+(O<<7&4294967295|O>>>25),O=j+(L^R&(I^L))+V[13]+4254626195&4294967295,j=R+(O<<12&4294967295|O>>>20),O=L+(I^j&(R^I))+V[14]+2792965006&4294967295,L=j+(O<<17&4294967295|O>>>15),O=I+(R^L&(j^R))+V[15]+1236535329&4294967295,I=L+(O<<22&4294967295|O>>>10),O=R+(L^j&(I^L))+V[1]+4129170786&4294967295,R=I+(O<<5&4294967295|O>>>27),O=j+(I^L&(R^I))+V[6]+3225465664&4294967295,j=R+(O<<9&4294967295|O>>>23),O=L+(R^I&(j^R))+V[11]+643717713&4294967295,L=j+(O<<14&4294967295|O>>>18),O=I+(j^R&(L^j))+V[0]+3921069994&4294967295,I=L+(O<<20&4294967295|O>>>12),O=R+(L^j&(I^L))+V[5]+3593408605&4294967295,R=I+(O<<5&4294967295|O>>>27),O=j+(I^L&(R^I))+V[10]+38016083&4294967295,j=R+(O<<9&4294967295|O>>>23),O=L+(R^I&(j^R))+V[15]+3634488961&4294967295,L=j+(O<<14&4294967295|O>>>18),O=I+(j^R&(L^j))+V[4]+3889429448&4294967295,I=L+(O<<20&4294967295|O>>>12),O=R+(L^j&(I^L))+V[9]+568446438&4294967295,R=I+(O<<5&4294967295|O>>>27),O=j+(I^L&(R^I))+V[14]+3275163606&4294967295,j=R+(O<<9&4294967295|O>>>23),O=L+(R^I&(j^R))+V[3]+4107603335&4294967295,L=j+(O<<14&4294967295|O>>>18),O=I+(j^R&(L^j))+V[8]+1163531501&4294967295,I=L+(O<<20&4294967295|O>>>12),O=R+(L^j&(I^L))+V[13]+2850285829&4294967295,R=I+(O<<5&4294967295|O>>>27),O=j+(I^L&(R^I))+V[2]+4243563512&4294967295,j=R+(O<<9&4294967295|O>>>23),O=L+(R^I&(j^R))+V[7]+1735328473&4294967295,L=j+(O<<14&4294967295|O>>>18),O=I+(j^R&(L^j))+V[12]+2368359562&4294967295,I=L+(O<<20&4294967295|O>>>12),O=R+(I^L^j)+V[5]+4294588738&4294967295,R=I+(O<<4&4294967295|O>>>28),O=j+(R^I^L)+V[8]+2272392833&4294967295,j=R+(O<<11&4294967295|O>>>21),O=L+(j^R^I)+V[11]+1839030562&4294967295,L=j+(O<<16&4294967295|O>>>16),O=I+(L^j^R)+V[14]+4259657740&4294967295,I=L+(O<<23&4294967295|O>>>9),O=R+(I^L^j)+V[1]+2763975236&4294967295,R=I+(O<<4&4294967295|O>>>28),O=j+(R^I^L)+V[4]+1272893353&4294967295,j=R+(O<<11&4294967295|O>>>21),O=L+(j^R^I)+V[7]+4139469664&4294967295,L=j+(O<<16&4294967295|O>>>16),O=I+(L^j^R)+V[10]+3200236656&4294967295,I=L+(O<<23&4294967295|O>>>9),O=R+(I^L^j)+V[13]+681279174&4294967295,R=I+(O<<4&4294967295|O>>>28),O=j+(R^I^L)+V[0]+3936430074&4294967295,j=R+(O<<11&4294967295|O>>>21),O=L+(j^R^I)+V[3]+3572445317&4294967295,L=j+(O<<16&4294967295|O>>>16),O=I+(L^j^R)+V[6]+76029189&4294967295,I=L+(O<<23&4294967295|O>>>9),O=R+(I^L^j)+V[9]+3654602809&4294967295,R=I+(O<<4&4294967295|O>>>28),O=j+(R^I^L)+V[12]+3873151461&4294967295,j=R+(O<<11&4294967295|O>>>21),O=L+(j^R^I)+V[15]+530742520&4294967295,L=j+(O<<16&4294967295|O>>>16),O=I+(L^j^R)+V[2]+3299628645&4294967295,I=L+(O<<23&4294967295|O>>>9),O=R+(L^(I|~j))+V[0]+4096336452&4294967295,R=I+(O<<6&4294967295|O>>>26),O=j+(I^(R|~L))+V[7]+1126891415&4294967295,j=R+(O<<10&4294967295|O>>>22),O=L+(R^(j|~I))+V[14]+2878612391&4294967295,L=j+(O<<15&4294967295|O>>>17),O=I+(j^(L|~R))+V[5]+4237533241&4294967295,I=L+(O<<21&4294967295|O>>>11),O=R+(L^(I|~j))+V[12]+1700485571&4294967295,R=I+(O<<6&4294967295|O>>>26),O=j+(I^(R|~L))+V[3]+2399980690&4294967295,j=R+(O<<10&4294967295|O>>>22),O=L+(R^(j|~I))+V[10]+4293915773&4294967295,L=j+(O<<15&4294967295|O>>>17),O=I+(j^(L|~R))+V[1]+2240044497&4294967295,I=L+(O<<21&4294967295|O>>>11),O=R+(L^(I|~j))+V[8]+1873313359&4294967295,R=I+(O<<6&4294967295|O>>>26),O=j+(I^(R|~L))+V[15]+4264355552&4294967295,j=R+(O<<10&4294967295|O>>>22),O=L+(R^(j|~I))+V[6]+2734768916&4294967295,L=j+(O<<15&4294967295|O>>>17),O=I+(j^(L|~R))+V[13]+1309151649&4294967295,I=L+(O<<21&4294967295|O>>>11),O=R+(L^(I|~j))+V[4]+4149444226&4294967295,R=I+(O<<6&4294967295|O>>>26),O=j+(I^(R|~L))+V[11]+3174756917&4294967295,j=R+(O<<10&4294967295|O>>>22),O=L+(R^(j|~I))+V[2]+718787259&4294967295,L=j+(O<<15&4294967295|O>>>17),O=I+(j^(L|~R))+V[9]+3951481745&4294967295,D.g[0]=D.g[0]+R&4294967295,D.g[1]=D.g[1]+(L+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+L&4294967295,D.g[3]=D.g[3]+j&4294967295}r.prototype.u=function(D,R){R===void 0&&(R=D.length);for(var I=R-this.blockSize,V=this.B,L=this.h,j=0;j<R;){if(L==0)for(;j<=I;)a(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<R;)if(V[L++]=D.charCodeAt(j++),L==this.blockSize){a(this,V),L=0;break}}else for(;j<R;)if(V[L++]=D[j++],L==this.blockSize){a(this,V),L=0;break}}this.h=L,this.o+=R},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var R=1;R<D.length-8;++R)D[R]=0;var I=8*this.o;for(R=D.length-8;R<D.length;++R)D[R]=I&255,I/=256;for(this.u(D),D=Array(16),R=I=0;4>R;++R)for(var V=0;32>V;V+=8)D[I++]=this.g[R]>>>V&255;return D};function l(D,R){var I=d;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=R(D)}function c(D,R){this.h=R;for(var I=[],V=!0,L=D.length-1;0<=L;L--){var j=D[L]|0;V&&j==R||(I[L]=j,V=!1)}this.g=I}var d={};function m(D){return-128<=D&&128>D?l(D,function(R){return new c([R|0],0>R?-1:0)}):new c([D|0],0>D?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return C(g(-D));for(var R=[],I=1,V=0;D>=I;V++)R[V]=D/I|0,I*=4294967296;return new c(R,0)}function y(D,R){if(D.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(D.charAt(0)=="-")return C(y(D.substring(1),R));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),V=T,L=0;L<D.length;L+=8){var j=Math.min(8,D.length-L),O=parseInt(D.substring(L,L+j),R);8>j?(j=g(Math.pow(R,j)),V=V.j(j).add(g(O))):(V=V.j(I),V=V.add(g(O)))}return V}var T=m(0),A=m(1),M=m(16777216);i=c.prototype,i.m=function(){if(U(this))return-C(this).m();for(var D=0,R=1,I=0;I<this.g.length;I++){var V=this.i(I);D+=(0<=V?V:4294967296+V)*R,R*=4294967296}return D},i.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(x(this))return"0";if(U(this))return"-"+C(this).toString(D);for(var R=g(Math.pow(D,6)),I=this,V="";;){var L=ae(I,R).g;I=q(I,L.j(R));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=L,x(I))return j+V;for(;6>j.length;)j="0"+j;V=j+V}},i.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function x(D){if(D.h!=0)return!1;for(var R=0;R<D.g.length;R++)if(D.g[R]!=0)return!1;return!0}function U(D){return D.h==-1}i.l=function(D){return D=q(this,D),U(D)?-1:x(D)?0:1};function C(D){for(var R=D.g.length,I=[],V=0;V<R;V++)I[V]=~D.g[V];return new c(I,~D.h).add(A)}i.abs=function(){return U(this)?C(this):this},i.add=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],V=0,L=0;L<=R;L++){var j=V+(this.i(L)&65535)+(D.i(L)&65535),O=(j>>>16)+(this.i(L)>>>16)+(D.i(L)>>>16);V=O>>>16,j&=65535,O&=65535,I[L]=O<<16|j}return new c(I,I[I.length-1]&-2147483648?-1:0)};function q(D,R){return D.add(C(R))}i.j=function(D){if(x(this)||x(D))return T;if(U(this))return U(D)?C(this).j(C(D)):C(C(this).j(D));if(U(D))return C(this.j(C(D)));if(0>this.l(M)&&0>D.l(M))return g(this.m()*D.m());for(var R=this.g.length+D.g.length,I=[],V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<D.g.length;L++){var j=this.i(V)>>>16,O=this.i(V)&65535,We=D.i(L)>>>16,Fe=D.i(L)&65535;I[2*V+2*L]+=O*Fe,X(I,2*V+2*L),I[2*V+2*L+1]+=j*Fe,X(I,2*V+2*L+1),I[2*V+2*L+1]+=O*We,X(I,2*V+2*L+1),I[2*V+2*L+2]+=j*We,X(I,2*V+2*L+2)}for(V=0;V<R;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=R;V<2*R;V++)I[V]=0;return new c(I,0)};function X(D,R){for(;(D[R]&65535)!=D[R];)D[R+1]+=D[R]>>>16,D[R]&=65535,R++}function W(D,R){this.g=D,this.h=R}function ae(D,R){if(x(R))throw Error("division by zero");if(x(D))return new W(T,T);if(U(D))return R=ae(C(D),R),new W(C(R.g),C(R.h));if(U(R))return R=ae(D,C(R)),new W(C(R.g),R.h);if(30<D.g.length){if(U(D)||U(R))throw Error("slowDivide_ only works with positive integers.");for(var I=A,V=R;0>=V.l(D);)I=oe(I),V=oe(V);var L=pe(I,1),j=pe(V,1);for(V=pe(V,2),I=pe(I,2);!x(V);){var O=j.add(V);0>=O.l(D)&&(L=L.add(I),j=O),V=pe(V,1),I=pe(I,1)}return R=q(D,L.j(R)),new W(L,R)}for(L=T;0<=D.l(R);){for(I=Math.max(1,Math.floor(D.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),j=g(I),O=j.j(R);U(O)||0<O.l(D);)I-=V,j=g(I),O=j.j(R);x(j)&&(j=A),L=L.add(j),D=q(D,O)}return new W(L,D)}i.A=function(D){return ae(this,D).h},i.and=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)&D.i(V);return new c(I,this.h&D.h)},i.or=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)|D.i(V);return new c(I,this.h|D.h)},i.xor=function(D){for(var R=Math.max(this.g.length,D.g.length),I=[],V=0;V<R;V++)I[V]=this.i(V)^D.i(V);return new c(I,this.h^D.h)};function oe(D){for(var R=D.g.length+1,I=[],V=0;V<R;V++)I[V]=D.i(V)<<1|D.i(V-1)>>>31;return new c(I,D.h)}function pe(D,R){var I=R>>5;R%=32;for(var V=D.g.length-I,L=[],j=0;j<V;j++)L[j]=0<R?D.i(j+I)>>>R|D.i(j+I+1)<<32-R:D.i(j+I);return new c(L,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,C1=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,$r=c}).apply(typeof H0<"u"?H0:typeof self<"u"?self:typeof window<"u"?window:{});var ah=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var I1,Yl,x1,gh,up,N1,O1,D1;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,_){return h==Array.prototype||h==Object.prototype||(h[v]=_.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof ah=="object"&&ah];for(var v=0;v<h.length;++v){var _=h[v];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var r=t(this);function a(h,v){if(v)e:{var _=r;h=h.split(".");for(var w=0;w<h.length-1;w++){var B=h[w];if(!(B in _))break e;_=_[B]}h=h[h.length-1],w=_[h],v=v(w),v!=w&&v!=null&&e(_,h,{configurable:!0,writable:!0,value:v})}}function l(h,v){h instanceof String&&(h+="");var _=0,w=!1,B={next:function(){if(!w&&_<h.length){var $=_++;return{value:v($,h[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}a("Array.prototype.values",function(h){return h||function(){return l(this,function(v,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function m(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function g(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,_){return h.call.apply(h.bind,arguments)}function T(h,v,_){if(!h)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,w),h.apply(v,B)}}return function(){return h.apply(v,arguments)}}function A(h,v,_){return A=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:T,A.apply(null,arguments)}function M(h,v){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),h.apply(this,w)}}function x(h,v){function _(){}_.prototype=v.prototype,h.aa=v.prototype,h.prototype=new _,h.prototype.constructor=h,h.Qb=function(w,B,$){for(var le=Array(arguments.length-2),je=2;je<arguments.length;je++)le[je-2]=arguments[je];return v.prototype[B].apply(w,le)}}function U(h){const v=h.length;if(0<v){const _=Array(v);for(let w=0;w<v;w++)_[w]=h[w];return _}return[]}function C(h,v){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(m(w)){const B=h.length||0,$=w.length||0;h.length=B+$;for(let le=0;le<$;le++)h[B+le]=w[le]}else h.push(w)}}class q{constructor(v,_){this.i=v,this.j=_,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function X(h){return/^[\s\xa0]*$/.test(h)}function W(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function ae(h){return ae[" "](h),h}ae[" "]=function(){};var oe=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function pe(h,v,_){for(const w in h)v.call(_,h[w],w,h)}function D(h,v){for(const _ in h)v.call(void 0,h[_],_,h)}function R(h){const v={};for(const _ in h)v[_]=h[_];return v}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(h,v){let _,w;for(let B=1;B<arguments.length;B++){w=arguments[B];for(_ in w)h[_]=w[_];for(let $=0;$<I.length;$++)_=I[$],Object.prototype.hasOwnProperty.call(w,_)&&(h[_]=w[_])}}function L(h){var v=1;h=h.split(":");const _=[];for(;0<v&&h.length;)_.push(h.shift()),v--;return h.length&&_.push(h.join(":")),_}function j(h){d.setTimeout(()=>{throw h},0)}function O(){var h=Re;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class We{constructor(){this.h=this.g=null}add(v,_){const w=Fe.get();w.set(v,_),this.h?this.h.next=w:this.g=w,this.h=w}}var Fe=new q(()=>new Y,h=>h.reset());class Y{constructor(){this.next=this.g=this.h=null}set(v,_){this.h=v,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ue,me=!1,Re=new We,P=()=>{const h=d.Promise.resolve(void 0);ue=()=>{h.then(ie)}};var ie=()=>{for(var h;h=O();){try{h.h.call(h.g)}catch(_){j(_)}var v=Fe;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}me=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ve=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const _=()=>{};d.addEventListener("test",_,v),d.removeEventListener("test",_,v)}catch{}return h}();function Me(h,v){if(se.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var _=this.type=h.type,w=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(oe){e:{try{ae(v.nodeName);var B=!0;break e}catch{}B=!1}B||(v=null)}}else _=="mouseover"?v=h.fromElement:_=="mouseout"&&(v=h.toElement);this.relatedTarget=v,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Ae[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&Me.aa.h.call(this)}}x(Me,se);var Ae={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),it=0;function Wn(h,v,_,w,B){this.listener=h,this.proxy=null,this.src=v,this.type=_,this.capture=!!w,this.ha=B,this.key=++it,this.da=this.fa=!1}function sr(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function bi(h){this.src=h,this.g={},this.h=0}bi.prototype.add=function(h,v,_,w,B){var $=h.toString();h=this.g[$],h||(h=this.g[$]=[],this.h++);var le=as(h,v,w,B);return-1<le?(v=h[le],_||(v.fa=!1)):(v=new Wn(v,this.src,$,!!w,B),v.fa=_,h.push(v)),v};function ss(h,v){var _=v.type;if(_ in h.g){var w=h.g[_],B=Array.prototype.indexOf.call(w,v,void 0),$;($=0<=B)&&Array.prototype.splice.call(w,B,1),$&&(sr(v),h.g[_].length==0&&(delete h.g[_],h.h--))}}function as(h,v,_,w){for(var B=0;B<h.length;++B){var $=h[B];if(!$.da&&$.listener==v&&$.capture==!!_&&$.ha==w)return B}return-1}var os="closure_lm_"+(1e6*Math.random()|0),Mo={};function Vu(h,v,_,w,B){if(Array.isArray(v)){for(var $=0;$<v.length;$++)Vu(h,v[$],_,w,B);return null}return _=Lu(_),h&&h[Mt]?h.K(v,_,g(w)?!!w.capture:!1,B):wn(h,v,_,!1,w,B)}function wn(h,v,_,w,B,$){if(!v)throw Error("Invalid event type");var le=g(B)?!!B.capture:!!B,je=oa(h);if(je||(h[os]=je=new bi(h)),_=je.add(v,_,w,le,$),_.proxy)return _;if(w=xf(),_.proxy=w,w.src=h,w.listener=_,h.addEventListener)ve||(B=le),B===void 0&&(B=!1),h.addEventListener(v.toString(),w,B);else if(h.attachEvent)h.attachEvent(ls(v.toString()),w);else if(h.addListener&&h.removeListener)h.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function xf(){function h(_){return v.call(h.src,h.listener,_)}const v=Nf;return h}function Po(h,v,_,w,B){if(Array.isArray(v))for(var $=0;$<v.length;$++)Po(h,v[$],_,w,B);else w=g(w)?!!w.capture:!!w,_=Lu(_),h&&h[Mt]?(h=h.i,v=String(v).toString(),v in h.g&&($=h.g[v],_=as($,_,w,B),-1<_&&(sr($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete h.g[v],h.h--)))):h&&(h=oa(h))&&(v=h.g[v.toString()],h=-1,v&&(h=as(v,_,w,B)),(_=-1<h?v[h]:null)&&aa(_))}function aa(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Mt])ss(v.i,h);else{var _=h.type,w=h.proxy;v.removeEventListener?v.removeEventListener(_,w,h.capture):v.detachEvent?v.detachEvent(ls(_),w):v.addListener&&v.removeListener&&v.removeListener(w),(_=oa(v))?(ss(_,h),_.h==0&&(_.src=null,v[os]=null)):sr(h)}}}function ls(h){return h in Mo?Mo[h]:Mo[h]="on"+h}function Nf(h,v){if(h.da)h=!0;else{v=new Me(v,this);var _=h.listener,w=h.ha||h.src;h.fa&&aa(h),h=_.call(w,v)}return h}function oa(h){return h=h[os],h instanceof bi?h:null}var Vo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lu(h){return typeof h=="function"?h:(h[Vo]||(h[Vo]=function(v){return h.handleEvent(v)}),h[Vo])}function ct(){ce.call(this),this.i=new bi(this),this.M=this,this.F=null}x(ct,ce),ct.prototype[Mt]=!0,ct.prototype.removeEventListener=function(h,v,_,w){Po(this,h,v,_,w)};function Qe(h,v){var _,w=h.F;if(w)for(_=[];w;w=w.F)_.push(w);if(h=h.M,w=v.type||v,typeof v=="string")v=new se(v,h);else if(v instanceof se)v.target=v.target||h;else{var B=v;v=new se(w,h),V(v,B)}if(B=!0,_)for(var $=_.length-1;0<=$;$--){var le=v.g=_[$];B=gn(le,w,!0,v)&&B}if(le=v.g=h,B=gn(le,w,!0,v)&&B,B=gn(le,w,!1,v)&&B,_)for($=0;$<_.length;$++)le=v.g=_[$],B=gn(le,w,!1,v)&&B}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var _=h.g[v],w=0;w<_.length;w++)sr(_[w]);delete h.g[v],h.h--}}this.F=null},ct.prototype.K=function(h,v,_,w){return this.i.add(String(h),v,!1,_,w)},ct.prototype.L=function(h,v,_,w){return this.i.add(String(h),v,!0,_,w)};function gn(h,v,_,w){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var B=!0,$=0;$<v.length;++$){var le=v[$];if(le&&!le.da&&le.capture==_){var je=le.listener,Ct=le.ha||le.src;le.fa&&ss(h.i,le),B=je.call(Ct,w)!==!1&&B}}return B&&!w.defaultPrevented}function Yt(h,v,_){if(typeof h=="function")_&&(h=A(h,_));else if(h&&typeof h.handleEvent=="function")h=A(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function ku(h){h.g=Yt(()=>{h.g=null,h.i&&(h.i=!1,ku(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class Of extends ce{constructor(v,_){super(),this.m=v,this.l=_,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ku(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function us(h){ce.call(this),this.h=h,this.g={}}x(us,ce);var cs=[];function hs(h){pe(h.g,function(v,_){this.g.hasOwnProperty(_)&&aa(v)},h),h.g={}}us.prototype.N=function(){us.aa.N.call(this),hs(this)},us.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var zn=d.JSON.stringify,la=d.JSON.parse,fs=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function Lo(){}Lo.prototype.h=null;function ko(h){return h.h||(h.h=h.i())}function Uo(){}var Si={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ai(){se.call(this,"d")}x(Ai,se);function jo(){se.call(this,"c")}x(jo,se);var Jn={},zo=null;function ar(){return zo=zo||new ct}Jn.La="serverreachability";function ua(h){se.call(this,Jn.La,h)}x(ua,se);function or(h){const v=ar();Qe(v,new ua(v))}Jn.STAT_EVENT="statevent";function Uu(h,v){se.call(this,Jn.STAT_EVENT,h),this.stat=v}x(Uu,se);function at(h){const v=ar();Qe(v,new Uu(v,h))}Jn.Ma="timingevent";function Rt(h,v){se.call(this,Jn.Ma,h),this.size=v}x(Rt,se);function Et(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function Bo(h,v,_,w,B,$){h.info(function(){if(h.g)if($)for(var le="",je=$.split("&"),Ct=0;Ct<je.length;Ct++){var ze=je[Ct].split("=");if(1<ze.length){var Vt=ze[0];ze=ze[1];var It=Vt.split("_");le=2<=It.length&&It[1]=="type"?le+(Vt+"="+ze+"&"):le+(Vt+"=redacted&")}}else le=null;else le=$;return"XMLHTTP REQ ("+w+") [attempt "+B+"]: "+v+`
`+_+`
`+le})}function Df(h,v,_,w,B,$,le){h.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+B+"]: "+v+`
`+_+`
`+$+" "+le})}function lr(h,v,_,w){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+ds(h,_)+(w?" "+w:"")})}function ju(h,v){h.info(function(){return"TIMEOUT: "+v})}Rn.prototype.info=function(){};function ds(h,v){if(!h.g)return v;if(!v)return null;try{var _=JSON.parse(v);if(_){for(h=0;h<_.length;h++)if(Array.isArray(_[h])){var w=_[h];if(!(2>w.length)){var B=w[1];if(Array.isArray(B)&&!(1>B.length)){var $=B[0];if($!="noop"&&$!="stop"&&$!="close")for(var le=1;le<B.length;le++)B[le]=""}}}}return zn(_)}catch{return v}}var ur={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zn;function ei(){}x(ei,Lo),ei.prototype.g=function(){return new XMLHttpRequest},ei.prototype.i=function(){return{}},Zn=new ei;function rn(h,v,_,w){this.j=h,this.i=v,this.l=_,this.R=w||1,this.U=new us(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new dt}function dt(){this.i=null,this.g="",this.h=!1}var Ho={},ca={};function Bn(h,v,_){h.L=1,h.v=vs(yn(v)),h.m=_,h.P=!0,Ri(h,null)}function Ri(h,v){h.F=Date.now(),ms(h),h.A=yn(h.v);var _=h.A,w=h.R;Array.isArray(w)||(w=[String(w)]),Qo(_.i,"t",w),h.C=0,_=h.j.J,h.h=new dt,h.g=tc(h.j,_?v:null,!h.m),0<h.O&&(h.M=new Of(A(h.Y,h,h.g),h.O)),v=h.U,_=h.g,w=h.ca;var B="readystatechange";Array.isArray(B)||(B&&(cs[0]=B.toString()),B=cs);for(var $=0;$<B.length;$++){var le=Vu(_,B[$],w||v.handleEvent,!1,v.h||v);if(!le)break;v.g[le.key]=le}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),or(),Bo(h.i,h.u,h.A,h.l,h.R,h.m)}rn.prototype.ca=function(h){h=h.target;const v=this.M;v&&Nn(h)==3?v.j():this.Y(h)},rn.prototype.Y=function(h){try{if(h==this.g)e:{const It=Nn(this.g);var v=this.g.Ba();const Pi=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||$u(this.g)))){this.J||It!=4||v==7||(v==8||0>=Pi?or(3):or(2)),cr(this);var _=this.g.Z();this.X=_;t:if(zu(this)){var w=$u(this.g);h="";var B=w.length,$=Nn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){zt(this),ti(this);var le="";break t}this.h.i=new d.TextDecoder}for(v=0;v<B;v++)this.h.h=!0,h+=this.h.i.decode(w[v],{stream:!($&&v==B-1)});w.length=0,this.h.g+=h,this.C=0,le=this.h.g}else le=this.g.oa();if(this.o=_==200,Df(this.i,this.u,this.A,this.l,this.R,It,_),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Ct=this.g;if((je=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!X(je)){var ze=je;break t}}ze=null}if(_=ze)lr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ps(this,_);else{this.o=!1,this.s=3,at(12),zt(this),ti(this);break e}}if(this.P){_=!0;let Bt;for(;!this.J&&this.C<le.length;)if(Bt=Bu(this,le),Bt==ca){It==4&&(this.s=4,at(14),_=!1),lr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Ho){this.s=4,at(15),lr(this.i,this.l,le,"[Invalid Chunk]"),_=!1;break}else lr(this.i,this.l,Bt,null),ps(this,Bt);if(zu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||le.length!=0||this.h.h||(this.s=1,at(16),_=!1),this.o=this.o&&_,!_)lr(this.i,this.l,le,"[Invalid Chunked Response]"),zt(this),ti(this);else if(0<le.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+le.length),Rs(Vt),Vt.M=!0,at(11))}}else lr(this.i,this.l,le,null),ps(this,le);It==4&&zt(this),this.o&&!this.J&&(It==4?Ju(this.j,this):(this.o=!1,ms(this)))}else kf(this.g),_==400&&0<le.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),zt(this),ti(this)}}}catch{}finally{}};function zu(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Bu(h,v){var _=h.C,w=v.indexOf(`
`,_);return w==-1?ca:(_=Number(v.substring(_,w)),isNaN(_)?Ho:(w+=1,w+_>v.length?ca:(v=v.slice(w,w+_),h.C=w+_,v)))}rn.prototype.cancel=function(){this.J=!0,zt(this)};function ms(h){h.S=Date.now()+h.I,Hu(h,h.I)}function Hu(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Et(A(h.ba,h),v)}function cr(h){h.B&&(d.clearTimeout(h.B),h.B=null)}rn.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(ju(this.i,this.A),this.L!=2&&(or(),at(17)),zt(this),this.s=2,ti(this)):Hu(this,this.S-h)};function ti(h){h.j.G==0||h.J||Ju(h.j,h)}function zt(h){cr(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,hs(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function ps(h,v){try{var _=h.j;if(_.G!=0&&(_.g==h||Fo(_.h,h))){if(!h.K&&Fo(_.h,h)&&_.G==3){try{var w=_.Da.g.parse(v)}catch{w=null}if(Array.isArray(w)&&w.length==3){var B=w;if(B[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<h.F)ba(_),Ea(_);else break e;Zo(_),at(18)}}else _.za=B[1],0<_.za-_.T&&37500>B[2]&&_.F&&_.v==0&&!_.C&&(_.C=Et(A(_.Za,_),6e3));if(1>=fa(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Mi(_,11)}else if((h.K||_.g==h)&&ba(_),!X(v))for(B=_.Da.g.parse(v),v=0;v<B.length;v++){let ze=B[v];if(_.T=ze[0],ze=ze[1],_.G==2)if(ze[0]=="c"){_.K=ze[1],_.ia=ze[2];const Vt=ze[3];Vt!=null&&(_.la=Vt,_.j.info("VER="+_.la));const It=ze[4];It!=null&&(_.Aa=It,_.j.info("SVER="+_.Aa));const Pi=ze[5];Pi!=null&&typeof Pi=="number"&&0<Pi&&(w=1.5*Pi,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const Bt=h.g;if(Bt){const li=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(li){var $=w.h;$.g||li.indexOf("spdy")==-1&&li.indexOf("quic")==-1&&li.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(da($,$.h),$.h=null))}if(w.D){const tl=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(w.ya=tl,Je(w.I,w.D,tl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-h.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var le=h;if(w.qa=ec(w,w.J?w.ia:null,w.W),le.K){sn(w.h,le);var je=le,Ct=w.L;Ct&&(je.I=Ct),je.B&&(cr(je),ms(je)),w.g=le}else Xu(w);0<_.i.length&&Ta(_)}else ze[0]!="stop"&&ze[0]!="close"||Mi(_,7);else _.G==3&&(ze[0]=="stop"||ze[0]=="close"?ze[0]=="stop"?Mi(_,7):Wo(_):ze[0]!="noop"&&_.l&&_.l.ta(ze),_.v=0)}}or(4)}catch{}}var Fu=class{constructor(h,v){this.g=h,this.map=v}};function Ci(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ha(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function fa(h){return h.h?1:h.g?h.g.size:0}function Fo(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function da(h,v){h.g?h.g.add(v):h.h=v}function sn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Ci.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function qo(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const _ of h.g.values())v=v.concat(_.D);return v}return U(h.i)}function Mf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(m(h)){for(var v=[],_=h.length,w=0;w<_;w++)v.push(h[w]);return v}v=[],_=0;for(w in h)v[_++]=h[w];return v}function ma(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(m(h)||typeof h=="string"){var v=[];h=h.length;for(var _=0;_<h;_++)v.push(_);return v}v=[],_=0;for(const w in h)v[_++]=w;return v}}}function Go(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(m(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var _=ma(h),w=Mf(h),B=w.length,$=0;$<B;$++)v.call(void 0,w[$],_&&_[$],h)}var gs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Pf(h,v){if(h){h=h.split("&");for(var _=0;_<h.length;_++){var w=h[_].indexOf("="),B=null;if(0<=w){var $=h[_].substring(0,w);B=h[_].substring(w+1)}else $=h[_];v($,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Tt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Tt){this.h=h.h,ys(this,h.j),this.o=h.o,this.g=h.g,hr(this,h.s),this.l=h.l;var v=h.i,_=new xi;_.i=v.i,v.g&&(_.g=new Map(v.g),_.h=v.h),Ii(this,_),this.m=h.m}else h&&(v=String(h).match(gs))?(this.h=!1,ys(this,v[1]||"",!0),this.o=Cn(v[2]||""),this.g=Cn(v[3]||"",!0),hr(this,v[4]),this.l=Cn(v[5]||"",!0),Ii(this,v[6]||"",!0),this.m=Cn(v[7]||"")):(this.h=!1,this.i=new xi(null,this.h))}Tt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(_s(v,Ko,!0),":");var _=this.g;return(_||v=="file")&&(h.push("//"),(v=this.o)&&h.push(_s(v,Ko,!0),"@"),h.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&h.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&h.push("/"),h.push(_s(_,_.charAt(0)=="/"?Vf:$o,!0))),(_=this.i.toString())&&h.push("?",_),(_=this.m)&&h.push("#",_s(_,pa)),h.join("")};function yn(h){return new Tt(h)}function ys(h,v,_){h.j=_?Cn(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function hr(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function Ii(h,v,_){v instanceof xi?(h.i=v,Gu(h.i,h.h)):(_||(v=_s(v,Lf)),h.i=new xi(v,h.h))}function Je(h,v,_){h.i.set(v,_)}function vs(h){return Je(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Cn(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function _s(h,v,_){return typeof h=="string"?(h=encodeURI(h).replace(v,qu),_&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function qu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Ko=/[#\/\?@]/g,$o=/[#\?:]/g,Vf=/[#\?]/g,Lf=/[#\?@]/g,pa=/#/g;function xi(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function In(h){h.g||(h.g=new Map,h.h=0,h.i&&Pf(h.i,function(v,_){h.add(decodeURIComponent(v.replace(/\+/g," ")),_)}))}i=xi.prototype,i.add=function(h,v){In(this),this.i=null,h=ni(this,h);var _=this.g.get(h);return _||this.g.set(h,_=[]),_.push(v),this.h+=1,this};function Ni(h,v){In(h),v=ni(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Oi(h,v){return In(h),v=ni(h,v),h.g.has(v)}i.forEach=function(h,v){In(this),this.g.forEach(function(_,w){_.forEach(function(B){h.call(v,B,w,this)},this)},this)},i.na=function(){In(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),_=[];for(let w=0;w<v.length;w++){const B=h[w];for(let $=0;$<B.length;$++)_.push(v[w])}return _},i.V=function(h){In(this);let v=[];if(typeof h=="string")Oi(this,h)&&(v=v.concat(this.g.get(ni(this,h))));else{h=Array.from(this.g.values());for(let _=0;_<h.length;_++)v=v.concat(h[_])}return v},i.set=function(h,v){return In(this),this.i=null,h=ni(this,h),Oi(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},i.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Qo(h,v,_){Ni(h,v),0<_.length&&(h.i=null,h.g.set(ni(h,v),U(_)),h.h+=_.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var _=0;_<v.length;_++){var w=v[_];const $=encodeURIComponent(String(w)),le=this.V(w);for(w=0;w<le.length;w++){var B=$;le[w]!==""&&(B+="="+encodeURIComponent(String(le[w]))),h.push(B)}}return this.i=h.join("&")};function ni(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Gu(h,v){v&&!h.j&&(In(h),h.i=null,h.g.forEach(function(_,w){var B=w.toLowerCase();w!=B&&(Ni(this,w),Qo(this,B,_))},h)),h.j=v}function Es(h,v){const _=new Rn;if(d.Image){const w=new Image;w.onload=M(xn,_,"TestLoadImage: loaded",!0,v,w),w.onerror=M(xn,_,"TestLoadImage: error",!1,v,w),w.onabort=M(xn,_,"TestLoadImage: abort",!1,v,w),w.ontimeout=M(xn,_,"TestLoadImage: timeout",!1,v,w),d.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=h}else v(!1)}function Hn(h,v){const _=new Rn,w=new AbortController,B=setTimeout(()=>{w.abort(),xn(_,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:w.signal}).then($=>{clearTimeout(B),$.ok?xn(_,"TestPingServer: ok",!0,v):xn(_,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(B),xn(_,"TestPingServer: error",!1,v)})}function xn(h,v,_,w,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),w(_)}catch{}}function Ts(){this.g=new fs}function ii(h,v,_){const w=_||"";try{Go(h,function(B,$){let le=B;g(B)&&(le=zn(B)),v.push(w+$+"="+encodeURIComponent(le))})}catch(B){throw v.push(w+"type="+encodeURIComponent("_badmap")),B}}function fr(h){this.l=h.Ub||null,this.j=h.eb||!1}x(fr,Lo),fr.prototype.g=function(){return new Di(this.l,this.j)},fr.prototype.i=function(h){return function(){return h}}({});function Di(h,v){ct.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Di,ct),i=Di.prototype,i.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,si(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ri(this)),this.readyState=0},i.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}i.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?ri(this):si(this),this.readyState==3&&Yo(this)}},i.Ra=function(h){this.g&&(this.response=this.responseText=h,ri(this))},i.Qa=function(h){this.g&&(this.response=h,ri(this))},i.ga=function(){this.g&&ri(this)};function ri(h){h.readyState=4,h.l=null,h.j=null,h.v=null,si(h)}i.setRequestHeader=function(h,v){this.u.append(h,v)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var _=v.next();!_.done;)_=_.value,h.push(_[0]+": "+_[1]),_=v.next();return h.join(`\r
`)};function si(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Xo(h){let v="";return pe(h,function(_,w){v+=w,v+=":",v+=_,v+=`\r
`}),v}function Pt(h,v,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Xo(_),typeof h=="string"?_!=null&&encodeURIComponent(String(_)):Je(h,v,_))}function Ke(h){ct.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Ke,ct);var ga=/^https?$/i,bs=["POST","PUT"];i=Ke.prototype,i.Ha=function(h){this.J=h},i.ea=function(h,v,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zn.g(),this.v=this.o?ko(this.o):ko(Zn),this.g.onreadystatechange=A(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch($){Ku(this,$);return}if(h=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var B in w)_.set(B,w[B]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())_.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),B=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(bs,v,void 0))||w||B||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,le]of _)this.g.setRequestHeader($,le);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ss(this),this.u=!0,this.g.send(h),this.u=!1}catch($){Ku(this,$)}};function Ku(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,ya(h),ai(h)}function ya(h){h.A||(h.A=!0,Qe(h,"complete"),Qe(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Qe(this,"complete"),Qe(this,"abort"),ai(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ai(this,!0)),Ke.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?va(this):this.bb())},i.bb=function(){va(this)};function va(h){if(h.h&&typeof c<"u"&&(!h.v[1]||Nn(h)!=4||h.Z()!=2)){if(h.u&&Nn(h)==4)Yt(h.Ea,0,h);else if(Qe(h,"readystatechange"),Nn(h)==4){h.h=!1;try{const le=h.Z();e:switch(le){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var _;if(!(_=v)){var w;if(w=le===0){var B=String(h.D).match(gs)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),w=!ga.test(B?B.toLowerCase():"")}_=w}if(_)Qe(h,"complete"),Qe(h,"success");else{h.m=6;try{var $=2<Nn(h)?h.g.statusText:""}catch{$=""}h.l=$+" ["+h.Z()+"]",ya(h)}}finally{ai(h)}}}}function ai(h,v){if(h.g){Ss(h);const _=h.g,w=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Qe(h,"ready");try{_.onreadystatechange=w}catch{}}}function Ss(h){h.I&&(d.clearTimeout(h.I),h.I=null)}i.isActive=function(){return!!this.g};function Nn(h){return h.g?h.g.readyState:0}i.Z=function(){try{return 2<Nn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),la(v)}};function $u(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function kf(h){const v={};h=(h.g&&2<=Nn(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<h.length;w++){if(X(h[w]))continue;var _=L(h[w]);const B=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=v[B]||[];v[B]=$,$.push(_)}D(v,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function As(h,v,_){return _&&_.internalChannelParams&&_.internalChannelParams[h]||v}function _a(h){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=As("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=As("baseRetryDelayMs",5e3,h),this.cb=As("retryDelaySeedMs",1e4,h),this.Wa=As("forwardChannelMaxRetries",2,h),this.wa=As("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Ci(h&&h.concurrentRequestLimit),this.Da=new Ts,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=_a.prototype,i.la=8,i.G=1,i.connect=function(h,v,_,w){at(0),this.W=h,this.H=v||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=ec(this,null,this.W),Ta(this)};function Wo(h){if(Qu(h),h.G==3){var v=h.U++,_=yn(h.I);if(Je(_,"SID",h.K),Je(_,"RID",v),Je(_,"TYPE","terminate"),ws(h,_),v=new rn(h,h.j,v),v.L=2,v.v=vs(yn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=v.v,_=!0),_||(v.g=tc(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ms(v)}Zu(h)}function Ea(h){h.g&&(Rs(h),h.g.cancel(),h.g=null)}function Qu(h){Ea(h),h.u&&(d.clearTimeout(h.u),h.u=null),ba(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function Ta(h){if(!ha(h.h)&&!h.s){h.s=!0;var v=h.Ga;ue||P(),me||(ue(),me=!0),Re.add(v,h),h.B=0}}function Uf(h,v){return fa(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Et(A(h.Ga,h,v),el(h,h.B)),h.B++,!0)}i.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const B=new rn(this,this.j,h);let $=this.o;if(this.S&&($?($=R($),V($,this.S)):$=this.S),this.m!==null||this.O||(B.H=$,$=null),this.P)e:{for(var v=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(v+=w,4096<v){v=_;break e}if(v===4096||_===this.i.length-1){v=_+1;break e}}v=1e3}else v=1e3;v=Yu(this,B,v),_=yn(this.I),Je(_,"RID",h),Je(_,"CVER",22),this.D&&Je(_,"X-HTTP-Session-Id",this.D),ws(this,_),$&&(this.O?v="headers="+encodeURIComponent(String(Xo($)))+"&"+v:this.m&&Pt(_,this.m,$)),da(this.h,B),this.Ua&&Je(_,"TYPE","init"),this.P?(Je(_,"$req",v),Je(_,"SID","null"),B.T=!0,Bn(B,_,null)):Bn(B,_,v),this.G=2}}else this.G==3&&(h?Jo(this,h):this.i.length==0||ha(this.h)||Jo(this))};function Jo(h,v){var _;v?_=v.l:_=h.U++;const w=yn(h.I);Je(w,"SID",h.K),Je(w,"RID",_),Je(w,"AID",h.T),ws(h,w),h.m&&h.o&&Pt(w,h.m,h.o),_=new rn(h,h.j,_,h.B+1),h.m===null&&(_.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Yu(h,_,1e3),_.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),da(h.h,_),Bn(_,w,v)}function ws(h,v){h.H&&pe(h.H,function(_,w){Je(v,w,_)}),h.l&&Go({},function(_,w){Je(v,w,_)})}function Yu(h,v,_){_=Math.min(h.i.length,_);var w=h.l?A(h.l.Na,h.l,h):null;e:{var B=h.i;let $=-1;for(;;){const le=["count="+_];$==-1?0<_?($=B[0].g,le.push("ofs="+$)):$=0:le.push("ofs="+$);let je=!0;for(let Ct=0;Ct<_;Ct++){let ze=B[Ct].g;const Vt=B[Ct].map;if(ze-=$,0>ze)$=Math.max(0,B[Ct].g-100),je=!1;else try{ii(Vt,le,"req"+ze+"_")}catch{w&&w(Vt)}}if(je){w=le.join("&");break e}}}return h=h.i.splice(0,_),v.D=h,w}function Xu(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ue||P(),me||(ue(),me=!0),Re.add(v,h),h.v=0}}function Zo(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Et(A(h.Fa,h),el(h,h.v)),h.v++,!0)}i.Fa=function(){if(this.u=null,Wu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Et(A(this.ab,this),h)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Ea(this),Wu(this))};function Rs(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Wu(h){h.g=new rn(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=yn(h.qa);Je(v,"RID","rpc"),Je(v,"SID",h.K),Je(v,"AID",h.T),Je(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Je(v,"TO",h.ja),Je(v,"TYPE","xmlhttp"),ws(h,v),h.m&&h.o&&Pt(v,h.m,h.o),h.L&&(h.g.I=h.L);var _=h.g;h=h.ia,_.L=1,_.v=vs(yn(v)),_.m=null,_.P=!0,Ri(_,h)}i.Za=function(){this.C!=null&&(this.C=null,Ea(this),Zo(this),at(19))};function ba(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Ju(h,v){var _=null;if(h.g==v){ba(h),Rs(h),h.g=null;var w=2}else if(Fo(h.h,v))_=v.D,sn(h.h,v),w=1;else return;if(h.G!=0){if(v.o)if(w==1){_=v.m?v.m.length:0,v=Date.now()-v.F;var B=h.B;w=ar(),Qe(w,new Rt(w,_)),Ta(h)}else Xu(h);else if(B=v.s,B==3||B==0&&0<v.X||!(w==1&&Uf(h,v)||w==2&&Zo(h)))switch(_&&0<_.length&&(v=h.h,v.i=v.i.concat(_)),B){case 1:Mi(h,5);break;case 4:Mi(h,10);break;case 3:Mi(h,6);break;default:Mi(h,2)}}}function el(h,v){let _=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(_*=2),_*v}function Mi(h,v){if(h.j.info("Error code "+v),v==2){var _=A(h.fb,h),w=h.Xa;const B=!w;w=new Tt(w||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ys(w,"https"),vs(w),B?Es(w.toString(),_):Hn(w.toString(),_)}else at(2);h.G=0,h.l&&h.l.sa(v),Zu(h),Qu(h)}i.fb=function(h){h?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Zu(h){if(h.G=0,h.ka=[],h.l){const v=qo(h.h);(v.length!=0||h.i.length!=0)&&(C(h.ka,v),C(h.ka,h.i),h.h.i.length=0,U(h.i),h.i.length=0),h.l.ra()}}function ec(h,v,_){var w=_ instanceof Tt?yn(_):new Tt(_);if(w.g!="")v&&(w.g=v+"."+w.g),hr(w,w.s);else{var B=d.location;w=B.protocol,v=v?v+"."+B.hostname:B.hostname,B=+B.port;var $=new Tt(null);w&&ys($,w),v&&($.g=v),B&&hr($,B),_&&($.l=_),w=$}return _=h.D,v=h.ya,_&&v&&Je(w,_,v),Je(w,"VER",h.la),ws(h,w),w}function tc(h,v,_){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new Ke(new fr({eb:_})):new Ke(h.pa),v.Ha(h.J),v}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function nc(){}i=nc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Sa(){}Sa.prototype.g=function(h,v){return new an(h,v)};function an(h,v){ct.call(this),this.g=new _a(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!X(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!X(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new oi(this)}x(an,ct),an.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Wo(this.g)},an.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var _={};_.__data__=h,h=_}else this.u&&(_={},_.__data__=zn(h),h=_);v.i.push(new Fu(v.Ya++,h)),v.G==3&&Ta(v)},an.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,an.aa.N.call(this)};function ic(h){Ai.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const _ in v){h=_;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}x(ic,Ai);function rc(){jo.call(this),this.status=1}x(rc,jo);function oi(h){this.g=h}x(oi,nc),oi.prototype.ua=function(){Qe(this.g,"a")},oi.prototype.ta=function(h){Qe(this.g,new ic(h))},oi.prototype.sa=function(h){Qe(this.g,new rc)},oi.prototype.ra=function(){Qe(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,D1=function(){return new Sa},O1=function(){return ar()},N1=Jn,up={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,gh=ur,wi.COMPLETE="complete",x1=wi,Uo.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Yl=Uo,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,I1=Ke}).apply(typeof ah<"u"?ah:typeof self<"u"?self:typeof window<"u"?window:{});const F0="@firebase/firestore",q0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new Hp("@firebase/firestore");function no(){return Ws.logLevel}function he(i,...e){if(Ws.logLevel<=ke.DEBUG){const t=e.map(eg);Ws.debug(`Firestore (${Ro}): ${i}`,...t)}}function nr(i,...e){if(Ws.logLevel<=ke.ERROR){const t=e.map(eg);Ws.error(`Firestore (${Ro}): ${i}`,...t)}}function mo(i,...e){if(Ws.logLevel<=ke.WARN){const t=e.map(eg);Ws.warn(`Firestore (${Ro}): ${i}`,...t)}}function eg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i="Unexpected state"){const e=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: `+i;throw nr(e),new Error(e)}function $e(i,e){i||Se()}function Ie(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends rr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Nx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Zt.UNAUTHENTICATED))}shutdown(){}}class Ox{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Dx{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){$e(this.o===void 0);let r=this.i;const a=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let l=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ji,e.enqueueRetryable(()=>a(this.currentUser))};const c=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},d=m=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ji)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?($e(typeof r.accessToken=="string"),new M1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Zt(e)}}class Mx{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Px{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Mx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class G0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vx{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Un(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){$e(this.o===void 0);const r=l=>{l.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.R;return this.R=l.token,he("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new G0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?($e(typeof t.token=="string"),this.R=t.token,new G0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=Lx(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function De(i,e){return i<e?-1:i>e?1:0}function cp(i,e){let t=0;for(;t<i.length&&t<e.length;){const r=i.codePointAt(t),a=e.codePointAt(t);if(r!==a){if(r<128&&a<128)return De(r,a);{const l=P1(),c=kx(l.encode(K0(i,t)),l.encode(K0(e,t)));return c!==0?c:De(r,a)}}t+=r>65535?2:1}return De(i.length,e.length)}function K0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function kx(i,e){for(let t=0;t<i.length&&t<e.length;++t)if(i[t]!==e[t])return De(i[t],e[t]);return De(i.length,e.length)}function po(i,e,t){return i.length===e.length&&i.every((r,a)=>t(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $0=-62135596800,Q0=1e6;class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Q0);return new Ot(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new fe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$0)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q0}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Ot(0,0))}static max(){return new Ce(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="__name__";class pi{constructor(e,t,r){t===void 0?t=0:t>e.length&&Se(),r===void 0?r=e.length-t:r>e.length-t&&Se(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return pi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof pi?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=pi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return De(e.length,t.length)}static compareSegments(e,t){const r=pi.isNumericId(e),a=pi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?pi.extractNumericId(e).compare(pi.extractNumericId(t)):cp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return $r.fromString(e.substring(4,e.length-2))}}class st extends pi{construct(e,t,r){return new st(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new fe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new st(t)}static emptyPath(){return new st([])}}const Ux=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends pi{construct(e,t,r){return new Kt(e,t,r)}static isValidIdentifier(e){return Ux.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Y0}static keyField(){return new Kt([Y0])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new fe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new fe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(r+=d,a++):(l(),a++)}if(l(),c)throw new fe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(st.fromString(e))}static fromName(e){return new ye(st.fromString(e).popFirst(5))}static empty(){return new ye(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return st.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cu=-1;function jx(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,a=Ce.fromTimestamp(r===1e9?new Ot(t+1,0):new Ot(t,r));return new Yr(a,ye.empty(),e)}function zx(i){return new Yr(i.readTime,i.key,cu)}class Yr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Yr(Ce.min(),ye.empty(),cu)}static max(){return new Yr(Ce.max(),ye.empty(),cu)}}function Bx(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ye.comparator(i.documentKey,e.documentKey),t!==0?t:De(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(i){if(i.code!==re.FAILED_PRECONDITION||i.message!==Hx)throw i;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let a=0,l=0,c=!1;e.forEach(d=>{++a,d.next(()=>{++l,c&&l===a&&t()},m=>r(m))}),c=!0,l===a&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(a=>a?ne.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,a)=>{const l=e.length,c=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(y=>{c[g]=y,++d,d===l&&r(c)},y=>a(y))}})}static doWhile(e,t){return new ne((r,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):r()};l()})}}function qx(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Io(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.oe(r),this._e=r=>t.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}af.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=-1;function of(i){return i==null}function Ph(i){return i===0&&1/i==-1/0}function Gx(i){return typeof i=="number"&&Number.isInteger(i)&&!Ph(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="";function Kx(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=X0(e)),e=$x(i.get(t),e);return X0(e)}function $x(i,e){let t=e;const r=i.length;for(let a=0;a<r;a++){const l=i.charAt(a);switch(l){case"\0":t+="";break;case L1:t+="";break;default:t+=l}}return t}function X0(i){return i+L1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function na(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function k1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Gt.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oh(this.root,e,this.comparator,!1)}getReverseIterator(){return new oh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oh(this.root,e,this.comparator,!0)}}class oh{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??Gt.RED,this.left=a??Gt.EMPTY,this.right=l??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new Gt(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return Gt.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,t,r,a,l){return this}insert(e,t,r){return new Gt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new J0(this.data.getIterator())}getIteratorFrom(e){return new J0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class J0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new $n([])}unionWith(e){let t=new Dt(Kt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new $n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new U1("Invalid base64 string: "+l):l}}(e);return new $t(t)}static fromUint8Array(e){const t=function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l}(e);return new $t(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const Qx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xr(i){if($e(!!i),typeof i=="string"){let e=0;const t=Qx.exec(i);if($e(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:gt(i.seconds),nanos:gt(i.nanos)}}function gt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Wr(i){return typeof i=="string"?$t.fromBase64String(i):$t.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="server_timestamp",z1="__type__",B1="__previous_value__",H1="__local_write_time__";function ng(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[z1])===null||t===void 0?void 0:t.stringValue)===j1}function lf(i){const e=i.mapValue.fields[B1];return ng(e)?lf(e):e}function hu(i){const e=Xr(i.mapValue.fields[H1].timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,t,r,a,l,c,d,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const Vh="(default)";class fu{constructor(e,t){this.projectId=e,this.database=t||Vh}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===Vh}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="__type__",Xx="__max__",lh={mapValue:{}},q1="__vector__",Lh="value";function Jr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ng(i)?4:Jx(i)?9007199254740991:Wx(i)?10:11:Se()}function Ti(i,e){if(i===e)return!0;const t=Jr(i);if(t!==Jr(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return hu(i).isEqual(hu(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Xr(a.timestampValue),d=Xr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,l){return Wr(a.bytesValue).isEqual(Wr(l.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,l){return gt(a.geoPointValue.latitude)===gt(l.geoPointValue.latitude)&&gt(a.geoPointValue.longitude)===gt(l.geoPointValue.longitude)}(i,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return gt(a.integerValue)===gt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=gt(a.doubleValue),d=gt(l.doubleValue);return c===d?Ph(c)===Ph(d):isNaN(c)&&isNaN(d)}return!1}(i,e);case 9:return po(i.arrayValue.values||[],e.arrayValue.values||[],Ti);case 10:case 11:return function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(W0(c)!==W0(d))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(d[m]===void 0||!Ti(c[m],d[m])))return!1;return!0}(i,e);default:return Se()}}function du(i,e){return(i.values||[]).find(t=>Ti(t,e))!==void 0}function go(i,e){if(i===e)return 0;const t=Jr(i),r=Jr(e);if(t!==r)return De(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return De(i.booleanValue,e.booleanValue);case 2:return function(l,c){const d=gt(l.integerValue||l.doubleValue),m=gt(c.integerValue||c.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(i,e);case 3:return Z0(i.timestampValue,e.timestampValue);case 4:return Z0(hu(i),hu(e));case 5:return cp(i.stringValue,e.stringValue);case 6:return function(l,c){const d=Wr(l),m=Wr(c);return d.compareTo(m)}(i.bytesValue,e.bytesValue);case 7:return function(l,c){const d=l.split("/"),m=c.split("/");for(let g=0;g<d.length&&g<m.length;g++){const y=De(d[g],m[g]);if(y!==0)return y}return De(d.length,m.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,c){const d=De(gt(l.latitude),gt(c.latitude));return d!==0?d:De(gt(l.longitude),gt(c.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return eE(i.arrayValue,e.arrayValue);case 10:return function(l,c){var d,m,g,y;const T=l.fields||{},A=c.fields||{},M=(d=T[Lh])===null||d===void 0?void 0:d.arrayValue,x=(m=A[Lh])===null||m===void 0?void 0:m.arrayValue,U=De(((g=M==null?void 0:M.values)===null||g===void 0?void 0:g.length)||0,((y=x==null?void 0:x.values)===null||y===void 0?void 0:y.length)||0);return U!==0?U:eE(M,x)}(i.mapValue,e.mapValue);case 11:return function(l,c){if(l===lh.mapValue&&c===lh.mapValue)return 0;if(l===lh.mapValue)return 1;if(c===lh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=c.fields||{},y=Object.keys(g);m.sort(),y.sort();for(let T=0;T<m.length&&T<y.length;++T){const A=cp(m[T],y[T]);if(A!==0)return A;const M=go(d[m[T]],g[y[T]]);if(M!==0)return M}return De(m.length,y.length)}(i.mapValue,e.mapValue);default:throw Se()}}function Z0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return De(i,e);const t=Xr(i),r=Xr(e),a=De(t.seconds,r.seconds);return a!==0?a:De(t.nanos,r.nanos)}function eE(i,e){const t=i.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=go(t[a],r[a]);if(l)return l}return De(t.length,r.length)}function yo(i){return hp(i)}function hp(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const r=Xr(t);return`time(${r.seconds},${r.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Wr(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ye.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=hp(l);return r+"]"}(i.arrayValue):"mapValue"in i?function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${hp(t.fields[c])}`;return a+"}"}(i.mapValue):Se()}function yh(i){switch(Jr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=lf(i);return e?16+yh(e):16;case 5:return 2*i.stringValue.length;case 6:return Wr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+yh(l),0)}(i.arrayValue);case 10:case 11:return function(r){let a=0;return na(r.fields,(l,c)=>{a+=l.length+yh(c)}),a}(i.mapValue);default:throw Se()}}function tE(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function fp(i){return!!i&&"integerValue"in i}function ig(i){return!!i&&"arrayValue"in i}function nE(i){return!!i&&"nullValue"in i}function iE(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vh(i){return!!i&&"mapValue"in i}function Wx(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[F1])===null||t===void 0?void 0:t.stringValue)===q1}function eu(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return na(i.mapValue.fields,(t,r)=>e.mapValue.fields[t]=eu(r)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=eu(i.arrayValue.values[t]);return e}return Object.assign({},i)}function Jx(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===Xx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!vh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(t)}setAll(e){let t=Kt.emptyPath(),r={},a=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,r,a),r={},a=[],t=d.popLast()}c?r[d.lastSegment()]=eu(c):a.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());vh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ti(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];vh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){na(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new jn(eu(this.value))}}function G1(i){const e=[];return na(i.fields,(t,r)=>{const a=new Kt([t]);if(vh(r)){const l=G1(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,t,r,a,l,c,d){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new en(e,0,Ce.min(),Ce.min(),Ce.min(),jn.empty(),0)}static newFoundDocument(e,t,r,a){return new en(e,1,t,Ce.min(),r,a,0)}static newNoDocument(e,t){return new en(e,2,t,Ce.min(),Ce.min(),jn.empty(),0)}static newUnknownDocument(e,t){return new en(e,3,t,Ce.min(),Ce.min(),jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,t){this.position=e,this.inclusive=t}}function rE(i,e,t){let r=0;for(let a=0;a<i.position.length;a++){const l=e[a],c=i.position[a];if(l.field.isKeyField()?r=ye.comparator(ye.fromName(c.referenceValue),t.key):r=go(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function sE(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Ti(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,t="asc"){this.field=e,this.dir=t}}function Zx(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{}class wt extends K1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new tN(e,t,r):t==="array-contains"?new rN(e,r):t==="in"?new sN(e,r):t==="not-in"?new aN(e,r):t==="array-contains-any"?new oN(e,r):new wt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new nN(e,r):new iN(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(go(t,this.value)):t!==null&&Jr(this.value)===Jr(t)&&this.matchesComparison(go(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends K1{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Yn(e,t)}matches(e){return $1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function $1(i){return i.op==="and"}function Q1(i){return eN(i)&&$1(i)}function eN(i){for(const e of i.filters)if(e instanceof Yn)return!1;return!0}function dp(i){if(i instanceof wt)return i.field.canonicalString()+i.op.toString()+yo(i.value);if(Q1(i))return i.filters.map(e=>dp(e)).join(",");{const e=i.filters.map(t=>dp(t)).join(",");return`${i.op}(${e})`}}function Y1(i,e){return i instanceof wt?function(r,a){return a instanceof wt&&r.op===a.op&&r.field.isEqual(a.field)&&Ti(r.value,a.value)}(i,e):i instanceof Yn?function(r,a){return a instanceof Yn&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,c,d)=>l&&Y1(c,a.filters[d]),!0):!1}(i,e):void Se()}function X1(i){return i instanceof wt?function(t){return`${t.field.canonicalString()} ${t.op} ${yo(t.value)}`}(i):i instanceof Yn?function(t){return t.op.toString()+" {"+t.getFilters().map(X1).join(" ,")+"}"}(i):"Filter"}class tN extends wt{constructor(e,t,r){super(e,t,r),this.key=ye.fromName(r.referenceValue)}matches(e){const t=ye.comparator(e.key,this.key);return this.matchesComparison(t)}}class nN extends wt{constructor(e,t){super(e,"in",t),this.keys=W1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class iN extends wt{constructor(e,t){super(e,"not-in",t),this.keys=W1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function W1(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ye.fromName(r.referenceValue))}class rN extends wt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ig(t)&&du(t.arrayValue,this.value)}}class sN extends wt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&du(this.value.arrayValue,t)}}class aN extends wt{constructor(e,t){super(e,"not-in",t)}matches(e){if(du(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!du(this.value.arrayValue,t)}}class oN extends wt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ig(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>du(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,t=null,r=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.le=null}}function aE(i,e=null,t=[],r=[],a=null,l=null,c=null){return new lN(i,e,t,r,a,l,c)}function rg(i){const e=Ie(i);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>dp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),of(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>yo(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>yo(r)).join(",")),e.le=t}return e.le}function sg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!Zx(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Y1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!sE(i.startAt,e.startAt)&&sE(i.endAt,e.endAt)}function mp(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,t=null,r=[],a=[],l=null,c="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function uN(i,e,t,r,a,l,c,d){return new Cu(i,e,t,r,a,l,c,d)}function ag(i){return new Cu(i)}function oE(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function J1(i){return i.collectionGroup!==null}function tu(i){const e=Ie(i);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Dt(Kt.comparator);return c.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Uh(l,r))}),t.has(Kt.keyField().canonicalString())||e.he.push(new Uh(Kt.keyField(),r))}return e.he}function _i(i){const e=Ie(i);return e.Pe||(e.Pe=cN(e,tu(i))),e.Pe}function cN(i,e){if(i.limitType==="F")return aE(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new Uh(a.field,l)});const t=i.endAt?new kh(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new kh(i.startAt.position,i.startAt.inclusive):null;return aE(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function pp(i,e){const t=i.filters.concat([e]);return new Cu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function gp(i,e,t){return new Cu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function uf(i,e){return sg(_i(i),_i(e))&&i.limitType===e.limitType}function Z1(i){return`${rg(_i(i))}|lt:${i.limitType}`}function io(i){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(a=>X1(a)).join(", ")}]`),of(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(a=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(a)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(a=>yo(a)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(a=>yo(a)).join(",")),`Target(${r})`}(_i(i))}; limitType=${i.limitType})`}function cf(i,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ye.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(i,e)&&function(r,a){for(const l of tu(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(i,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(i,e)&&function(r,a){return!(r.startAt&&!function(c,d,m){const g=rE(c,d,m);return c.inclusive?g<=0:g<0}(r.startAt,tu(r),a)||r.endAt&&!function(c,d,m){const g=rE(c,d,m);return c.inclusive?g>=0:g>0}(r.endAt,tu(r),a))}(i,e)}function hN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function eb(i){return(e,t)=>{let r=!1;for(const a of tu(i)){const l=fN(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function fN(i,e,t){const r=i.field.isKeyField()?ye.comparator(e.key,t.key):function(l,c,d){const m=c.data.field(l),g=d.data.field(l);return m!==null&&g!==null?go(m,g):Se()}(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return k1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new ut(ye.comparator);function ir(){return dN}const tb=new ut(ye.comparator);function Xl(...i){let e=tb;for(const t of i)e=e.insert(t.key,t);return e}function nb(i){let e=tb;return i.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fs(){return nu()}function ib(){return nu()}function nu(){return new ia(i=>i.toString(),(i,e)=>i.isEqual(e))}const mN=new ut(ye.comparator),pN=new Dt(ye.comparator);function Ue(...i){let e=pN;for(const t of i)e=e.add(t);return e}const gN=new Dt(De);function yN(){return gN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ph(e)?"-0":e}}function rb(i){return{integerValue:""+i}}function vN(i,e){return Gx(e)?rb(e):og(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(){this._=void 0}}function _N(i,e,t){return i instanceof jh?function(a,l){const c={fields:{[z1]:{stringValue:j1},[H1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&ng(l)&&(l=lf(l)),l&&(c.fields[B1]=l),{mapValue:c}}(t,e):i instanceof mu?ab(i,e):i instanceof pu?ob(i,e):function(a,l){const c=sb(a,l),d=lE(c)+lE(a.Ie);return fp(c)&&fp(a.Ie)?rb(d):og(a.serializer,d)}(i,e)}function EN(i,e,t){return i instanceof mu?ab(i,e):i instanceof pu?ob(i,e):t}function sb(i,e){return i instanceof zh?function(r){return fp(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class jh extends hf{}class mu extends hf{constructor(e){super(),this.elements=e}}function ab(i,e){const t=lb(e);for(const r of i.elements)t.some(a=>Ti(a,r))||t.push(r);return{arrayValue:{values:t}}}class pu extends hf{constructor(e){super(),this.elements=e}}function ob(i,e){let t=lb(e);for(const r of i.elements)t=t.filter(a=>!Ti(a,r));return{arrayValue:{values:t}}}class zh extends hf{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function lE(i){return gt(i.integerValue||i.doubleValue)}function lb(i){return ig(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function TN(i,e){return i.field.isEqual(e.field)&&function(r,a){return r instanceof mu&&a instanceof mu||r instanceof pu&&a instanceof pu?po(r.elements,a.elements,Ti):r instanceof zh&&a instanceof zh?Ti(r.Ie,a.Ie):r instanceof jh&&a instanceof jh}(i.transform,e.transform)}class bN{constructor(e,t){this.version=e,this.transformResults=t}}class Zi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Zi}static exists(e){return new Zi(void 0,e)}static updateTime(e){return new Zi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class ff{}function ub(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new hb(i.key,Zi.none()):new Iu(i.key,i.data,Zi.none());{const t=i.data,r=jn.empty();let a=new Dt(Kt.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new ra(i.key,r,new $n(a.toArray()),Zi.none())}}function SN(i,e,t){i instanceof Iu?function(a,l,c){const d=a.value.clone(),m=cE(a.fieldTransforms,l,c.transformResults);d.setAll(m),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(i,e,t):i instanceof ra?function(a,l,c){if(!_h(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=cE(a.fieldTransforms,l,c.transformResults),m=l.data;m.setAll(cb(a)),m.setAll(d),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()}(i,e,t):function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function iu(i,e,t,r){return i instanceof Iu?function(l,c,d,m){if(!_h(l.precondition,c))return d;const g=l.value.clone(),y=hE(l.fieldTransforms,m,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null}(i,e,t,r):i instanceof ra?function(l,c,d,m){if(!_h(l.precondition,c))return d;const g=hE(l.fieldTransforms,m,c),y=c.data;return y.setAll(cb(l)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(T=>T.field))}(i,e,t,r):function(l,c,d){return _h(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(i,e,t)}function AN(i,e){let t=null;for(const r of i.fieldTransforms){const a=e.data.field(r.field),l=sb(r.transform,a||null);l!=null&&(t===null&&(t=jn.empty()),t.set(r.field,l))}return t||null}function uE(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&po(r,a,(l,c)=>TN(l,c))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Iu extends ff{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class ra extends ff{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function cb(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}}),e}function cE(i,e,t){const r=new Map;$e(i.length===t.length);for(let a=0;a<t.length;a++){const l=i[a],c=l.transform,d=e.data.field(l.field);r.set(l.field,EN(c,d,t[a]))}return r}function hE(i,e,t){const r=new Map;for(const a of i){const l=a.transform,c=t.data.field(a.field);r.set(a.field,_N(l,c,e))}return r}class hb extends ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wN extends ff{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&SN(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=iu(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=iu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ib();return this.mutations.forEach(a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const m=ub(c,d);m!==null&&r.set(a.key,m),c.isValidDocument()||c.convertToNoDocument(Ce.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(t,r)=>uE(t,r))&&po(this.baseMutations,e.baseMutations,(t,r)=>uE(t,r))}}class lg{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){$e(e.mutations.length===r.length);let a=function(){return mN}();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new lg(e,t,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,He;function xN(i){switch(i){case re.OK:return Se();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Se()}}function fb(i){if(i===void 0)return nr("GRPC error has no .code"),re.UNKNOWN;switch(i){case At.OK:return re.OK;case At.CANCELLED:return re.CANCELLED;case At.UNKNOWN:return re.UNKNOWN;case At.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case At.INTERNAL:return re.INTERNAL;case At.UNAVAILABLE:return re.UNAVAILABLE;case At.UNAUTHENTICATED:return re.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case At.NOT_FOUND:return re.NOT_FOUND;case At.ALREADY_EXISTS:return re.ALREADY_EXISTS;case At.PERMISSION_DENIED:return re.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case At.ABORTED:return re.ABORTED;case At.OUT_OF_RANGE:return re.OUT_OF_RANGE;case At.UNIMPLEMENTED:return re.UNIMPLEMENTED;case At.DATA_LOSS:return re.DATA_LOSS;default:return Se()}}(He=At||(At={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new $r([4294967295,4294967295],0);function fE(i){const e=P1().encode(i),t=new C1;return t.update(e),new Uint8Array(t.digest())}function dE(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new $r([t,r],0),new $r([a,l],0)]}class ug{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wl(`Invalid padding: ${t}`);if(r<0)throw new Wl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=$r.fromNumber(this.Ee)}Ae(e,t,r){let a=e.add(t.multiply($r.fromNumber(r)));return a.compare(NN)===1&&(a=new $r([a.getBits(0),a.getBits(1)],0)),a.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=fE(e),[r,a]=dE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);if(!this.Re(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new ug(l,a,t);return r.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=fE(e),[r,a]=dE(t);for(let l=0;l<this.hashCount;l++){const c=this.Ae(r,a,l);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new df(Ce.min(),a,new ut(De),ir(),Ue())}}class xu{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new xu(r,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,t,r,a){this.me=e,this.removedTargetIds=t,this.key=r,this.fe=a}}class db{constructor(e,t){this.targetId=e,this.ge=t}}class mb{constructor(e,t,r=$t.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class mE{constructor(){this.pe=0,this.ye=pE(),this.we=$t.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),r=Ue();return this.ye.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:Se()}}),new xu(this.we,this.Se,e,t,r)}Me(){this.be=!1,this.ye=pE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class ON{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ir(),this.$e=uh(),this.Ue=uh(),this.Ke=new ut(De)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const r=this.He(t);switch(e.state){case 0:this.Je(t)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(t);break;case 3:this.Je(t)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),r.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((r,a)=>{this.Je(a)&&t(a)})}Ze(e){const t=e.targetId,r=e.ge.count,a=this.Xe(t);if(a){const l=a.target;if(mp(l))if(r===0){const c=new ye(l.path);this.ze(t,c,en.newNoDocument(c,Ce.min()))}else $e(r===1);else{const c=this.et(t);if(c!==r){const d=this.tt(e),m=d?this.nt(d,e,c):1;if(m!==0){this.Ye(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Wr(r).toUint8Array()}catch(m){if(m instanceof U1)return mo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new ug(c,a,l)}catch(m){return mo(m instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(e,t,r){return t.ge.count===r-this.st(e,t.targetId)?0:2}st(e,t){const r=this.ke.getRemoteKeysForTarget(t);let a=0;return r.forEach(l=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),a++)}),a}ot(e){const t=new Map;this.qe.forEach((l,c)=>{const d=this.Xe(c);if(d){if(l.current&&mp(d.target)){const m=new ye(d.target.path);this._t(m).has(c)||this.ut(c,m)||this.ze(c,m,en.newNoDocument(m,e))}l.ve&&(t.set(c,l.Fe()),l.Me())}});let r=Ue();this.Ue.forEach((l,c)=>{let d=!0;c.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(l))}),this.Qe.forEach((l,c)=>c.setReadTime(e));const a=new df(e,t,this.Ke,this.Qe,r);return this.Qe=ir(),this.$e=uh(),this.Ue=uh(),this.Ke=new ut(De),a}Ge(e,t){if(!this.Je(e))return;const r=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,r),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,r){if(!this.Je(e))return;const a=this.He(e);this.ut(e,t)?a.xe(t,1):a.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),r&&(this.Qe=this.Qe.insert(t,r))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new mE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Dt(De),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Dt(De),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||he("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function uh(){return new ut(ye.comparator)}function pE(){return new ut(ye.comparator)}const DN={asc:"ASCENDING",desc:"DESCENDING"},MN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PN={and:"AND",or:"OR"};class VN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function yp(i,e){return i.useProto3Json||of(e)?e:{value:e}}function Bh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pb(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function LN(i,e){return Bh(i,e.toTimestamp())}function Ei(i){return $e(!!i),Ce.fromTimestamp(function(t){const r=Xr(t);return new Ot(r.seconds,r.nanos)}(i))}function cg(i,e){return vp(i,e).canonicalString()}function vp(i,e){const t=function(a){return new st(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?t:t.child(e)}function gb(i){const e=st.fromString(i);return $e(Tb(e)),e}function _p(i,e){return cg(i.databaseId,e.path)}function Fm(i,e){const t=gb(e);if(t.get(1)!==i.databaseId.projectId)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new fe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ye(vb(t))}function yb(i,e){return cg(i.databaseId,e)}function kN(i){const e=gb(i);return e.length===4?st.emptyPath():vb(e)}function Ep(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function vb(i){return $e(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function gE(i,e,t){return{name:_p(i,e),fields:t.value.mapValue.fields}}function UN(i,e){let t;if("targetChange"in e){e.targetChange;const r=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,y){return g.useProto3Json?($e(y===void 0||typeof y=="string"),$t.fromBase64String(y||"")):($e(y===void 0||y instanceof Buffer||y instanceof Uint8Array),$t.fromUint8Array(y||new Uint8Array))}(i,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(g){const y=g.code===void 0?re.UNKNOWN:fb(g.code);return new fe(y,g.message||"")}(c);t=new mb(r,a,l,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Fm(i,r.document.name),l=Ei(r.document.updateTime),c=r.document.createTime?Ei(r.document.createTime):Ce.min(),d=new jn({mapValue:{fields:r.document.fields}}),m=en.newFoundDocument(a,l,c,d),g=r.targetIds||[],y=r.removedTargetIds||[];t=new Eh(g,y,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Fm(i,r.document),l=r.readTime?Ei(r.readTime):Ce.min(),c=en.newNoDocument(a,l),d=r.removedTargetIds||[];t=new Eh([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Fm(i,r.document),l=r.removedTargetIds||[];t=new Eh([],l,a,null)}else{if(!("filter"in e))return Se();{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new IN(a,l),d=r.targetId;t=new db(d,c)}}return t}function jN(i,e){let t;if(e instanceof Iu)t={update:gE(i,e.key,e.value)};else if(e instanceof hb)t={delete:_p(i,e.key)};else if(e instanceof ra)t={update:gE(i,e.key,e.data),updateMask:QN(e.fieldMask)};else{if(!(e instanceof wN))return Se();t={verify:_p(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(l,c){const d=c.transform;if(d instanceof jh)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof mu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof pu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof zh)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Se()}(0,r))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:LN(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Se()}(i,e.precondition)),t}function zN(i,e){return i&&i.length>0?($e(e!==void 0),i.map(t=>function(a,l){let c=a.updateTime?Ei(a.updateTime):Ei(l);return c.isEqual(Ce.min())&&(c=Ei(l)),new bN(c,a.transformResults||[])}(t,e))):[]}function BN(i,e){return{documents:[yb(i,e.path)]}}function HN(i,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=yb(i,a);const l=function(g){if(g.length!==0)return Eb(Yn.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const c=function(g){if(g.length!==0)return g.map(y=>function(A){return{field:ro(A.field),direction:GN(A.dir)}}(y))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=yp(i,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:a}}function FN(i){let e=kN(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){$e(r===1);const y=t.from[0];y.allDescendants?a=y.collectionId:e=e.child(y.collectionId)}let l=[];t.where&&(l=function(T){const A=_b(T);return A instanceof Yn&&Q1(A)?A.getFilters():[A]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(A=>function(x){return new Uh(so(x.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(A))}(t.orderBy));let d=null;t.limit&&(d=function(T){let A;return A=typeof T=="object"?T.value:T,of(A)?null:A}(t.limit));let m=null;t.startAt&&(m=function(T){const A=!!T.before,M=T.values||[];return new kh(M,A)}(t.startAt));let g=null;return t.endAt&&(g=function(T){const A=!T.before,M=T.values||[];return new kh(M,A)}(t.endAt)),uN(e,a,c,l,d,"F",m,g)}function qN(i,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function _b(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=so(t.unaryFilter.field);return wt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=so(t.unaryFilter.field);return wt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=so(t.unaryFilter.field);return wt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=so(t.unaryFilter.field);return wt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(i):i.fieldFilter!==void 0?function(t){return wt.create(so(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return Yn.create(t.compositeFilter.filters.map(r=>_b(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Se()}}(t.compositeFilter.op))}(i):Se()}function GN(i){return DN[i]}function KN(i){return MN[i]}function $N(i){return PN[i]}function ro(i){return{fieldPath:i.canonicalString()}}function so(i){return Kt.fromServerFormat(i.fieldPath)}function Eb(i){return i instanceof wt?function(t){if(t.op==="=="){if(iE(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NAN"}};if(nE(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(iE(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NAN"}};if(nE(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(t.field),op:KN(t.op),value:t.value}}}(i):i instanceof Yn?function(t){const r=t.getFilters().map(a=>Eb(a));return r.length===1?r[0]:{compositeFilter:{op:$N(t.op),filters:r}}}(i):Se()}function QN(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e,t,r,a,l=Ce.min(),c=Ce.min(),d=$t.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Hr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.Tt=e}}function XN(i){const e=FN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?gp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(){this.Tn=new JN}addToCollectionParentIndex(e,t){return this.Tn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Yr.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class JN{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Dt(st.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Dt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bb=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(bb,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new vo(0)}static Kn(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="LruGarbageCollector",ZN=1048576;function _E([i,e],[t,r]){const a=De(i,t);return a===0?De(e,r):a}class e4{constructor(e){this.Hn=e,this.buffer=new Dt(_E),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();_E(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class t4{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(vE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Io(t)?he(vE,"Ignoring IndexedDB error during garbage collection: ",t):await Co(t)}await this.er(3e5)})}}class n4{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(af.ae);const r=new e4(t);return this.tr.forEachTarget(e,a=>r.Zn(a.sequenceNumber)).next(()=>this.tr.rr(e,a=>r.Zn(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.tr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(yE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let r,a,l,c,d,m,g;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a))).next(T=>(r=T,d=Date.now(),this.removeTargets(e,r,t))).next(T=>(l=T,m=Date.now(),this.removeOrphanedDocuments(e,r))).next(T=>(g=Date.now(),no()<=ke.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${T} documents in `+(g-m)+`ms
Total Duration: ${g-y}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T})))}}function i4(i,e){return new n4(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(){this.changes=new ia(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a4{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(r!==null&&iu(r.mutation,a,$n.empty(),Ot.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ue()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ue()){const a=Fs();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,r).next(l=>{let c=Xl();return l.forEach((d,m)=>{c=c.insert(d,m.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Fs();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ue()))}populateOverlays(e,t,r){const a=[];return r.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,r,a){let l=ir();const c=nu(),d=function(){return nu()}();return t.forEach((m,g)=>{const y=r.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof ra)?l=l.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),iu(y.mutation,g,y.mutation.getFieldMask(),Ot.now())):c.set(g.key,$n.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,y)=>c.set(g,y)),t.forEach((g,y)=>{var T;return d.set(g,new s4(y,(T=c.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const r=nu();let a=new ut((c,d)=>c-d),l=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let y=r.get(m)||$n.empty();y=d.applyToLocalView(g,y),r.set(m,y);const T=(a.get(d.batchId)||Ue()).add(m);a=a.insert(d.batchId,T)})}).next(()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,y=m.value,T=ib();y.forEach(A=>{if(!l.has(A)){const M=ub(t.get(A),r.get(A));M!==null&&T.set(A,M),l=l.add(A)}}),c.push(this.documentOverlayCache.saveOverlays(e,g,T))}return ne.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,a){return function(c){return ye.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):J1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next(l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):ne.resolve(Fs());let d=cu,m=l;return c.next(g=>ne.forEach(g,(y,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(y)?ne.resolve():this.remoteDocumentCache.getEntry(e,y).next(A=>{m=m.insert(y,A)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,Ue())).next(y=>({batchId:d,changes:nb(y)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ye(t)).next(r=>{let a=Xl();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=Xl();return this.indexManager.getCollectionParents(e,l).next(d=>ne.forEach(d,m=>{const g=function(T,A){return new Cu(A,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,r,a).next(y=>{y.forEach((T,A)=>{c=c.insert(T,A)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a))).next(c=>{l.forEach((m,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,en.newInvalidDocument(y)))});let d=Xl();return c.forEach((m,g)=>{const y=l.get(m);y!==void 0&&iu(y.mutation,g,$n.empty(),Ot.now()),cf(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return ne.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:Ei(a.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(a){return{name:a.name,query:XN(a.bundledQuery),readTime:Ei(a.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(){this.overlays=new ut(ye.comparator),this.Rr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fs();return ne.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((a,l)=>{this.Et(e,t,l)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Rr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const a=Fs(),l=t.length+1,c=new ye(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>r&&a.set(m.getKey(),m)}return ne.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new ut((g,y)=>g-y);const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>r){let y=l.get(g.largestBatchId);y===null&&(y=Fs(),l=l.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const d=Fs(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,y)=>d.set(g,y)),!(d.size()>=a)););return ne.resolve(d)}Et(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Rr.get(a.largestBatchId).delete(r.key);this.Rr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new CN(t,r));let l=this.Rr.get(t);l===void 0&&(l=Ue(),this.Rr.set(t,l)),this.Rr.set(t,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this.Vr=new Dt(jt.mr),this.gr=new Dt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const r=new jt(e,t);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.wr(new jt(e,t))}Sr(e,t){e.forEach(r=>this.removeReference(r,t))}br(e){const t=new ye(new st([])),r=new jt(t,e),a=new jt(t,e+1),l=[];return this.gr.forEachInRange([r,a],c=>{this.wr(c),l.push(c.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ye(new st([])),r=new jt(t,e),a=new jt(t,e+1);let l=Ue();return this.gr.forEachInRange([r,a],c=>{l=l.add(c.key)}),l}containsKey(e){const t=new jt(e,0),r=this.Vr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ye.comparator(e.key,t.key)||De(e.Cr,t.Cr)}static pr(e,t){return De(e.Cr,t.Cr)||ye.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Dt(jt.mr)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new RN(l,t,r,a);this.mutationQueue.push(c);for(const d of a)this.Mr=this.Mr.add(new jt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ne.resolve(c)}lookupMutationBatch(e,t){return ne.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Nr(r),l=a<0?0:a;return ne.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?tg:this.Fr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new jt(t,0),a=new jt(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([r,a],c=>{const d=this.Or(c.Cr);l.push(d)}),ne.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dt(De);return t.forEach(a=>{const l=new jt(a,0),c=new jt(a,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,c],d=>{r=r.add(d.Cr)})}),ne.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;ye.isDocumentKey(l)||(l=l.child(""));const c=new jt(new ye(l),0);let d=new Dt(De);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!r.isPrefixOf(g)&&(g.length===a&&(d=d.add(m.Cr)),!0)},c),ne.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(r=>{const a=this.Or(r);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){$e(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ne.forEach(t.mutations,a=>{const l=new jt(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,t){const r=new jt(t,0),a=this.Mr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h4{constructor(e){this.kr=e,this.docs=function(){return new ut(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.kr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():en.newInvalidDocument(t))}getEntries(e,t){let r=ir();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():en.newInvalidDocument(a))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=ir();const c=t.path,d=new ye(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:y}}=m.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||Bx(zx(y),r)<=0||(a.has(y.key)||cf(t,y))&&(l=l.insert(y.key,y.mutableCopy()))}return ne.resolve(l)}getAllFromCollectionGroup(e,t,r,a){Se()}qr(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new f4(this)}getSize(e){return ne.resolve(this.size)}}class f4 extends r4{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?t.push(this.Ir.addEntry(e,a)):this.Ir.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e){this.persistence=e,this.Qr=new ia(t=>rg(t),sg),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Ur=new hg,this.targetCount=0,this.Kr=vo.Un()}forEachTarget(e,t){return this.Qr.forEach((r,a)=>t(a)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$r&&(this.$r=t),ne.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new vo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.zn(t),ne.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.Qr.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)}),ne.waitFor(l).next(()=>a)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.Qr.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.Ur.yr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.Ur.Sr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(c=>{l.push(a.markPotentiallyOrphaned(e,c))}),ne.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ur.vr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new af(0),this.zr=!1,this.zr=!0,this.jr=new u4,this.referenceDelegate=e(this),this.Hr=new d4(this),this.indexManager=new WN,this.remoteDocumentCache=function(a){return new h4(a)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new YN(t),this.Yr=new o4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new l4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Wr[e.toKey()];return r||(r=new c4(t,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,r){he("MemoryPersistence","Starting transaction:",e);const a=new m4(this.Gr.next());return this.referenceDelegate.Zr(),r(a).next(l=>this.referenceDelegate.Xr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}ei(e,t){return ne.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,t)))}}class m4 extends Fx{constructor(e){super(),this.currentSequenceNumber=e}}class fg{constructor(e){this.persistence=e,this.ti=new hg,this.ni=null}static ri(e){return new fg(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,t,r){return this.ti.addReference(r,t),this.ii.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.ti.removeReference(r,t),this.ii.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),ne.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(a=>this.ii.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.ii.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.ii,r=>{const a=ye.fromPath(r);return this.si(e,a).next(l=>{l||t.removeEntry(a,Ce.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(r=>{r?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return ne.or([()=>ne.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Hh{constructor(e,t){this.persistence=e,this.oi=new ia(r=>Kx(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=i4(this,t)}static ri(e,t){return new Hh(e,t)}Zr(){}Xr(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}sr(e){let t=0;return this.rr(e,r=>{t++}).next(()=>t)}rr(e,t){return ne.forEach(this.oi,(r,a)=>this.ar(e,r,a).next(l=>l?ne.resolve():t(a)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.qr(e,c=>this.ar(e,c,t).next(d=>{d||(r++,l.removeEntry(c,Ce.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.oi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),ne.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=yh(e.data.value)),t}ar(e,t,r){return ne.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.oi.get(t);return ne.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Hi=r,this.Ji=a}static Yi(e,t){let r=Ue(),a=Ue();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new dg(e,t.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return X2()?8:qx(nn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.rs(e,t).next(c=>{l.result=c}).next(()=>{if(!l.result)return this.ss(e,t,a,r).next(c=>{l.result=c})}).next(()=>{if(l.result)return;const c=new p4;return this._s(e,t,c).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>l.result)}us(e,t,r,a){return r.documentReadCount<this.es?(no()<=ke.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ne.resolve()):(no()<=ke.DEBUG&&he("QueryEngine","Query:",io(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ts*a?(no()<=ke.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_i(t))):ne.resolve())}rs(e,t){if(oE(t))return ne.resolve(null);let r=_i(t);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=gp(t,null,"F"),r=_i(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const c=Ue(...l);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,r).next(m=>{const g=this.cs(t,d);return this.ls(t,g,c,m.readTime)?this.rs(e,gp(t,null,"F")):this.hs(e,g,t,m)}))})))}ss(e,t,r,a){return oE(t)||a.isEqual(Ce.min())?ne.resolve(null):this.ns.getDocuments(e,r).next(l=>{const c=this.cs(t,l);return this.ls(t,c,r,a)?ne.resolve(null):(no()<=ke.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),io(t)),this.hs(e,c,t,jx(a,cu)).next(d=>d))})}cs(e,t){let r=new Dt(eb(e));return t.forEach((a,l)=>{cf(e,l)&&(r=r.add(l))}),r}ls(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}_s(e,t,r){return no()<=ke.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",io(t)),this.ns.getDocumentsMatchingQuery(e,t,Yr.min(),r)}hs(e,t,r,a){return this.ns.getDocumentsMatchingQuery(e,r,a).next(l=>(t.forEach(c=>{l=l.insert(c.key,c)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mg="LocalStore",y4=3e8;class v4{constructor(e,t,r,a){this.persistence=e,this.Ps=t,this.serializer=a,this.Ts=new ut(De),this.Is=new ia(l=>rg(l),sg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function _4(i,e,t,r){return new v4(i,e,t,r)}async function Ab(i,e){const t=Ie(i);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,t.As(e),t.mutationQueue.getAllMutationBatches(r))).next(l=>{const c=[],d=[];let m=Ue();for(const g of a){c.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}for(const g of l){d.push(g.batchId);for(const y of g.mutations)m=m.add(y.key)}return t.localDocuments.getDocuments(r,m).next(g=>({Rs:g,removedBatchIds:c,addedBatchIds:d}))})})}function E4(i,e){const t=Ie(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,g,y){const T=g.batch,A=T.keys();let M=ne.resolve();return A.forEach(x=>{M=M.next(()=>y.getEntry(m,x)).next(U=>{const C=g.docVersions.get(x);$e(C!==null),U.version.compareTo(C)<0&&(T.applyToRemoteDocument(U,g),U.isValidDocument()&&(U.setReadTime(g.commitVersion),y.addEntry(U)))})}),M.next(()=>d.mutationQueue.removeMutationBatch(m,T))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let m=Ue();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,a))})}function wb(i){const e=Ie(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function T4(i,e){const t=Ie(i),r=e.snapshotVersion;let a=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});a=t.Ts;const d=[];e.targetChanges.forEach((y,T)=>{const A=a.get(T);if(!A)return;d.push(t.Hr.removeMatchingKeys(l,y.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(l,y.addedDocuments,T)));let M=A.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?M=M.withResumeToken($t.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):y.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(y.resumeToken,r)),a=a.insert(T,M),function(U,C,q){return U.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-U.snapshotVersion.toMicroseconds()>=y4?!0:q.addedDocuments.size+q.modifiedDocuments.size+q.removedDocuments.size>0}(A,M,y)&&d.push(t.Hr.updateTargetData(l,M))});let m=ir(),g=Ue();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,y))}),d.push(b4(l,c,e.documentUpdates).next(y=>{m=y.Vs,g=y.fs})),!r.isEqual(Ce.min())){const y=t.Hr.getLastRemoteSnapshotVersion(l).next(T=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,r));d.push(y)}return ne.waitFor(d).next(()=>c.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.Ts=a,l))}function b4(i,e,t){let r=Ue(),a=Ue();return t.forEach(l=>r=r.add(l)),e.getEntries(i,r).next(l=>{let c=ir();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(d)),m.isNoDocument()&&m.version.isEqual(Ce.min())?(e.removeEntry(d,m.readTime),c=c.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),c=c.insert(d,m)):he(mg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Vs:c,fs:a}})}function S4(i,e){const t=Ie(i);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=tg),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function A4(i,e){const t=Ie(i);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.Hr.getTargetData(r,e).next(l=>l?(a=l,ne.resolve(a)):t.Hr.allocateTargetId(r).next(c=>(a=new Hr(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Hr.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Ts.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(r.targetId,r),t.Is.set(e,r.targetId)),r})}async function Tp(i,e,t){const r=Ie(i),a=r.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,c=>r.persistence.referenceDelegate.removeTarget(c,a))}catch(c){if(!Io(c))throw c;he(mg,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ts=r.Ts.remove(e),r.Is.delete(a.target)}function EE(i,e,t){const r=Ie(i);let a=Ce.min(),l=Ue();return r.persistence.runTransaction("Execute query","readwrite",c=>function(m,g,y){const T=Ie(m),A=T.Is.get(y);return A!==void 0?ne.resolve(T.Ts.get(A)):T.Hr.getTargetData(g,y)}(r,c,_i(e)).next(d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(c,d.targetId).next(m=>{l=m})}).next(()=>r.Ps.getDocumentsMatchingQuery(c,e,t?a:Ce.min(),t?l:Ue())).next(d=>(w4(r,hN(e),d),{documents:d,gs:l})))}function w4(i,e,t){let r=i.Es.get(e)||Ce.min();t.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),i.Es.set(e,r)}class TE{constructor(){this.activeTargetIds=yN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R4{constructor(){this.ho=new TE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,r){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new TE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE="ConnectivityMonitor";class SE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(bE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(bE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ch=null;function bp(){return ch===null?ch=function(){return 268435456+Math.round(2147483648*Math.random())}():ch++,"0x"+ch.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qm="RestConnection",I4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class x4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${r}/databases/${a}`,this.wo=this.databaseId.database===Vh?`project_id=${r}`:`project_id=${r}&database_id=${a}`}So(e,t,r,a,l){const c=bp(),d=this.bo(e,t.toUriEncodedString());he(qm,`Sending RPC '${e}' ${c}:`,d,r);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,a,l),this.vo(e,d,m,r).then(g=>(he(qm,`Received RPC '${e}' ${c}: `,g),g),g=>{throw mo(qm,`RPC '${e}' ${c} failed with error: `,g,"url: ",d,"request:",r),g})}Co(e,t,r,a,l,c){return this.So(e,t,r,a,l)}Do(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ro}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}bo(e,t){const r=I4[e];return`${this.po}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class O4 extends x4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,r,a){const l=bp();return new Promise((c,d)=>{const m=new I1;m.setWithCredentials(!0),m.listenOnce(x1.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case gh.NO_ERROR:const y=m.getResponseJson();he(Jt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(y)),c(y);break;case gh.TIMEOUT:he(Jt,`RPC '${e}' ${l} timed out`),d(new fe(re.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const T=m.getStatus();if(he(Jt,`RPC '${e}' ${l} failed with status:`,T,"response text:",m.getResponseText()),T>0){let A=m.getResponseJson();Array.isArray(A)&&(A=A[0]);const M=A==null?void 0:A.error;if(M&&M.status&&M.message){const x=function(C){const q=C.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(q)>=0?q:re.UNKNOWN}(M.status);d(new fe(x,M.message))}else d(new fe(re.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new fe(re.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{he(Jt,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(a);he(Jt,`RPC '${e}' ${l} sending request:`,a),m.send(t,"POST",g,r,15)})}Wo(e,t,r){const a=bp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=D1(),d=O1(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const y=l.join("");he(Jt,`Creating RPC '${e}' stream ${a}: ${y}`,m);const T=c.createWebChannel(y,m);let A=!1,M=!1;const x=new N4({Fo:C=>{M?he(Jt,`Not sending because RPC '${e}' stream ${a} is closed:`,C):(A||(he(Jt,`Opening RPC '${e}' stream ${a} transport.`),T.open(),A=!0),he(Jt,`RPC '${e}' stream ${a} sending:`,C),T.send(C))},Mo:()=>T.close()}),U=(C,q,X)=>{C.listen(q,W=>{try{X(W)}catch(ae){setTimeout(()=>{throw ae},0)}})};return U(T,Yl.EventType.OPEN,()=>{M||(he(Jt,`RPC '${e}' stream ${a} transport opened.`),x.Qo())}),U(T,Yl.EventType.CLOSE,()=>{M||(M=!0,he(Jt,`RPC '${e}' stream ${a} transport closed`),x.Uo())}),U(T,Yl.EventType.ERROR,C=>{M||(M=!0,mo(Jt,`RPC '${e}' stream ${a} transport errored:`,C),x.Uo(new fe(re.UNAVAILABLE,"The operation could not be completed")))}),U(T,Yl.EventType.MESSAGE,C=>{var q;if(!M){const X=C.data[0];$e(!!X);const W=X,ae=(W==null?void 0:W.error)||((q=W[0])===null||q===void 0?void 0:q.error);if(ae){he(Jt,`RPC '${e}' stream ${a} received error:`,ae);const oe=ae.status;let pe=function(I){const V=At[I];if(V!==void 0)return fb(V)}(oe),D=ae.message;pe===void 0&&(pe=re.INTERNAL,D="Unknown error status: "+oe+" with message "+ae.message),M=!0,x.Uo(new fe(pe,D)),T.close()}else he(Jt,`RPC '${e}' stream ${a} received:`,X),x.Ko(X)}}),U(d,N1.STAT_EVENT,C=>{C.stat===up.PROXY?he(Jt,`RPC '${e}' stream ${a} detected buffering proxy`):C.stat===up.NOPROXY&&he(Jt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{x.$o()},0),x}}function Gm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(i){return new VN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=r,this.zo=a,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),a=Math.max(0,t-r);a>0&&he("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,a,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE="PersistentStream";class Cb{constructor(e,t,r,a,l,c,d,m){this.Ti=e,this.n_=r,this.r_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Rb(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(nr(t.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.i_===t&&this.V_(r,a)},r=>{e(()=>{const a=new fe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(a)})})}V_(e,t){const r=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(a=>{r(()=>this.m_(a))}),this.stream.onMessage(a=>{r(()=>++this.__==1?this.g_(a):this.onNext(a))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(AE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(he(AE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class D4 extends Cb{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=UN(this.serializer,e),r=function(l){if(!("targetChange"in l))return Ce.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?Ei(c.readTime):Ce.min()}(e);return this.listener.p_(t,r)}y_(e){const t={};t.database=Ep(this.serializer),t.addTarget=function(l,c){let d;const m=c.target;if(d=mp(m)?{documents:BN(l,m)}:{query:HN(l,m).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=pb(l,c.resumeToken);const g=yp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ce.min())>0){d.readTime=Bh(l,c.snapshotVersion.toTimestamp());const g=yp(l,c.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const r=qN(this.serializer,e);r&&(t.labels=r),this.I_(t)}w_(e){const t={};t.database=Ep(this.serializer),t.removeTarget=e,this.I_(t)}}class M4 extends Cb{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=zN(e.writeResults,e.commitTime),r=Ei(e.commitTime);return this.listener.v_(r,t)}C_(){const e={};e.database=Ep(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>jN(this.serializer,r))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{}class V4 extends P4{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.F_=!1}M_(){if(this.F_)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,r,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.So(e,vp(t,r),a,l,c)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new fe(re.UNKNOWN,l.toString())})}Co(e,t,r,a,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,vp(t,r),a,c,d,l)).catch(c=>{throw c.name==="FirebaseError"?(c.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new fe(re.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class L4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(nr(t),this.N_=!1):he("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="RemoteStore";class k4{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(c=>{r.enqueueAndForget(async()=>{sa(this)&&(he(Js,"Restarting streams for network reachability change."),await async function(m){const g=Ie(m);g.W_.add(4),await Nu(g),g.j_.set("Unknown"),g.W_.delete(4),await pf(g)}(this))})}),this.j_=new L4(r,a)}}async function pf(i){if(sa(i))for(const e of i.G_)await e(!0)}async function Nu(i){for(const e of i.G_)await e(!1)}function Ib(i,e){const t=Ie(i);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),vg(t)?yg(t):xo(t).c_()&&gg(t,e))}function pg(i,e){const t=Ie(i),r=xo(t);t.K_.delete(e),r.c_()&&xb(t,e),t.K_.size===0&&(r.c_()?r.P_():sa(t)&&t.j_.set("Unknown"))}function gg(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xo(i).y_(e)}function xb(i,e){i.H_.Ne(e),xo(i).w_(e)}function yg(i){i.H_=new ON({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),xo(i).start(),i.j_.B_()}function vg(i){return sa(i)&&!xo(i).u_()&&i.K_.size>0}function sa(i){return Ie(i).W_.size===0}function Nb(i){i.H_=void 0}async function U4(i){i.j_.set("Online")}async function j4(i){i.K_.forEach((e,t)=>{gg(i,e)})}async function z4(i,e){Nb(i),vg(i)?(i.j_.q_(e),yg(i)):i.j_.set("Unknown")}async function B4(i,e,t){if(i.j_.set("Online"),e instanceof mb&&e.state===2&&e.cause)try{await async function(a,l){const c=l.cause;for(const d of l.targetIds)a.K_.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.K_.delete(d),a.H_.removeTarget(d))}(i,e)}catch(r){he(Js,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fh(i,r)}else if(e instanceof Eh?i.H_.We(e):e instanceof db?i.H_.Ze(e):i.H_.je(e),!t.isEqual(Ce.min()))try{const r=await wb(i.localStore);t.compareTo(r)>=0&&await function(l,c){const d=l.H_.ot(c);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const y=l.K_.get(g);y&&l.K_.set(g,y.withResumeToken(m.resumeToken,c))}}),d.targetMismatches.forEach((m,g)=>{const y=l.K_.get(m);if(!y)return;l.K_.set(m,y.withResumeToken($t.EMPTY_BYTE_STRING,y.snapshotVersion)),xb(l,m);const T=new Hr(y.target,m,g,y.sequenceNumber);gg(l,T)}),l.remoteSyncer.applyRemoteEvent(d)}(i,t)}catch(r){he(Js,"Failed to raise snapshot:",r),await Fh(i,r)}}async function Fh(i,e,t){if(!Io(e))throw e;i.W_.add(1),await Nu(i),i.j_.set("Offline"),t||(t=()=>wb(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{he(Js,"Retrying IndexedDB access"),await t(),i.W_.delete(1),await pf(i)})}function Ob(i,e){return e().catch(t=>Fh(i,t,e))}async function gf(i){const e=Ie(i),t=Zr(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:tg;for(;H4(e);)try{const a=await S4(e.localStore,r);if(a===null){e.U_.length===0&&t.P_();break}r=a.batchId,F4(e,a)}catch(a){await Fh(e,a)}Db(e)&&Mb(e)}function H4(i){return sa(i)&&i.U_.length<10}function F4(i,e){i.U_.push(e);const t=Zr(i);t.c_()&&t.S_&&t.b_(e.mutations)}function Db(i){return sa(i)&&!Zr(i).u_()&&i.U_.length>0}function Mb(i){Zr(i).start()}async function q4(i){Zr(i).C_()}async function G4(i){const e=Zr(i);for(const t of i.U_)e.b_(t.mutations)}async function K4(i,e,t){const r=i.U_.shift(),a=lg.from(r,e,t);await Ob(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await gf(i)}async function $4(i,e){e&&Zr(i).S_&&await async function(r,a){if(function(c){return xN(c)&&c!==re.ABORTED}(a.code)){const l=r.U_.shift();Zr(r).h_(),await Ob(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await gf(r)}}(i,e),Db(i)&&Mb(i)}async function wE(i,e){const t=Ie(i);t.asyncQueue.verifyOperationInProgress(),he(Js,"RemoteStore received new credentials");const r=sa(t);t.W_.add(3),await Nu(t),r&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await pf(t)}async function Q4(i,e){const t=Ie(i);e?(t.W_.delete(2),await pf(t)):e||(t.W_.add(2),await Nu(t),t.j_.set("Unknown"))}function xo(i){return i.J_||(i.J_=function(t,r,a){const l=Ie(t);return l.M_(),new D4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(i.datastore,i.asyncQueue,{xo:U4.bind(null,i),No:j4.bind(null,i),Lo:z4.bind(null,i),p_:B4.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),vg(i)?yg(i):i.j_.set("Unknown")):(await i.J_.stop(),Nb(i))})),i.J_}function Zr(i){return i.Y_||(i.Y_=function(t,r,a){const l=Ie(t);return l.M_(),new M4(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:q4.bind(null,i),Lo:$4.bind(null,i),D_:G4.bind(null,i),v_:K4.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await gf(i)):(await i.Y_.stop(),i.U_.length>0&&(he(Js,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,d=new _g(e,t,c,a,l);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Eg(i,e){if(nr("AsyncQueue",`${e}: ${i}`),Io(i))return new fe(re.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ye.comparator(t.key,r.key):(t,r)=>ye.comparator(t.key,r.key),this.keyedMap=Xl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.Z_=new ut(ye.comparator)}track(e){const t=e.doc.key,r=this.Z_.get(t);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(t):e.type===1&&r.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class _o{constructor(e,t,r,a,l,c,d,m,g){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new _o(e,t,ho.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class X4{constructor(){this.queries=CE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,r){const a=Ie(t),l=a.queries;a.queries=CE(),l.forEach((c,d)=>{for(const m of d.ta)m.onError(r)})})(this,new fe(re.ABORTED,"Firestore shutting down"))}}function CE(){return new ia(i=>Z1(i),uf)}async function Pb(i,e){const t=Ie(i);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.na()&&e.ra()&&(r=2):(l=new Y4,r=e.ra()?0:1);try{switch(r){case 0:l.ea=await t.onListen(a,!0);break;case 1:l.ea=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=Eg(c,`Initialization of query '${io(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Tg(t)}async function Vb(i,e){const t=Ie(i),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.ta.indexOf(e);c>=0&&(l.ta.splice(c,1),l.ta.length===0?a=e.ra()?0:1:!l.na()&&e.ra()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function W4(i,e){const t=Ie(i);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ta)d.oa(a)&&(r=!0);c.ea=a}}r&&Tg(t)}function J4(i,e,t){const r=Ie(i),a=r.queries.get(e);if(a)for(const l of a.ta)l.onError(t);r.queries.delete(e)}function Tg(i){i.ia.forEach(e=>{e.next()})}var Sp,IE;(IE=Sp||(Sp={}))._a="default",IE.Cache="cache";class Lb{constructor(e,t,r){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new _o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const r=t!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this.key=e}}class Ub{constructor(e){this.key=e}}class Z4{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=eb(e),this.wa=new ho(this.ya)}get Sa(){return this.fa}ba(e,t){const r=t?t.Da:new RE,a=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((y,T)=>{const A=a.get(y),M=cf(this.query,T)?T:null,x=!!A&&this.mutatedKeys.has(A.key),U=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let C=!1;A&&M?A.data.isEqual(M.data)?x!==U&&(r.track({type:3,doc:M}),C=!0):this.va(A,M)||(r.track({type:2,doc:M}),C=!0,(m&&this.ya(M,m)>0||g&&this.ya(M,g)<0)&&(d=!0)):!A&&M?(r.track({type:0,doc:M}),C=!0):A&&!M&&(r.track({type:1,doc:A}),C=!0,(m||g)&&(d=!0)),C&&(M?(c=c.add(M),l=U?l.add(y):l.delete(y)):(c=c.delete(y),l=l.delete(y)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),l=l.delete(y.key),r.track({type:1,doc:y})}return{wa:c,Da:r,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((y,T)=>function(M,x){const U=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return U(M)-U(x)}(y.type,T.type)||this.ya(y.doc,T.doc)),this.Ca(r),a=a!=null&&a;const d=t&&!a?this.Fa():[],m=this.pa.size===0&&this.current&&!a?1:0,g=m!==this.ga;return this.ga=m,c.length!==0||g?{snapshot:new _o(this.query,e.wa,l,c,e.mutatedKeys,m===0,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new RE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const t=[];return e.forEach(r=>{this.pa.has(r)||t.push(new Ub(r))}),this.pa.forEach(r=>{e.has(r)||t.push(new kb(r))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return _o.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const bg="SyncEngine";class eO{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class tO{constructor(e){this.key=e,this.Ba=!1}}class nO{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new ia(d=>Z1(d),uf),this.qa=new Map,this.Qa=new Set,this.$a=new ut(ye.comparator),this.Ua=new Map,this.Ka=new hg,this.Wa={},this.Ga=new Map,this.za=vo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function iO(i,e,t=!0){const r=qb(i);let a;const l=r.ka.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Na()):a=await jb(r,e,t,!0),a}async function rO(i,e){const t=qb(i);await jb(t,e,!0,!1)}async function jb(i,e,t,r){const a=await A4(i.localStore,_i(e)),l=a.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let d;return r&&(d=await sO(i,e,l,c==="current",a.resumeToken)),i.isPrimaryClient&&t&&Ib(i.remoteStore,a),d}async function sO(i,e,t,r,a){i.Ha=(T,A,M)=>async function(U,C,q,X){let W=C.view.ba(q);W.ls&&(W=await EE(U.localStore,C.query,!1).then(({documents:D})=>C.view.ba(D,W)));const ae=X&&X.targetChanges.get(C.targetId),oe=X&&X.targetMismatches.get(C.targetId)!=null,pe=C.view.applyChanges(W,U.isPrimaryClient,ae,oe);return NE(U,C.targetId,pe.Ma),pe.snapshot}(i,T,A,M);const l=await EE(i.localStore,e,!0),c=new Z4(e,l.gs),d=c.ba(l.documents),m=xu.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",a),g=c.applyChanges(d,i.isPrimaryClient,m);NE(i,t,g.Ma);const y=new eO(e,t,c);return i.ka.set(e,y),i.qa.has(t)?i.qa.get(t).push(e):i.qa.set(t,[e]),g.snapshot}async function aO(i,e,t){const r=Ie(i),a=r.ka.get(e),l=r.qa.get(a.targetId);if(l.length>1)return r.qa.set(a.targetId,l.filter(c=>!uf(c,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Tp(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),t&&pg(r.remoteStore,a.targetId),Ap(r,a.targetId)}).catch(Co)):(Ap(r,a.targetId),await Tp(r.localStore,a.targetId,!0))}async function oO(i,e){const t=Ie(i),r=t.ka.get(e),a=t.qa.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),pg(t.remoteStore,r.targetId))}async function lO(i,e,t){const r=pO(i);try{const a=await function(c,d){const m=Ie(c),g=Ot.now(),y=d.reduce((M,x)=>M.add(x.key),Ue());let T,A;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>{let x=ir(),U=Ue();return m.ds.getEntries(M,y).next(C=>{x=C,x.forEach((q,X)=>{X.isValidDocument()||(U=U.add(q))})}).next(()=>m.localDocuments.getOverlayedDocuments(M,x)).next(C=>{T=C;const q=[];for(const X of d){const W=AN(X,T.get(X.key).overlayedDocument);W!=null&&q.push(new ra(X.key,W,G1(W.value.mapValue),Zi.exists(!0)))}return m.mutationQueue.addMutationBatch(M,g,q,d)}).next(C=>{A=C;const q=C.applyToLocalDocumentSet(T,U);return m.documentOverlayCache.saveOverlays(M,C.batchId,q)})}).then(()=>({batchId:A.batchId,changes:nb(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(c,d,m){let g=c.Wa[c.currentUser.toKey()];g||(g=new ut(De)),g=g.insert(d,m),c.Wa[c.currentUser.toKey()]=g}(r,a.batchId,t),await Ou(r,a.changes),await gf(r.remoteStore)}catch(a){const l=Eg(a,"Failed to persist write");t.reject(l)}}async function zb(i,e){const t=Ie(i);try{const r=await T4(t.localStore,e);e.targetChanges.forEach((a,l)=>{const c=t.Ua.get(l);c&&($e(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?c.Ba=!0:a.modifiedDocuments.size>0?$e(c.Ba):a.removedDocuments.size>0&&($e(c.Ba),c.Ba=!1))}),await Ou(t,r,e)}catch(r){await Co(r)}}function xE(i,e,t){const r=Ie(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.ka.forEach((l,c)=>{const d=c.view.sa(e);d.snapshot&&a.push(d.snapshot)}),function(c,d){const m=Ie(c);m.onlineState=d;let g=!1;m.queries.forEach((y,T)=>{for(const A of T.ta)A.sa(d)&&(g=!0)}),g&&Tg(m)}(r.eventManager,e),a.length&&r.La.p_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uO(i,e,t){const r=Ie(i);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Ua.get(e),l=a&&a.key;if(l){let c=new ut(ye.comparator);c=c.insert(l,en.newNoDocument(l,Ce.min()));const d=Ue().add(l),m=new df(Ce.min(),new Map,new ut(De),c,d);await zb(r,m),r.$a=r.$a.remove(l),r.Ua.delete(e),Sg(r)}else await Tp(r.localStore,e,!1).then(()=>Ap(r,e,t)).catch(Co)}async function cO(i,e){const t=Ie(i),r=e.batch.batchId;try{const a=await E4(t.localStore,e);Hb(t,r,null),Bb(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Ou(t,a)}catch(a){await Co(a)}}async function hO(i,e,t){const r=Ie(i);try{const a=await function(c,d){const m=Ie(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let y;return m.mutationQueue.lookupMutationBatch(g,d).next(T=>($e(T!==null),y=T.keys(),m.mutationQueue.removeMutationBatch(g,T))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,y,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y)).next(()=>m.localDocuments.getDocuments(g,y))})}(r.localStore,e);Hb(r,e,t),Bb(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Ou(r,a)}catch(a){await Co(a)}}function Bb(i,e){(i.Ga.get(e)||[]).forEach(t=>{t.resolve()}),i.Ga.delete(e)}function Hb(i,e,t){const r=Ie(i);let a=r.Wa[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.Wa[r.currentUser.toKey()]=a}}function Ap(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.qa.get(e))i.ka.delete(r),t&&i.La.Ja(r,t);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(r=>{i.Ka.containsKey(r)||Fb(i,r)})}function Fb(i,e){i.Qa.delete(e.path.canonicalString());const t=i.$a.get(e);t!==null&&(pg(i.remoteStore,t),i.$a=i.$a.remove(e),i.Ua.delete(t),Sg(i))}function NE(i,e,t){for(const r of t)r instanceof kb?(i.Ka.addReference(r.key,e),fO(i,r)):r instanceof Ub?(he(bg,"Document no longer in limbo: "+r.key),i.Ka.removeReference(r.key,e),i.Ka.containsKey(r.key)||Fb(i,r.key)):Se()}function fO(i,e){const t=e.key,r=t.path.canonicalString();i.$a.get(t)||i.Qa.has(r)||(he(bg,"New document in limbo: "+t),i.Qa.add(r),Sg(i))}function Sg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const t=new ye(st.fromString(e)),r=i.za.next();i.Ua.set(r,new tO(t)),i.$a=i.$a.insert(t,r),Ib(i.remoteStore,new Hr(_i(ag(t.path)),r,"TargetPurposeLimboResolution",af.ae))}}async function Ou(i,e,t){const r=Ie(i),a=[],l=[],c=[];r.ka.isEmpty()||(r.ka.forEach((d,m)=>{c.push(r.Ha(m,e,t).then(g=>{var y;if((g||t)&&r.isPrimaryClient){const T=g?!g.fromCache:(y=t==null?void 0:t.targetChanges.get(m.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(m.targetId,T?"current":"not-current")}if(g){a.push(g);const T=dg.Yi(m.targetId,g);l.push(T)}}))}),await Promise.all(c),r.La.p_(a),await async function(m,g){const y=Ie(m);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>ne.forEach(g,A=>ne.forEach(A.Hi,M=>y.persistence.referenceDelegate.addReference(T,A.targetId,M)).next(()=>ne.forEach(A.Ji,M=>y.persistence.referenceDelegate.removeReference(T,A.targetId,M)))))}catch(T){if(!Io(T))throw T;he(mg,"Failed to update sequence numbers: "+T)}for(const T of g){const A=T.targetId;if(!T.fromCache){const M=y.Ts.get(A),x=M.snapshotVersion,U=M.withLastLimboFreeSnapshotVersion(x);y.Ts=y.Ts.insert(A,U)}}}(r.localStore,l))}async function dO(i,e){const t=Ie(i);if(!t.currentUser.isEqual(e)){he(bg,"User change. New user:",e.toKey());const r=await Ab(t.localStore,e);t.currentUser=e,function(l,c){l.Ga.forEach(d=>{d.forEach(m=>{m.reject(new fe(re.CANCELLED,c))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ou(t,r.Rs)}}function mO(i,e){const t=Ie(i),r=t.Ua.get(e);if(r&&r.Ba)return Ue().add(r.key);{let a=Ue();const l=t.qa.get(e);if(!l)return a;for(const c of l){const d=t.ka.get(c);a=a.unionWith(d.view.Sa)}return a}}function qb(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=zb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uO.bind(null,e),e.La.p_=W4.bind(null,e.eventManager),e.La.Ja=J4.bind(null,e.eventManager),e}function pO(i){const e=Ie(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hO.bind(null,e),e}class qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mf(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return _4(this.persistence,new g4,e.initialUser,this.serializer)}Xa(e){return new Sb(fg.ri,this.serializer)}Za(e){return new R4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}qh.provider={build:()=>new qh};class gO extends qh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){$e(this.persistence.referenceDelegate instanceof Hh);const r=this.persistence.referenceDelegate.garbageCollector;return new t4(r,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new Sb(r=>Hh.ri(r,t),this.serializer)}}class wp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=dO.bind(null,this.syncEngine),await Q4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new X4}()}createDatastore(e){const t=mf(e.databaseInfo.databaseId),r=function(l){return new O4(l)}(e.databaseInfo);return function(l,c,d,m){return new V4(l,c,d,m)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,a,l,c,d){return new k4(r,a,l,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>xE(this.syncEngine,t,0),function(){return SE.D()?new SE:new C4}())}createSyncEngine(e,t){return function(a,l,c,d,m,g,y){const T=new nO(a,l,c,d,m,g);return y&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Ie(a);he(Js,"RemoteStore shutting down."),l.W_.add(5),await Nu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}wp.provider={build:()=>new wp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):nr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="FirestoreClient";class yO{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=a,this.user=Zt.UNAUTHENTICATED,this.clientId=V1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async c=>{he(es,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(r,c=>(he(es,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Eg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Km(i,e){i.asyncQueue.verifyOperationInProgress(),he(es,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener(async a=>{r.isEqual(a)||(await Ab(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function OE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await vO(i);he(es,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(r=>wE(e.remoteStore,r)),i.setAppCheckTokenChangeListener((r,a)=>wE(e.remoteStore,a)),i._onlineComponents=e}async function vO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){he(es,"Using user provided OfflineComponentProvider");try{await Km(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===re.FAILED_PRECONDITION||a.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;mo("Error using user provided cache. Falling back to memory cache: "+t),await Km(i,new qh)}}else he(es,"Using default OfflineComponentProvider"),await Km(i,new gO(void 0));return i._offlineComponents}async function Kb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(he(es,"Using user provided OnlineComponentProvider"),await OE(i,i._uninitializedComponentsProvider._online)):(he(es,"Using default OnlineComponentProvider"),await OE(i,new wp))),i._onlineComponents}function _O(i){return Kb(i).then(e=>e.syncEngine)}async function $b(i){const e=await Kb(i),t=e.eventManager;return t.onListen=iO.bind(null,e.syncEngine),t.onUnlisten=aO.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=rO.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=oO.bind(null,e.syncEngine),t}function EO(i,e,t={}){const r=new Ji;return i.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const y=new Gb({next:A=>{y.su(),c.enqueueAndForget(()=>Vb(l,T));const M=A.docs.has(d);!M&&A.fromCache?g.reject(new fe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&A.fromCache&&m&&m.source==="server"?g.reject(new fe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new Lb(ag(d.path),y,{includeMetadataChanges:!0,Ta:!0});return Pb(l,T)}(await $b(i),i.asyncQueue,e,t,r)),r.promise}function TO(i,e,t={}){const r=new Ji;return i.asyncQueue.enqueueAndForget(async()=>function(l,c,d,m,g){const y=new Gb({next:A=>{y.su(),c.enqueueAndForget(()=>Vb(l,T)),A.fromCache&&m.source==="server"?g.reject(new fe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(A)},error:A=>g.reject(A)}),T=new Lb(d,y,{includeMetadataChanges:!0,Ta:!0});return Pb(l,T)}(await $b(i),i.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yb(i,e,t){if(!t)throw new fe(re.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function bO(i,e,t,r){if(e===!0&&r===!0)throw new fe(re.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function ME(i){if(!ye.isDocumentKey(i))throw new fe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function PE(i){if(ye.isDocumentKey(i))throw new fe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function yf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se()}function Zs(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new fe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yf(i);throw new fe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="firestore.googleapis.com",VE=!0;class LE{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Xb,this.ssl=VE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:VE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZN)throw new fe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new fe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vf{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Nx;switch(r.type){case"firstParty":return new Px(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new fe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=DE.get(t);r&&(he("ComponentProvider","Removing Datastore"),DE.delete(t),r.terminate())}(this),Promise.resolve()}}function SO(i,e,t,r={}){var a;const l=(i=Zs(i,vf))._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:i._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==Xb&&l.host!==d&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:r});if(!$s(m,c)&&(i._setSettings(m),r.mockUserToken)){let g,y;if(typeof r.mockUserToken=="string")g=r.mockUserToken,y=Zt.MOCK_USER;else{g=F2(r.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new fe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Zt(T)}i._authCredentials=new Ox(new M1(g,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class dn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class Qr extends No{constructor(e,t,r){super(e,t,ag(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ye(e))}withConverter(e){return new Qr(this.firestore,e,this._path)}}function AO(i,e,...t){if(i=ln(i),Yb("collection","path",e),i instanceof vf){const r=st.fromString(e,...t);return PE(r),new Qr(i,null,r)}{if(!(i instanceof dn||i instanceof Qr))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(st.fromString(e,...t));return PE(r),new Qr(i.firestore,null,r)}}function gu(i,e,...t){if(i=ln(i),arguments.length===1&&(e=V1.newId()),Yb("doc","path",e),i instanceof vf){const r=st.fromString(e,...t);return ME(r),new dn(i,null,new ye(r))}{if(!(i instanceof dn||i instanceof Qr))throw new fe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(st.fromString(e,...t));return ME(r),new dn(i.firestore,i instanceof Qr?i.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE="AsyncQueue";class UE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Rb(this,"async_queue_retry"),this.Su=()=>{const r=Gm();r&&he(kE,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const t=Gm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Gm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Ji;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Io(e))throw e;he(kE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const a=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(r);throw nr("INTERNAL UNHANDLED ERROR: ",a),r}).then(r=>(this.pu=!1,r))));return this.bu=t,t}enqueueAfterDelay(e,t,r){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const a=_g.createAndSchedule(this,e,t,r,l=>this.Fu(l));return this.fu.push(a),a}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}class _f extends vf{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new UE,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new UE(e),this._firestoreClient=void 0,await e}}}function Du(i,e){const t=typeof i=="object"?i:FT(),r=typeof i=="string"?i:Vh,a=qp(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=B2("firestore");l&&SO(a,...l)}return a}function Ag(i){if(i._terminated)throw new fe(re.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||wO(i),i._firestoreClient}function wO(i){var e,t,r;const a=i._freezeSettings(),l=function(d,m,g,y){return new Yx(d,m,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Qb(y.experimentalLongPollingOptions),y.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new yO(i._authCredentials,i._appCheckCredentials,i._queue,l,i._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eo($t.fromBase64String(e))}catch(t){throw new fe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Eo($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new fe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new fe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new fe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=/^__.*__$/;class CO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ra(e,this.data,this.fieldMask,t,this.fieldTransforms):new Iu(e,this.data,t,this.fieldTransforms)}}function Jb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class Ig{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ig(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.$u(e),a}Uu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.ku({path:r,Qu:!1});return a.Bu(),a}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Gh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Jb(this.Lu)&&RO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class IO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||mf(e)}ju(e,t,r,a=!1){return new Ig({Lu:e,methodName:t,zu:r,path:Kt.emptyPath(),Qu:!1,Gu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zb(i){const e=i._freezeSettings(),t=mf(i._databaseId);return new IO(i._databaseId,!!e.ignoreUndefinedProperties,t)}function xO(i,e,t,r,a,l={}){const c=i.ju(l.merge||l.mergeFields?2:0,e,t,a);nS("Data must be an object, but it was:",c,r);const d=eS(r,c);let m,g;if(l.merge)m=new $n(c.fieldMask),g=c.fieldTransforms;else if(l.mergeFields){const y=[];for(const T of l.mergeFields){const A=OO(e,T,t);if(!c.contains(A))throw new fe(re.INVALID_ARGUMENT,`Field '${A}' is specified in your field mask but missing from your input data.`);MO(y,A)||y.push(A)}m=new $n(y),g=c.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,g=c.fieldTransforms;return new CO(new jn(d),m,g)}function NO(i,e,t,r=!1){return xg(t,i.ju(r?4:3,e))}function xg(i,e){if(tS(i=ln(i)))return nS("Unsupported field value:",e,i),eS(i,e);if(i instanceof Wb)return function(r,a){if(!Jb(a.Lu))throw a.Wu(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Wu(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,a){const l=[];let c=0;for(const d of r){let m=xg(d,a.Ku(c));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),c++}return{arrayValue:{values:l}}}(i,e)}return function(r,a){if((r=ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return vN(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Ot.fromDate(r);return{timestampValue:Bh(a.serializer,l)}}if(r instanceof Ot){const l=new Ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Bh(a.serializer,l)}}if(r instanceof Rg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Eo)return{bytesValue:pb(a.serializer,r._byteString)};if(r instanceof dn){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:cg(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof Cg)return function(c,d){return{mapValue:{fields:{[F1]:{stringValue:q1},[Lh]:{arrayValue:{values:c.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return og(d.serializer,g)})}}}}}}(r,a);throw a.Wu(`Unsupported field value: ${yf(r)}`)}(i,e)}function eS(i,e){const t={};return k1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(i,(r,a)=>{const l=xg(a,e.qu(r));l!=null&&(t[r]=l)}),{mapValue:{fields:t}}}function tS(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ot||i instanceof Rg||i instanceof Eo||i instanceof dn||i instanceof Wb||i instanceof Cg)}function nS(i,e,t){if(!tS(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const r=yf(t);throw r==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+r)}}function OO(i,e,t){if((e=ln(e))instanceof wg)return e._internalPath;if(typeof e=="string")return iS(i,e);throw Gh("Field path arguments must be of type string or ",i,!1,void 0,t)}const DO=new RegExp("[~\\*/\\[\\]]");function iS(i,e,t){if(e.search(DO)>=0)throw Gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new wg(...e.split("."))._internalPath}catch{throw Gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Gh(i,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||c)&&(m+=" (found",l&&(m+=` in field ${r}`),c&&(m+=` in document ${a}`),m+=")"),new fe(re.INVALID_ARGUMENT,d+i+m)}function MO(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ng("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class PO extends rS{data(){return super.data()}}function Ng(i,e){return typeof e=="string"?iS(i,e):e instanceof wg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new fe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Og{}class LO extends Og{}function kO(i,e,...t){let r=[];e instanceof Og&&r.push(e),r=r.concat(t),function(l){const c=l.filter(m=>m instanceof Dg).length,d=l.filter(m=>m instanceof Ef).length;if(c>1||c>0&&d>0)throw new fe(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)i=a._apply(i);return i}class Ef extends LO{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Ef(e,t,r)}_apply(e){const t=this._parse(e);return sS(e._query,t),new No(e.firestore,e.converter,pp(e._query,t))}_parse(e){const t=Zb(e.firestore);return function(l,c,d,m,g,y,T){let A;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new fe(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){zE(T,y);const x=[];for(const U of T)x.push(jE(m,l,U));A={arrayValue:{values:x}}}else A=jE(m,l,T)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||zE(T,y),A=NO(d,c,T,y==="in"||y==="not-in");return wt.create(g,y,A)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function UO(i,e,t){const r=e,a=Ng("where",i);return Ef._create(a,r,t)}class Dg extends Og{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Yn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let c=a;const d=l.getFlattenedFilters();for(const m of d)sS(c,m),c=pp(c,m)}(e._query,t),new No(e.firestore,e.converter,pp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function jE(i,e,t){if(typeof(t=ln(t))=="string"){if(t==="")throw new fe(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J1(e)&&t.indexOf("/")!==-1)throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(st.fromString(t));if(!ye.isDocumentKey(r))throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tE(i,new ye(r))}if(t instanceof dn)return tE(i,t._key);throw new fe(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yf(t)}.`)}function zE(i,e){if(!Array.isArray(i)||i.length===0)throw new fe(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sS(i,e){const t=function(a,l){for(const c of a)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new fe(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class jO{convertValue(e,t="none"){switch(Jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return na(e,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertVectorValue(e){var t,r,a;const l=(a=(r=(t=e.fields)===null||t===void 0?void 0:t[Lh].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(c=>gt(c.doubleValue));return new Cg(l)}convertGeoPoint(e){return new Rg(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=lf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const t=Xr(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=st.fromString(e);$e(Tb(r));const a=new fu(r.get(1),r.get(3)),l=new ye(r.popFirst(5));return a.isEqual(t)||nr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(i,e,t){let r;return r=i?i.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class aS extends rS{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Ng("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Th extends aS{data(e={}){return super.data(e)}}class BO{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Jl(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Th(this._firestore,this._userDataWriter,r.key,r,new Jl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new fe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map(d=>{const m=new Th(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Jl(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}})}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Th(a._firestore,a._userDataWriter,d.doc.key,d.doc,new Jl(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return d.type!==0&&(g=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),y=c.indexOf(d.doc.key)),{type:HO(d.type),doc:m,oldIndex:g,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function HO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(i){i=Zs(i,dn);const e=Zs(i.firestore,_f);return EO(Ag(e),i._key).then(t=>GO(e,i,t))}class oS extends jO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,t)}}function FO(i){i=Zs(i,No);const e=Zs(i.firestore,_f),t=Ag(e),r=new oS(e);return VO(i._query),TO(t,i._query).then(a=>new BO(e,r,i,a))}function lS(i,e,t){i=Zs(i,dn);const r=Zs(i.firestore,_f),a=zO(i.converter,e);return qO(r,[xO(Zb(r),"setDoc",i._key,a,i.converter!==null,t).toMutation(i._key,Zi.none())])}function qO(i,e){return function(r,a){const l=new Ji;return r.asyncQueue.enqueueAndForget(async()=>lO(await _O(r),a,l)),l.promise}(Ag(i),e)}function GO(i,e,t){const r=t.docs.get(e._key),a=new oS(i);return new aS(i,a,e._key,r,new Jl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(a){Ro=a})(So),fo(new Qs("firestore",(r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),d=new _f(new Dx(r.getProvider("auth-internal")),new Vx(c,r.getProvider("app-check-internal")),function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new fe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(g.options.projectId,y)}(c,a),c);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),Kr(F0,q0,e),Kr(F0,q0,"esm2017")})();var uS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},BE=Xi.createContext&&Xi.createContext(uS),KO=["attr","size","title"];function $O(i,e){if(i==null)return{};var t=QO(i,e),r,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);for(a=0;a<l.length;a++)r=l[a],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(t[r]=i[r])}return t}function QO(i,e){if(i==null)return{};var t={};for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){if(e.indexOf(r)>=0)continue;t[r]=i[r]}return t}function Kh(){return Kh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Kh.apply(this,arguments)}function HE(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(i,a).enumerable})),t.push.apply(t,r)}return t}function $h(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(t),!0).forEach(function(r){YO(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):HE(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}function YO(i,e,t){return e=XO(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function XO(i){var e=WO(i,"string");return typeof e=="symbol"?e:e+""}function WO(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function cS(i){return i&&i.map((e,t)=>Xi.createElement(e.tag,$h({key:t},e.attr),cS(e.child)))}function _t(i){return e=>Xi.createElement(JO,Kh({attr:$h({},i.attr)},e),cS(i.child))}function JO(i){var e=t=>{var{attr:r,size:a,title:l}=i,c=$O(i,KO),d=a||t.size||"1em",m;return t.className&&(m=t.className),i.className&&(m=(m?m+" ":"")+i.className),Xi.createElement("svg",Kh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,c,{className:m,style:$h($h({color:i.color||t.color},t.style),i.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Xi.createElement("title",null,l),i.children)};return BE!==void 0?Xi.createElement(BE.Consumer,null,t=>e(t)):e(uS)}function ZO(i){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"},child:[]}]})(i)}function eD(i){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(i)}function hS(i){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(i)}function tD(i){return _t({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496 256c8.8 0 16-7.2 16-16s-7.2-16-16-16-16 7.2-16 16 7.2 16 16 16zm-176-80c48.5 0 88-39.5 88-88S368.5 0 320 0s-88 39.5-88 88 39.5 88 88 88zM59.8 364c10.2 15.3 29.3 17.8 42.9 9.8 16.2-9.6 56.2-31.7 105.3-48.6V416h224v-90.7c49.1 16.8 89.1 39 105.3 48.6 13.6 8 32.7 5.3 42.9-9.8l17.8-26.7c8.8-13.2 7.6-34.6-10-45.1-11.9-7.1-29.7-17-51.1-27.4-28.1 46.1-99.4 17.8-87.7-35.1C409.3 217.2 365.1 208 320 208c-57 0-112.9 14.5-160 32.2-.2 40.2-47.6 63.3-79.2 36-11.2 6-21.3 11.6-28.7 16-17.6 10.5-18.8 31.8-10 45.1L59.8 364zM368 344c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm-96-96c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm-160 8c8.8 0 16-7.2 16-16s-7.2-16-16-16-16 7.2-16 16 7.2 16 16 16zm512 192H16c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h608c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16z"},child:[]}]})(i)}function ql(i){return _t({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(i)}function nD(i){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(i)}function oo(i){return _t({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M377 105L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-153 31V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 160v48c0 4.4-3.6 8-8 8h-56v56c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8v-56h-56c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h56v-56c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v56h56c4.4 0 8 3.6 8 8z"},child:[]}]})(i)}function iD(i){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M320.2 243.8l-49.7 99.4c-6 12.1-23.4 11.7-28.9-.6l-56.9-126.3-30 71.7H60.6l182.5 186.5c7.1 7.3 18.6 7.3 25.7 0L451.4 288H342.3l-22.1-44.2zM473.7 73.9l-2.4-2.5c-51.5-52.6-135.8-52.6-187.4 0L256 100l-27.9-28.5c-51.5-52.7-135.9-52.7-187.4 0l-2.4 2.4C-10.4 123.7-12.5 203 31 256h102.4l35.9-86.2c5.4-12.9 23.6-13.2 29.4-.4l58.2 129.3 49-97.9c5.9-11.8 22.7-11.8 28.6 0l27.6 55.2H481c43.5-53 41.4-132.3-7.3-182.1z"},child:[]}]})(i)}function FE(i){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(i)}function rD(i){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(i)}function Rp(i){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(i)}function sD(i){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(i)}function Pg(i){return _t({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(i)}function aD(i){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 448h-84c-6.6 0-12-5.4-12-12v-40c0-6.6 5.4-12 12-12h84c17.7 0 32-14.3 32-32V160c0-17.7-14.3-32-32-32h-84c-6.6 0-12-5.4-12-12V76c0-6.6 5.4-12 12-12h84c53 0 96 43 96 96v192c0 53-43 96-96 96zm-47-201L201 79c-15-15-41-4.5-41 17v96H24c-13.3 0-24 10.7-24 24v96c0 13.3 10.7 24 24 24h136v96c0 21.5 26 32 41 17l168-168c9.3-9.4 9.3-24.6 0-34z"},child:[]}]})(i)}function oD(i){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(i)}function lD(i){return _t({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M447.1 112c-34.2.5-62.3 28.4-63 62.6-.5 24.3 12.5 45.6 32 56.8V344c0 57.3-50.2 104-112 104-60 0-109.2-44.1-111.9-99.2C265 333.8 320 269.2 320 192V36.6c0-11.4-8.1-21.3-19.3-23.5L237.8.5c-13-2.6-25.6 5.8-28.2 18.8L206.4 35c-2.6 13 5.8 25.6 18.8 28.2l30.7 6.1v121.4c0 52.9-42.2 96.7-95.1 97.2-53.4.5-96.9-42.7-96.9-96V69.4l30.7-6.1c13-2.6 21.4-15.2 18.8-28.2l-3.1-15.7C107.7 6.4 95.1-2 82.1.6L19.3 13C8.1 15.3 0 25.1 0 36.6V192c0 77.3 55.1 142 128.1 156.8C130.7 439.2 208.6 512 304 512c97 0 176-75.4 176-168V231.4c19.1-11.1 32-31.7 32-55.4 0-35.7-29.2-64.5-64.9-64zm.9 80c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16z"},child:[]}]})(i)}function uD(i){return _t({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(i)}function cD(i){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(i)}function hD(i){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zM104 424c0 13.3 10.7 24 24 24s24-10.7 24-24-10.7-24-24-24-24 10.7-24 24zm216-135.4v49c36.5 7.4 64 39.8 64 78.4v41.7c0 7.6-5.4 14.2-12.9 15.7l-32.2 6.4c-4.3.9-8.5-1.9-9.4-6.3l-3.1-15.7c-.9-4.3 1.9-8.6 6.3-9.4l19.3-3.9V416c0-62.8-96-65.1-96 1.9v26.7l19.3 3.9c4.3.9 7.1 5.1 6.3 9.4l-3.1 15.7c-.9 4.3-5.1 7.1-9.4 6.3l-31.2-4.2c-7.9-1.1-13.8-7.8-13.8-15.9V416c0-38.6 27.5-70.9 64-78.4v-45.2c-2.2.7-4.4 1.1-6.6 1.9-18 6.3-37.3 9.8-57.4 9.8s-39.4-3.5-57.4-9.8c-7.4-2.6-14.9-4.2-22.6-5.2v81.6c23.1 6.9 40 28.1 40 53.4 0 30.9-25.1 56-56 56s-56-25.1-56-56c0-25.3 16.9-46.5 40-53.4v-80.4C48.5 301 0 355.8 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-72-56.8-130.3-128-133.8z"},child:[]}]})(i)}function fD(i){return _t({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(i)}function fS(i){return _t({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(i)}const dD=()=>{const[i,e]=ee.useState(""),[t,r]=ee.useState(""),[a,l]=ee.useState(""),[c,d]=ee.useState(""),[m,g]=ee.useState(!1),[y,T]=ee.useState(!1),A=Eu(),M=wo(),x=Du(),U=async C=>{C.preventDefault(),d(""),g(!0);try{if(y){if(t!==a)throw new Error("Passwords do not match");const q=await hI(M,i,t);await lS(gu(x,"medicalForms",q.user.uid),{email:i,createdAt:new Date().toISOString()})}else await fI(M,i,t);A("/dashboard")}catch(q){d(q.message)}finally{g(!1)}};return b.jsx("div",{className:"login-container",children:b.jsxs("div",{className:"login-card",children:[b.jsxs("div",{className:"login-header",children:[b.jsx("h1",{children:y?"Create Account":"Welcome Back"}),b.jsx("p",{children:y?"Sign up to get started":"Sign in to continue"})]}),b.jsxs("form",{onSubmit:U,className:"login-form",children:[b.jsxs("div",{className:"form-group",children:[b.jsx(nD,{className:"input-icon"}),b.jsx("input",{type:"email",placeholder:"Email",value:i,onChange:C=>e(C.target.value),required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx(FE,{className:"input-icon"}),b.jsx("input",{type:"password",placeholder:"Password",value:t,onChange:C=>r(C.target.value),required:!0})]}),y&&b.jsxs("div",{className:"form-group",children:[b.jsx(FE,{className:"input-icon"}),b.jsx("input",{type:"password",placeholder:"Confirm Password",value:a,onChange:C=>l(C.target.value),required:!0})]}),c&&b.jsx("div",{className:"error-message",children:c}),b.jsx("button",{type:"submit",className:"login-button",disabled:m,children:m?b.jsx("div",{className:"loading-spinner"}):b.jsx(b.Fragment,{children:y?b.jsxs(b.Fragment,{children:[b.jsx(fD,{className:"button-icon"}),"Sign Up"]}):b.jsxs(b.Fragment,{children:[b.jsx(aD,{className:"button-icon"}),"Sign In"]})})})]}),b.jsx("div",{className:"toggle-form",children:b.jsxs("p",{children:[y?"Already have an account?":"Don't have an account?",b.jsx("button",{type:"button",className:"toggle-button",onClick:()=>T(!y),children:y?"Sign In":"Sign Up"})]})})]})})},mD="AIzaSyCv3ABBvO7ctHCecXev_S3YRCZUjVzJc2k",dS=({isOpen:i,onClose:e})=>{const[t,r]=ee.useState([{text:"Hello! I'm Sushruta, your AI health assistant. How can I help you today?, Please ask about your health issues and use words like disesases, symptoms, treatments, etc.,",sender:"bot"}]),[a,l]=ee.useState(""),[c,d]=ee.useState(!1),[m,g]=ee.useState(null),y=ee.useRef(null),T=()=>{var M;(M=y.current)==null||M.scrollIntoView({behavior:"smooth"})};ee.useEffect(()=>{T()},[t]);const A=async M=>{var x,U,C,q,X,W;if(M.preventDefault(),!(!a.trim()||c)){r(ae=>[...ae,{text:a,sender:"user"}]),l(""),d(!0),g(null);try{console.log("Sending request to Gemini API...");const ae=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${mD}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`You are Sushruta, a specialized AI health assistant. Your role is to provide healthcare-related information only. 
                If the user's question is not related to healthcare, politely inform them that you can only discuss health-related topics.
                For healthcare questions:
                - Provide general health information and guidance
                - Remind users to consult healthcare professionals for specific medical advice
                - Focus on preventive care, symptoms, and general wellness
                - Avoid providing specific medical diagnoses or treatment plans
                
                If the question is not healthcare-related, respond with: "I'm sorry, but I can only provide information related to healthcare and wellness. Please ask me about health-related topics."
                
                User's question: ${a}`}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:1024,stopSequences:[]},safetySettings:[{category:"HARM_CATEGORY_HARASSMENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_HATE_SPEECH",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_SEXUALLY_EXPLICIT",threshold:"BLOCK_MEDIUM_AND_ABOVE"},{category:"HARM_CATEGORY_DANGEROUS_CONTENT",threshold:"BLOCK_MEDIUM_AND_ABOVE"}]})});if(console.log("Response status:",ae.status),!ae.ok){const D=await ae.json();throw new Error(`API request failed: ${((x=D.error)==null?void 0:x.message)||ae.statusText}`)}const oe=await ae.json();if(!((W=(X=(q=(C=(U=oe.candidates)==null?void 0:U[0])==null?void 0:C.content)==null?void 0:q.parts)==null?void 0:X[0])!=null&&W.text))throw new Error("Invalid response format from API");const pe=oe.candidates[0].content.parts[0].text;r(D=>[...D,{text:pe,sender:"bot"}])}catch(ae){console.error("Detailed error:",ae),g(ae.message),r(oe=>[...oe,{text:`I apologize, but I'm having trouble connecting right now. Error: ${ae.message}. Please try again later or consult with your healthcare provider.`,sender:"bot"}])}finally{d(!1)}}};return i?b.jsxs("div",{className:"chatbot-container",children:[b.jsxs("div",{className:"chatbot-header",children:[b.jsxs("div",{className:"chatbot-title",children:[b.jsx(Pg,{className:"chatbot-icon"}),b.jsx("h3",{children:"Sushruta AI Assistant"})]}),b.jsx("button",{className:"close-button",onClick:e,children:b.jsx(uD,{})})]}),b.jsxs("div",{className:"chatbot-messages",children:[t.map((M,x)=>b.jsx("div",{className:`message ${M.sender==="user"?"user-message":"bot-message"}`,children:M.text},x)),c&&b.jsxs("div",{className:"typing-indicator",children:[b.jsx("span",{}),b.jsx("span",{}),b.jsx("span",{})]}),m&&b.jsx("div",{className:"error-message",children:m}),b.jsx("div",{ref:y})]}),b.jsxs("form",{className:"chatbot-input",onSubmit:A,children:[b.jsx("input",{type:"text",value:a,onChange:M=>l(M.target.value),placeholder:"Type your message...",className:"message-input",disabled:c}),b.jsx("button",{type:"submit",className:"send-button",disabled:c||!a.trim(),children:b.jsx(rD,{})})]})]}):null},pD=()=>{var T,A,M,x;const[i,e]=ee.useState(null),[t,r]=ee.useState(!0),a=Eu(),l=wo(),c=Du(),[d,m]=ee.useState(!1);ee.useEffect(()=>{(async()=>{try{const C=l.currentUser;if(!C)return;const q=await Mg(gu(c,"medicalForms",C.uid));q.exists()&&e(q.data())}catch(C){console.error("Error fetching user data:",C)}finally{r(!1)}})()},[l.currentUser,c]);const g=async()=>{try{await gI(l),a("/")}catch(U){console.error("Error signing out:",U)}},y=()=>{a("/medical-form")};return t?b.jsx("div",{className:"loading-container",children:b.jsx("div",{className:"spinner"})}):b.jsxs("div",{className:"dashboard-container",children:[b.jsxs("aside",{className:"sidebar",children:[b.jsx("div",{className:"sidebar-header",children:b.jsxs("h1",{className:"sidebar-title",children:[b.jsx("span",{children:"AA"}),"ROGYA"]})}),b.jsxs("nav",{className:"sidebar-nav",children:[b.jsxs(Lr,{to:"/",className:"nav-link active",children:[b.jsx(hS,{className:"nav-icon"}),"Dashboard"]}),b.jsxs(Lr,{to:"/medical-form",className:"nav-link",children:[b.jsx(oo,{className:"nav-icon"}),"Medical Info"]}),b.jsxs(Lr,{to:"/bmi-calculator",className:"nav-link",children:[b.jsx(ZO,{className:"nav-icon"}),"BMI Calculator"]}),b.jsxs(Lr,{to:"/emergency-contacts",className:"nav-link",children:[b.jsx(Rp,{className:"nav-icon"}),"Emergency Contacts"]}),b.jsxs(Lr,{to:"/disease-predictor",className:"nav-link",children:[b.jsx(tD,{className:"nav-icon"}),"Disease Predictor"]})]}),b.jsxs("button",{onClick:g,className:"logout-button",children:[b.jsx(oD,{className:"nav-icon"}),"Logout"]})]}),b.jsxs("main",{className:"main-content",children:[b.jsxs("header",{className:"dashboard-header",children:[b.jsxs("div",{className:"welcome-section",children:[b.jsxs("h2",{className:"welcome-text",children:["Welcome back, ",((A=(T=l.currentUser)==null?void 0:T.email)==null?void 0:A.split("@")[0])||"User"," "]}),b.jsx("div",{className:"date-text",children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),b.jsxs("div",{className:"profile-section",children:[b.jsx("div",{className:"profile-image",children:b.jsx(fS,{className:"profile-icon"})}),b.jsxs("div",{className:"profile-info",children:[b.jsx("div",{className:"profile-name",children:((M=l.currentUser)==null?void 0:M.displayName)||"User"}),b.jsx("div",{className:"profile-email",children:(x=l.currentUser)==null?void 0:x.email})]})]})]}),b.jsxs("button",{className:"dashboard-chatbot-toggle",onClick:()=>m(!d),children:[b.jsx(Pg,{}),b.jsx("span",{children:"Ask Sushruta"})]}),b.jsx(dS,{isOpen:d,onClose:()=>m(!1)}),b.jsxs("section",{className:"stats-grid",children:[b.jsxs("div",{className:"stat-card age",children:[b.jsxs("div",{className:"info-header",children:[b.jsx("h3",{children:"Age"}),b.jsx("button",{className:"edit-button",onClick:y,children:b.jsx(ql,{})})]}),b.jsxs("div",{className:"info-content",children:[b.jsx("h2",{children:(i==null?void 0:i.age)||"Not set"}),b.jsx("p",{children:"Last updated: Recently"})]})]}),b.jsxs("div",{className:"stat-card blood",children:[b.jsxs("div",{className:"info-header",children:[b.jsx("h3",{children:"Blood Group"}),b.jsx("button",{className:"edit-button",onClick:y,children:b.jsx(ql,{})})]}),b.jsxs("div",{className:"info-content",children:[b.jsx("h2",{children:(i==null?void 0:i.bloodGroup)||"Not set"}),b.jsx("p",{children:"Vital information"})]})]}),b.jsxs("div",{className:"stat-card health",children:[b.jsxs("div",{className:"info-header",children:[b.jsx("h3",{children:"Medical History"}),b.jsx("button",{className:"edit-button",onClick:y,children:b.jsx(ql,{})})]}),b.jsx("div",{className:"info-content",children:b.jsx("p",{children:(i==null?void 0:i.medicalHistory)||"No medical history recorded"})})]}),b.jsxs("div",{className:"stat-card health",children:[b.jsxs("div",{className:"info-header",children:[b.jsx("h3",{children:"Current Medications"}),b.jsx("button",{className:"edit-button",onClick:y,children:b.jsx(ql,{})})]}),b.jsx("div",{className:"info-content",children:b.jsx("p",{children:(i==null?void 0:i.medications)||"No medications recorded"})})]})]}),b.jsxs("section",{className:"medical-info-section",children:[b.jsxs("div",{className:"section-header",children:[b.jsxs("h2",{className:"section-title",children:[b.jsx(oo,{className:"section-icon"}),"Your Medical Info"]}),b.jsxs("button",{onClick:y,className:"edit-button",children:[b.jsx(ql,{}),"Update Information"]})]}),b.jsxs("div",{className:"info-grid",children:[b.jsxs("div",{className:"info-card",children:[b.jsx("h3",{className:"info-label",children:"Allergies"}),b.jsx("p",{className:"info-value",children:(i==null?void 0:i.allergies)||"None reported"})]}),b.jsxs("div",{className:"info-card",children:[b.jsx("h3",{className:"info-label",children:"Existing Conditions"}),b.jsx("p",{className:"info-value",children:(i==null?void 0:i.existingConditions)||"None reported"})]}),b.jsxs("div",{className:"info-card",children:[b.jsx("h3",{className:"info-label",children:"Gender"}),b.jsx("p",{className:"info-value",children:(i==null?void 0:i.gender)||"Not specified"})]}),b.jsxs("div",{className:"info-card",children:[b.jsx("h3",{className:"info-label",children:"Last Updated"}),b.jsx("p",{className:"info-value",children:new Date().toLocaleDateString()})]})]})]})]})]})},gD=()=>{const[i,e]=ee.useState({age:"",bloodGroup:"",gender:"",medicalHistory:"",allergies:"",medications:"",existingConditions:"",lastUpdated:new Date().toISOString(),familyMembers:[]}),[t,r]=ee.useState({name:"",relationship:"",phone:"",email:"",address:""}),[a,l]=ee.useState(!0),[c,d]=ee.useState(""),m=Eu(),g=wo(),y=Du();ee.useEffect(()=>{(async()=>{try{const q=g.currentUser;if(!q){d("Please log in to access the medical form"),l(!1);return}const X=gu(y,"medicalForms",q.uid),W=await Mg(X);if(W.exists()){const ae=W.data();e({...ae,familyMembers:Array.isArray(ae.familyMembers)?ae.familyMembers:[]})}}catch(q){console.error("Error fetching medical data:",q),d("Failed to load medical data. Please try again later.")}finally{l(!1)}})()},[g.currentUser,y]);const T=C=>{const{name:q,value:X}=C.target;e(W=>({...W,[q]:X,lastUpdated:new Date().toISOString()}))},A=C=>{const{name:q,value:X}=C.target;r(W=>({...W,[q]:X}))},M=()=>{if(!t.name||!t.phone){d("Name and phone number are required for family members");return}e(C=>({...C,familyMembers:[...C.familyMembers||[],t]})),r({name:"",relationship:"",phone:"",email:"",address:""})},x=C=>{e(q=>({...q,familyMembers:(q.familyMembers||[]).filter((X,W)=>W!==C)}))},U=async C=>{C.preventDefault(),d(""),l(!0);try{const q=g.currentUser;if(!q)throw new Error("No authenticated user found");await lS(gu(y,"medicalForms",q.uid),i),m("/dashboard")}catch(q){console.error("Error saving medical data:",q),d("Failed to save medical data. Please try again later.")}finally{l(!1)}};return a?b.jsx("div",{className:"loading-container",children:b.jsx("div",{className:"spinner"})}):b.jsx("div",{className:"medical-form-container",children:b.jsxs("div",{className:"medical-form-card",children:[b.jsxs("div",{className:"medical-form-header",children:[b.jsx("h1",{className:"medical-form-title",children:"Medical Information"}),b.jsx("p",{className:"medical-form-subtitle",children:"Please fill in your medical details"})]}),b.jsxs("form",{className:"medical-form",onSubmit:U,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Age"}),b.jsxs("div",{className:"input-wrapper",children:[b.jsx(eD,{className:"input-icon"}),b.jsx("input",{type:"number",name:"age",className:"form-input",placeholder:"Enter your age",value:i.age,onChange:T,required:!0,min:"0",max:"120"})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Blood Group"}),b.jsxs("div",{className:"input-wrapper",children:[b.jsx(oo,{className:"input-icon"}),b.jsxs("select",{name:"bloodGroup",className:"form-input",value:i.bloodGroup,onChange:T,required:!0,children:[b.jsx("option",{value:"",children:"Select Blood Group"}),b.jsx("option",{value:"A+",children:"A+"}),b.jsx("option",{value:"A-",children:"A-"}),b.jsx("option",{value:"B+",children:"B+"}),b.jsx("option",{value:"B-",children:"B-"}),b.jsx("option",{value:"AB+",children:"AB+"}),b.jsx("option",{value:"AB-",children:"AB-"}),b.jsx("option",{value:"O+",children:"O+"}),b.jsx("option",{value:"O-",children:"O-"})]})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Gender"}),b.jsxs("div",{className:"input-wrapper",children:[b.jsx(fS,{className:"input-icon"}),b.jsxs("select",{name:"gender",className:"form-input",value:i.gender,onChange:T,required:!0,children:[b.jsx("option",{value:"",children:"Select Gender"}),b.jsx("option",{value:"Male",children:"Male"}),b.jsx("option",{value:"Female",children:"Female"}),b.jsx("option",{value:"Other",children:"Other"})]})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Medical History"}),b.jsxs("div",{className:"input-wrapper",children:[b.jsx(lD,{className:"input-icon"}),b.jsx("textarea",{name:"medicalHistory",className:"form-input form-textarea",placeholder:"Enter your medical history",value:i.medicalHistory,onChange:T})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Allergies"}),b.jsxs("div",{className:"input-wrapper",children:[b.jsx(oo,{className:"input-icon"}),b.jsx("textarea",{name:"allergies",className:"form-input form-textarea",placeholder:"List any allergies",value:i.allergies,onChange:T})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Current Medications"}),b.jsxs("div",{className:"input-wrapper",children:[b.jsx(oo,{className:"input-icon"}),b.jsx("textarea",{name:"medications",className:"form-input form-textarea",placeholder:"List current medications",value:i.medications,onChange:T})]})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Existing Conditions"}),b.jsxs("div",{className:"input-wrapper",children:[b.jsx(oo,{className:"input-icon"}),b.jsx("textarea",{name:"existingConditions",className:"form-input form-textarea",placeholder:"List any existing conditions",value:i.existingConditions,onChange:T})]})]}),b.jsxs("div",{className:"family-members-section",children:[b.jsx("h2",{children:"Family Members"}),b.jsxs("div",{className:"add-family-member",children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Name"}),b.jsx("input",{type:"text",name:"name",value:t.name,onChange:A,className:"form-input",placeholder:"Enter name"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Relationship"}),b.jsx("input",{type:"text",name:"relationship",value:t.relationship,onChange:A,className:"form-input",placeholder:"Enter relationship"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Phone"}),b.jsx("input",{type:"tel",name:"phone",value:t.phone,onChange:A,className:"form-input",placeholder:"Enter phone number"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Email"}),b.jsx("input",{type:"email",name:"email",value:t.email,onChange:A,className:"form-input",placeholder:"Enter email"})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{className:"form-label",children:"Address"}),b.jsx("input",{type:"text",name:"address",value:t.address,onChange:A,className:"form-input",placeholder:"Enter address"})]}),b.jsxs("button",{type:"button",className:"add-member-button",onClick:M,children:[b.jsx(sD,{})," Add Member"]})]}),b.jsx("div",{className:"family-members-list",children:(i.familyMembers||[]).map((C,q)=>b.jsxs("div",{className:"family-member-card",children:[b.jsxs("div",{className:"member-info",children:[b.jsx("h3",{children:C.name}),b.jsx("p",{children:C.relationship}),b.jsx("p",{children:C.phone}),b.jsx("p",{children:C.email}),b.jsx("p",{children:C.address})]}),b.jsx("button",{type:"button",className:"remove-member-button",onClick:()=>x(q),children:b.jsx(cD,{})})]},q))})]}),c&&b.jsx("div",{className:"error-message",children:c}),b.jsxs("div",{className:"form-actions",children:[b.jsx("button",{type:"button",className:"cancel-button",onClick:()=>m("/dashboard"),children:"Cancel"}),b.jsx("button",{type:"submit",className:"submit-button",disabled:a,children:a?"Saving...":"Save Medical Information"})]})]})]})})},yD=()=>{const[i,e]=ee.useState(""),[t,r]=ee.useState(""),[a,l]=ee.useState(null),[c,d]=ee.useState(""),m=g=>{if(g.preventDefault(),i&&t){const y=i/100,T=(t/(y*y)).toFixed(1);l(T),T<18.5?d("Underweight"):T>=18.5&&T<25?d("Normal weight"):T>=25&&T<30?d("Overweight"):d("Obese")}};return b.jsx("div",{className:"bmi-container",children:b.jsxs("div",{className:"bmi-card",children:[b.jsx("h2",{children:"BMI Calculator"}),b.jsxs("form",{className:"bmi-form",onSubmit:m,children:[b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"height",children:"Height (cm)"}),b.jsx("input",{type:"number",id:"height",value:i,onChange:g=>e(g.target.value),placeholder:"Enter your height",required:!0})]}),b.jsxs("div",{className:"form-group",children:[b.jsx("label",{htmlFor:"weight",children:"Weight (kg)"}),b.jsx("input",{type:"number",id:"weight",value:t,onChange:g=>r(g.target.value),placeholder:"Enter your weight",required:!0})]}),b.jsx("button",{type:"submit",className:"calculate-btn",children:"Calculate BMI"})]}),a&&b.jsxs("div",{className:"result-section",children:[b.jsx("h3",{children:"Your Results"}),b.jsxs("div",{className:"bmi-result",children:[b.jsxs("p",{children:["Your BMI is: ",b.jsx("span",{className:"bmi-value",children:a})]}),b.jsxs("p",{children:["You are: ",b.jsx("span",{className:"bmi-category",children:c})]})]}),b.jsxs("div",{className:"bmi-scale",children:[b.jsxs("div",{className:"scale-item underweight",children:[b.jsx("p",{children:"Underweight"}),b.jsx("small",{children:"< 18.5"})]}),b.jsxs("div",{className:"scale-item normal",children:[b.jsx("p",{children:"Normal"}),b.jsx("small",{children:"18.5 - 24.9"})]}),b.jsxs("div",{className:"scale-item overweight",children:[b.jsx("p",{children:"Overweight"}),b.jsx("small",{children:"25 - 29.9"})]}),b.jsxs("div",{className:"scale-item obese",children:[b.jsx("p",{children:"Obese"}),b.jsx("small",{children:" 30"})]})]})]})]})})},vD=(i,e,t,r)=>{var l,c,d,m;const a=[t,{code:e,...r||{}}];if((c=(l=i==null?void 0:i.services)==null?void 0:l.logger)!=null&&c.forward)return i.services.logger.forward(a,"warn","react-i18next::",!0);Gs(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),(m=(d=i==null?void 0:i.services)==null?void 0:d.logger)!=null&&m.warn?i.services.logger.warn(...a):console!=null&&console.warn&&console.warn(...a)},qE={},Cp=(i,e,t,r)=>{Gs(t)&&qE[t]||(Gs(t)&&(qE[t]=new Date),vD(i,e,t,r))},mS=(i,e)=>()=>{if(i.isInitialized)e();else{const t=()=>{setTimeout(()=>{i.off("initialized",t)},0),e()};i.on("initialized",t)}},Ip=(i,e,t)=>{i.loadNamespaces(e,mS(i,t))},GE=(i,e,t,r)=>{if(Gs(t)&&(t=[t]),i.options.preload&&i.options.preload.indexOf(e)>-1)return Ip(i,t,r);t.forEach(a=>{i.options.ns.indexOf(a)<0&&i.options.ns.push(a)}),i.loadLanguages(e,mS(i,r))},_D=(i,e,t={})=>!e.languages||!e.languages.length?(Cp(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(i,{lng:t.lng,precheck:(r,a)=>{var l;if(((l=t.bindI18n)==null?void 0:l.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!a(r.isLanguageChangingTo,i))return!1}}),Gs=i=>typeof i=="string",ED=i=>typeof i=="object"&&i!==null,TD=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,bD={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},SD=i=>bD[i],AD=i=>i.replace(TD,SD);let xp={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:AD};const wD=(i={})=>{xp={...xp,...i}},RD=()=>xp;let pS;const CD=i=>{pS=i},ID=()=>pS,xD={type:"3rdParty",init(i){wD(i.options.react),CD(i)}},gS=ee.createContext();class ND{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const OD=(i,e)=>{const t=ee.useRef();return ee.useEffect(()=>{t.current=i},[i,e]),t.current},yS=(i,e,t,r)=>i.getFixedT(e,t,r),DD=(i,e,t,r)=>ee.useCallback(yS(i,e,t,r),[i,e,t,r]),Vg=(i,e={})=>{var ae,oe,pe,D;const{i18n:t}=e,{i18n:r,defaultNS:a}=ee.useContext(gS)||{},l=t||r||ID();if(l&&!l.reportNamespaces&&(l.reportNamespaces=new ND),!l){Cp(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const R=(V,L)=>Gs(L)?L:ED(L)&&Gs(L.defaultValue)?L.defaultValue:Array.isArray(V)?V[V.length-1]:V,I=[R,{},!1];return I.t=R,I.i18n={},I.ready=!1,I}(ae=l.options.react)!=null&&ae.wait&&Cp(l,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const c={...RD(),...l.options.react,...e},{useSuspense:d,keyPrefix:m}=c;let g=a||((oe=l.options)==null?void 0:oe.defaultNS);g=Gs(g)?[g]:g||["translation"],(D=(pe=l.reportNamespaces).addUsedNamespaces)==null||D.call(pe,g);const y=(l.isInitialized||l.initializedStoreOnce)&&g.every(R=>_D(R,l,c)),T=DD(l,e.lng||null,c.nsMode==="fallback"?g:g[0],m),A=()=>T,M=()=>yS(l,e.lng||null,c.nsMode==="fallback"?g:g[0],m),[x,U]=ee.useState(A);let C=g.join();e.lng&&(C=`${e.lng}${C}`);const q=OD(C),X=ee.useRef(!0);ee.useEffect(()=>{const{bindI18n:R,bindI18nStore:I}=c;X.current=!0,!y&&!d&&(e.lng?GE(l,e.lng,g,()=>{X.current&&U(M)}):Ip(l,g,()=>{X.current&&U(M)})),y&&q&&q!==C&&X.current&&U(M);const V=()=>{X.current&&U(M)};return R&&(l==null||l.on(R,V)),I&&(l==null||l.store.on(I,V)),()=>{X.current=!1,l&&(R==null||R.split(" ").forEach(L=>l.off(L,V))),I&&l&&I.split(" ").forEach(L=>l.store.off(L,V))}},[l,C]),ee.useEffect(()=>{X.current&&y&&U(A)},[l,m,y]);const W=[x,l,y];if(W.t=x,W.i18n=l,W.ready=y,y||!y&&!d)return W;throw new Promise(R=>{e.lng?GE(l,e.lng,g,()=>R()):Ip(l,g,()=>R())})};function MD({i18n:i,defaultNS:e,children:t}){const r=ee.useMemo(()=>({i18n:i,defaultNS:e}),[i,e]);return ee.createElement(gS.Provider,{value:r},t)}const PD=()=>{const[i,e]=ee.useState([]),[t,r]=ee.useState(!0),[a,l]=ee.useState(""),c=wo(),d=Du(),{t:m}=Vg(),g=[{name:"Dr. Ganesh Prabhakar",specialty:"General Physician",phone:"+91 9822000000",email:"dr.ganesh@example.com",address:"123 Medical Center, Health Street, City"},{name:"Dr. Shambhavi Kulkarni",specialty:"Cardiologist",phone:"+91 9822000000",email:"dr.shambhavi@example.com",address:"456 Heart Clinic, Wellness Avenue, City"}],y=T=>{window.location.href=`tel:${T}`};return ee.useEffect(()=>{(async()=>{try{const A=c.currentUser;if(!A)return;const M=gu(d,"medicalForms",A.uid),x=await Mg(M);if(x.exists()){const C=x.data().familyMembers||[];e(C.slice(0,3))}}catch(A){console.error("Error fetching family members:",A),l(m("error_loading_contacts"))}finally{r(!1)}})()},[c.currentUser,d,m]),t?b.jsx("div",{className:"loading-container",children:b.jsx("div",{className:"spinner"})}):b.jsx("div",{className:"emergency-contacts-container",children:b.jsxs("div",{className:"emergency-contacts-card",children:[b.jsx("h1",{className:"emergency-contacts-title",children:m("Emergency Contacts")}),b.jsx("p",{className:"emergency-contacts-subtitle",children:m("Contacts for Emergency")}),a&&b.jsx("div",{className:"error-message",children:a}),b.jsxs("div",{className:"contacts-section",children:[b.jsx("h2",{className:"section-title",children:m("doctors")}),b.jsx("div",{className:"contacts-grid",children:g.map((T,A)=>b.jsx("div",{className:"contact-card",children:b.jsxs("div",{className:"contact-info",children:[b.jsx("h3",{children:T.name}),b.jsx("p",{className:"relationship",children:T.specialty}),b.jsxs("div",{className:"contact-details",children:[b.jsxs("p",{children:[b.jsxs("strong",{children:[m("phone"),":"]})," ",T.phone]}),b.jsxs("p",{children:[b.jsxs("strong",{children:[m("email"),":"]})," ",T.email]}),b.jsxs("p",{children:[b.jsxs("strong",{children:[m("address"),":"]})," ",T.address]})]}),b.jsxs("button",{className:"call-button",onClick:()=>y(T.phone),children:[b.jsx(Rp,{})," ",m("call")]})]})},A))})]}),b.jsxs("div",{className:"contacts-section",children:[b.jsx("h2",{className:"section-title",children:m("family_members")}),b.jsxs("div",{className:"contacts-grid",children:[i.map((T,A)=>b.jsx("div",{className:"contact-card",children:b.jsxs("div",{className:"contact-info",children:[b.jsx("h3",{children:T.name}),b.jsx("p",{className:"relationship",children:T.relationship}),b.jsxs("div",{className:"contact-details",children:[b.jsxs("p",{children:[b.jsxs("strong",{children:[m("phone"),":"]})," ",T.phone]}),T.email&&b.jsxs("p",{children:[b.jsxs("strong",{children:[m("email"),":"]})," ",T.email]}),T.address&&b.jsxs("p",{children:[b.jsxs("strong",{children:[m("address"),":"]})," ",T.address]})]}),b.jsxs("button",{className:"call-button",onClick:()=>y(T.phone),children:[b.jsx(Rp,{})," ",m("call")]})]})},A)),i.length===0&&b.jsxs("div",{className:"no-contacts",children:[b.jsx("p",{children:m("no_family_contacts")}),b.jsx("p",{children:m("add_family_members_medical_form")})]})]})]})]})})};function vS(i,e){return function(){return i.apply(e,arguments)}}const{toString:VD}=Object.prototype,{getPrototypeOf:Lg}=Object,{iterator:Tf,toStringTag:_S}=Symbol,bf=(i=>e=>{const t=VD.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),Xn=i=>(i=i.toLowerCase(),e=>bf(e)===i),Sf=i=>e=>typeof e===i,{isArray:Oo}=Array,yu=Sf("undefined");function LD(i){return i!==null&&!yu(i)&&i.constructor!==null&&!yu(i.constructor)&&mn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const ES=Xn("ArrayBuffer");function kD(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&ES(i.buffer),e}const UD=Sf("string"),mn=Sf("function"),TS=Sf("number"),Af=i=>i!==null&&typeof i=="object",jD=i=>i===!0||i===!1,bh=i=>{if(bf(i)!=="object")return!1;const e=Lg(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(_S in i)&&!(Tf in i)},zD=Xn("Date"),BD=Xn("File"),HD=Xn("Blob"),FD=Xn("FileList"),qD=i=>Af(i)&&mn(i.pipe),GD=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||mn(i.append)&&((e=bf(i))==="formdata"||e==="object"&&mn(i.toString)&&i.toString()==="[object FormData]"))},KD=Xn("URLSearchParams"),[$D,QD,YD,XD]=["ReadableStream","Request","Response","Headers"].map(Xn),WD=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Mu(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let r,a;if(typeof i!="object"&&(i=[i]),Oo(i))for(r=0,a=i.length;r<a;r++)e.call(null,i[r],r,i);else{const l=t?Object.getOwnPropertyNames(i):Object.keys(i),c=l.length;let d;for(r=0;r<c;r++)d=l[r],e.call(null,i[d],d,i)}}function bS(i,e){e=e.toLowerCase();const t=Object.keys(i);let r=t.length,a;for(;r-- >0;)if(a=t[r],e===a.toLowerCase())return a;return null}const qs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,SS=i=>!yu(i)&&i!==qs;function Np(){const{caseless:i}=SS(this)&&this||{},e={},t=(r,a)=>{const l=i&&bS(e,a)||a;bh(e[l])&&bh(r)?e[l]=Np(e[l],r):bh(r)?e[l]=Np({},r):Oo(r)?e[l]=r.slice():e[l]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Mu(arguments[r],t);return e}const JD=(i,e,t,{allOwnKeys:r}={})=>(Mu(e,(a,l)=>{t&&mn(a)?i[l]=vS(a,t):i[l]=a},{allOwnKeys:r}),i),ZD=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),e6=(i,e,t,r)=>{i.prototype=Object.create(e.prototype,r),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},t6=(i,e,t,r)=>{let a,l,c;const d={};if(e=e||{},i==null)return e;do{for(a=Object.getOwnPropertyNames(i),l=a.length;l-- >0;)c=a[l],(!r||r(c,i,e))&&!d[c]&&(e[c]=i[c],d[c]=!0);i=t!==!1&&Lg(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},n6=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const r=i.indexOf(e,t);return r!==-1&&r===t},i6=i=>{if(!i)return null;if(Oo(i))return i;let e=i.length;if(!TS(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},r6=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&Lg(Uint8Array)),s6=(i,e)=>{const r=(i&&i[Tf]).call(i);let a;for(;(a=r.next())&&!a.done;){const l=a.value;e.call(i,l[0],l[1])}},a6=(i,e)=>{let t;const r=[];for(;(t=i.exec(e))!==null;)r.push(t);return r},o6=Xn("HTMLFormElement"),l6=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,a){return r.toUpperCase()+a}),KE=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),u6=Xn("RegExp"),AS=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),r={};Mu(t,(a,l)=>{let c;(c=e(a,l,i))!==!1&&(r[l]=c||a)}),Object.defineProperties(i,r)},c6=i=>{AS(i,(e,t)=>{if(mn(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=i[t];if(mn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},h6=(i,e)=>{const t={},r=a=>{a.forEach(l=>{t[l]=!0})};return Oo(i)?r(i):r(String(i).split(e)),t},f6=()=>{},d6=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function m6(i){return!!(i&&mn(i.append)&&i[_S]==="FormData"&&i[Tf])}const p6=i=>{const e=new Array(10),t=(r,a)=>{if(Af(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[a]=r;const l=Oo(r)?[]:{};return Mu(r,(c,d)=>{const m=t(c,a+1);!yu(m)&&(l[d]=m)}),e[a]=void 0,l}}return r};return t(i,0)},g6=Xn("AsyncFunction"),y6=i=>i&&(Af(i)||mn(i))&&mn(i.then)&&mn(i.catch),wS=((i,e)=>i?setImmediate:e?((t,r)=>(qs.addEventListener("message",({source:a,data:l})=>{a===qs&&l===t&&r.length&&r.shift()()},!1),a=>{r.push(a),qs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",mn(qs.postMessage)),v6=typeof queueMicrotask<"u"?queueMicrotask.bind(qs):typeof process<"u"&&process.nextTick||wS,_6=i=>i!=null&&mn(i[Tf]),Q={isArray:Oo,isArrayBuffer:ES,isBuffer:LD,isFormData:GD,isArrayBufferView:kD,isString:UD,isNumber:TS,isBoolean:jD,isObject:Af,isPlainObject:bh,isReadableStream:$D,isRequest:QD,isResponse:YD,isHeaders:XD,isUndefined:yu,isDate:zD,isFile:BD,isBlob:HD,isRegExp:u6,isFunction:mn,isStream:qD,isURLSearchParams:KD,isTypedArray:r6,isFileList:FD,forEach:Mu,merge:Np,extend:JD,trim:WD,stripBOM:ZD,inherits:e6,toFlatObject:t6,kindOf:bf,kindOfTest:Xn,endsWith:n6,toArray:i6,forEachEntry:s6,matchAll:a6,isHTMLForm:o6,hasOwnProperty:KE,hasOwnProp:KE,reduceDescriptors:AS,freezeMethods:c6,toObjectSet:h6,toCamelCase:l6,noop:f6,toFiniteNumber:d6,findKey:bS,global:qs,isContextDefined:SS,isSpecCompliantForm:m6,toJSONObject:p6,isAsyncFn:g6,isThenable:y6,setImmediate:wS,asap:v6,isIterable:_6};function xe(i,e,t,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Q.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.status}}});const RS=xe.prototype,CS={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{CS[i]={value:i}});Object.defineProperties(xe,CS);Object.defineProperty(RS,"isAxiosError",{value:!0});xe.from=(i,e,t,r,a,l)=>{const c=Object.create(RS);return Q.toFlatObject(i,c,function(m){return m!==Error.prototype},d=>d!=="isAxiosError"),xe.call(c,i.message,e,t,r,a),c.cause=i,c.name=i.name,l&&Object.assign(c,l),c};const E6=null;function Op(i){return Q.isPlainObject(i)||Q.isArray(i)}function IS(i){return Q.endsWith(i,"[]")?i.slice(0,-2):i}function $E(i,e,t){return i?i.concat(e).map(function(a,l){return a=IS(a),!t&&l?"["+a+"]":a}).join(t?".":""):e}function T6(i){return Q.isArray(i)&&!i.some(Op)}const b6=Q.toFlatObject(Q,{},null,function(e){return/^is[A-Z]/.test(e)});function wf(i,e,t){if(!Q.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=Q.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(U,C){return!Q.isUndefined(C[U])});const r=t.metaTokens,a=t.visitor||y,l=t.dots,c=t.indexes,m=(t.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(e);if(!Q.isFunction(a))throw new TypeError("visitor must be a function");function g(x){if(x===null)return"";if(Q.isDate(x))return x.toISOString();if(!m&&Q.isBlob(x))throw new xe("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(x)||Q.isTypedArray(x)?m&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function y(x,U,C){let q=x;if(x&&!C&&typeof x=="object"){if(Q.endsWith(U,"{}"))U=r?U:U.slice(0,-2),x=JSON.stringify(x);else if(Q.isArray(x)&&T6(x)||(Q.isFileList(x)||Q.endsWith(U,"[]"))&&(q=Q.toArray(x)))return U=IS(U),q.forEach(function(W,ae){!(Q.isUndefined(W)||W===null)&&e.append(c===!0?$E([U],ae,l):c===null?U:U+"[]",g(W))}),!1}return Op(x)?!0:(e.append($E(C,U,l),g(x)),!1)}const T=[],A=Object.assign(b6,{defaultVisitor:y,convertValue:g,isVisitable:Op});function M(x,U){if(!Q.isUndefined(x)){if(T.indexOf(x)!==-1)throw Error("Circular reference detected in "+U.join("."));T.push(x),Q.forEach(x,function(q,X){(!(Q.isUndefined(q)||q===null)&&a.call(e,q,Q.isString(X)?X.trim():X,U,A))===!0&&M(q,U?U.concat(X):[X])}),T.pop()}}if(!Q.isObject(i))throw new TypeError("data must be an object");return M(i),e}function QE(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function kg(i,e){this._pairs=[],i&&wf(i,this,e)}const xS=kg.prototype;xS.append=function(e,t){this._pairs.push([e,t])};xS.toString=function(e){const t=e?function(r){return e.call(this,r,QE)}:QE;return this._pairs.map(function(a){return t(a[0])+"="+t(a[1])},"").join("&")};function S6(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function NS(i,e,t){if(!e)return i;const r=t&&t.encode||S6;Q.isFunction(t)&&(t={serialize:t});const a=t&&t.serialize;let l;if(a?l=a(e,t):l=Q.isURLSearchParams(e)?e.toString():new kg(e,t).toString(r),l){const c=i.indexOf("#");c!==-1&&(i=i.slice(0,c)),i+=(i.indexOf("?")===-1?"?":"&")+l}return i}class YE{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Q.forEach(this.handlers,function(r){r!==null&&e(r)})}}const OS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},A6=typeof URLSearchParams<"u"?URLSearchParams:kg,w6=typeof FormData<"u"?FormData:null,R6=typeof Blob<"u"?Blob:null,C6={isBrowser:!0,classes:{URLSearchParams:A6,FormData:w6,Blob:R6},protocols:["http","https","file","blob","url","data"]},Ug=typeof window<"u"&&typeof document<"u",Dp=typeof navigator=="object"&&navigator||void 0,I6=Ug&&(!Dp||["ReactNative","NativeScript","NS"].indexOf(Dp.product)<0),x6=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",N6=Ug&&window.location.href||"http://localhost",O6=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ug,hasStandardBrowserEnv:I6,hasStandardBrowserWebWorkerEnv:x6,navigator:Dp,origin:N6},Symbol.toStringTag,{value:"Module"})),tn={...O6,...C6};function D6(i,e){return wf(i,new tn.classes.URLSearchParams,Object.assign({visitor:function(t,r,a,l){return tn.isNode&&Q.isBuffer(t)?(this.append(r,t.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function M6(i){return Q.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function P6(i){const e={},t=Object.keys(i);let r;const a=t.length;let l;for(r=0;r<a;r++)l=t[r],e[l]=i[l];return e}function DS(i){function e(t,r,a,l){let c=t[l++];if(c==="__proto__")return!0;const d=Number.isFinite(+c),m=l>=t.length;return c=!c&&Q.isArray(a)?a.length:c,m?(Q.hasOwnProp(a,c)?a[c]=[a[c],r]:a[c]=r,!d):((!a[c]||!Q.isObject(a[c]))&&(a[c]=[]),e(t,r,a[c],l)&&Q.isArray(a[c])&&(a[c]=P6(a[c])),!d)}if(Q.isFormData(i)&&Q.isFunction(i.entries)){const t={};return Q.forEachEntry(i,(r,a)=>{e(M6(r),a,t,0)}),t}return null}function V6(i,e,t){if(Q.isString(i))try{return(e||JSON.parse)(i),Q.trim(i)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(i)}const Pu={transitional:OS,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",a=r.indexOf("application/json")>-1,l=Q.isObject(e);if(l&&Q.isHTMLForm(e)&&(e=new FormData(e)),Q.isFormData(e))return a?JSON.stringify(DS(e)):e;if(Q.isArrayBuffer(e)||Q.isBuffer(e)||Q.isStream(e)||Q.isFile(e)||Q.isBlob(e)||Q.isReadableStream(e))return e;if(Q.isArrayBufferView(e))return e.buffer;if(Q.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let d;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return D6(e,this.formSerializer).toString();if((d=Q.isFileList(e))||r.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return wf(d?{"files[]":e}:e,m&&new m,this.formSerializer)}}return l||a?(t.setContentType("application/json",!1),V6(e)):e}],transformResponse:[function(e){const t=this.transitional||Pu.transitional,r=t&&t.forcedJSONParsing,a=this.responseType==="json";if(Q.isResponse(e)||Q.isReadableStream(e))return e;if(e&&Q.isString(e)&&(r&&!this.responseType||a)){const c=!(t&&t.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(d){if(c)throw d.name==="SyntaxError"?xe.from(d,xe.ERR_BAD_RESPONSE,this,null,this.response):d}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:tn.classes.FormData,Blob:tn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],i=>{Pu.headers[i]={}});const L6=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),k6=i=>{const e={};let t,r,a;return i&&i.split(`
`).forEach(function(c){a=c.indexOf(":"),t=c.substring(0,a).trim().toLowerCase(),r=c.substring(a+1).trim(),!(!t||e[t]&&L6[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},XE=Symbol("internals");function Gl(i){return i&&String(i).trim().toLowerCase()}function Sh(i){return i===!1||i==null?i:Q.isArray(i)?i.map(Sh):String(i)}function U6(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(i);)e[r[1]]=r[2];return e}const j6=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function $m(i,e,t,r,a){if(Q.isFunction(r))return r.call(this,e,t);if(a&&(e=t),!!Q.isString(e)){if(Q.isString(r))return e.indexOf(r)!==-1;if(Q.isRegExp(r))return r.test(e)}}function z6(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function B6(i,e){const t=Q.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(i,r+t,{value:function(a,l,c){return this[r].call(this,e,a,l,c)},configurable:!0})})}let pn=class{constructor(e){e&&this.set(e)}set(e,t,r){const a=this;function l(d,m,g){const y=Gl(m);if(!y)throw new Error("header name must be a non-empty string");const T=Q.findKey(a,y);(!T||a[T]===void 0||g===!0||g===void 0&&a[T]!==!1)&&(a[T||m]=Sh(d))}const c=(d,m)=>Q.forEach(d,(g,y)=>l(g,y,m));if(Q.isPlainObject(e)||e instanceof this.constructor)c(e,t);else if(Q.isString(e)&&(e=e.trim())&&!j6(e))c(k6(e),t);else if(Q.isObject(e)&&Q.isIterable(e)){let d={},m,g;for(const y of e){if(!Q.isArray(y))throw TypeError("Object iterator must return a key-value pair");d[g=y[0]]=(m=d[g])?Q.isArray(m)?[...m,y[1]]:[m,y[1]]:y[1]}c(d,t)}else e!=null&&l(t,e,r);return this}get(e,t){if(e=Gl(e),e){const r=Q.findKey(this,e);if(r){const a=this[r];if(!t)return a;if(t===!0)return U6(a);if(Q.isFunction(t))return t.call(this,a,r);if(Q.isRegExp(t))return t.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Gl(e),e){const r=Q.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||$m(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let a=!1;function l(c){if(c=Gl(c),c){const d=Q.findKey(r,c);d&&(!t||$m(r,r[d],d,t))&&(delete r[d],a=!0)}}return Q.isArray(e)?e.forEach(l):l(e),a}clear(e){const t=Object.keys(this);let r=t.length,a=!1;for(;r--;){const l=t[r];(!e||$m(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const t=this,r={};return Q.forEach(this,(a,l)=>{const c=Q.findKey(r,l);if(c){t[c]=Sh(a),delete t[l];return}const d=e?z6(l):String(l).trim();d!==l&&delete t[l],t[d]=Sh(a),r[d]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Q.forEach(this,(r,a)=>{r!=null&&r!==!1&&(t[a]=e&&Q.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[XE]=this[XE]={accessors:{}}).accessors,a=this.prototype;function l(c){const d=Gl(c);r[d]||(B6(a,c),r[d]=!0)}return Q.isArray(e)?e.forEach(l):l(e),this}};pn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Q.reduceDescriptors(pn.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(r){this[t]=r}}});Q.freezeMethods(pn);function Qm(i,e){const t=this||Pu,r=e||t,a=pn.from(r.headers);let l=r.data;return Q.forEach(i,function(d){l=d.call(t,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function MS(i){return!!(i&&i.__CANCEL__)}function Do(i,e,t){xe.call(this,i??"canceled",xe.ERR_CANCELED,e,t),this.name="CanceledError"}Q.inherits(Do,xe,{__CANCEL__:!0});function PS(i,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?i(t):e(new xe("Request failed with status code "+t.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function H6(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function F6(i,e){i=i||10;const t=new Array(i),r=new Array(i);let a=0,l=0,c;return e=e!==void 0?e:1e3,function(m){const g=Date.now(),y=r[l];c||(c=g),t[a]=m,r[a]=g;let T=l,A=0;for(;T!==a;)A+=t[T++],T=T%i;if(a=(a+1)%i,a===l&&(l=(l+1)%i),g-c<e)return;const M=y&&g-y;return M?Math.round(A*1e3/M):void 0}}function q6(i,e){let t=0,r=1e3/e,a,l;const c=(g,y=Date.now())=>{t=y,a=null,l&&(clearTimeout(l),l=null),i.apply(null,g)};return[(...g)=>{const y=Date.now(),T=y-t;T>=r?c(g,y):(a=g,l||(l=setTimeout(()=>{l=null,c(a)},r-T)))},()=>a&&c(a)]}const Qh=(i,e,t=3)=>{let r=0;const a=F6(50,250);return q6(l=>{const c=l.loaded,d=l.lengthComputable?l.total:void 0,m=c-r,g=a(m),y=c<=d;r=c;const T={loaded:c,total:d,progress:d?c/d:void 0,bytes:m,rate:g||void 0,estimated:g&&d&&y?(d-c)/g:void 0,event:l,lengthComputable:d!=null,[e?"download":"upload"]:!0};i(T)},t)},WE=(i,e)=>{const t=i!=null;return[r=>e[0]({lengthComputable:t,total:i,loaded:r}),e[1]]},JE=i=>(...e)=>Q.asap(()=>i(...e)),G6=tn.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,tn.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(tn.origin),tn.navigator&&/(msie|trident)/i.test(tn.navigator.userAgent)):()=>!0,K6=tn.hasStandardBrowserEnv?{write(i,e,t,r,a,l){const c=[i+"="+encodeURIComponent(e)];Q.isNumber(t)&&c.push("expires="+new Date(t).toGMTString()),Q.isString(r)&&c.push("path="+r),Q.isString(a)&&c.push("domain="+a),l===!0&&c.push("secure"),document.cookie=c.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function $6(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function Q6(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function VS(i,e,t){let r=!$6(e);return i&&(r||t==!1)?Q6(i,e):e}const ZE=i=>i instanceof pn?{...i}:i;function ea(i,e){e=e||{};const t={};function r(g,y,T,A){return Q.isPlainObject(g)&&Q.isPlainObject(y)?Q.merge.call({caseless:A},g,y):Q.isPlainObject(y)?Q.merge({},y):Q.isArray(y)?y.slice():y}function a(g,y,T,A){if(Q.isUndefined(y)){if(!Q.isUndefined(g))return r(void 0,g,T,A)}else return r(g,y,T,A)}function l(g,y){if(!Q.isUndefined(y))return r(void 0,y)}function c(g,y){if(Q.isUndefined(y)){if(!Q.isUndefined(g))return r(void 0,g)}else return r(void 0,y)}function d(g,y,T){if(T in e)return r(g,y);if(T in i)return r(void 0,g)}const m={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:d,headers:(g,y,T)=>a(ZE(g),ZE(y),T,!0)};return Q.forEach(Object.keys(Object.assign({},i,e)),function(y){const T=m[y]||a,A=T(i[y],e[y],y);Q.isUndefined(A)&&T!==d||(t[y]=A)}),t}const LS=i=>{const e=ea({},i);let{data:t,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:l,headers:c,auth:d}=e;e.headers=c=pn.from(c),e.url=NS(VS(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),d&&c.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):"")));let m;if(Q.isFormData(t)){if(tn.hasStandardBrowserEnv||tn.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((m=c.getContentType())!==!1){const[g,...y]=m?m.split(";").map(T=>T.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",...y].join("; "))}}if(tn.hasStandardBrowserEnv&&(r&&Q.isFunction(r)&&(r=r(e)),r||r!==!1&&G6(e.url))){const g=a&&l&&K6.read(l);g&&c.set(a,g)}return e},Y6=typeof XMLHttpRequest<"u",X6=Y6&&function(i){return new Promise(function(t,r){const a=LS(i);let l=a.data;const c=pn.from(a.headers).normalize();let{responseType:d,onUploadProgress:m,onDownloadProgress:g}=a,y,T,A,M,x;function U(){M&&M(),x&&x(),a.cancelToken&&a.cancelToken.unsubscribe(y),a.signal&&a.signal.removeEventListener("abort",y)}let C=new XMLHttpRequest;C.open(a.method.toUpperCase(),a.url,!0),C.timeout=a.timeout;function q(){if(!C)return;const W=pn.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),oe={data:!d||d==="text"||d==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:W,config:i,request:C};PS(function(D){t(D),U()},function(D){r(D),U()},oe),C=null}"onloadend"in C?C.onloadend=q:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(q)},C.onabort=function(){C&&(r(new xe("Request aborted",xe.ECONNABORTED,i,C)),C=null)},C.onerror=function(){r(new xe("Network Error",xe.ERR_NETWORK,i,C)),C=null},C.ontimeout=function(){let ae=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const oe=a.transitional||OS;a.timeoutErrorMessage&&(ae=a.timeoutErrorMessage),r(new xe(ae,oe.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,i,C)),C=null},l===void 0&&c.setContentType(null),"setRequestHeader"in C&&Q.forEach(c.toJSON(),function(ae,oe){C.setRequestHeader(oe,ae)}),Q.isUndefined(a.withCredentials)||(C.withCredentials=!!a.withCredentials),d&&d!=="json"&&(C.responseType=a.responseType),g&&([A,x]=Qh(g,!0),C.addEventListener("progress",A)),m&&C.upload&&([T,M]=Qh(m),C.upload.addEventListener("progress",T),C.upload.addEventListener("loadend",M)),(a.cancelToken||a.signal)&&(y=W=>{C&&(r(!W||W.type?new Do(null,i,C):W),C.abort(),C=null)},a.cancelToken&&a.cancelToken.subscribe(y),a.signal&&(a.signal.aborted?y():a.signal.addEventListener("abort",y)));const X=H6(a.url);if(X&&tn.protocols.indexOf(X)===-1){r(new xe("Unsupported protocol "+X+":",xe.ERR_BAD_REQUEST,i));return}C.send(l||null)})},W6=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let r=new AbortController,a;const l=function(g){if(!a){a=!0,d();const y=g instanceof Error?g:this.reason;r.abort(y instanceof xe?y:new Do(y instanceof Error?y.message:y))}};let c=e&&setTimeout(()=>{c=null,l(new xe(`timeout ${e} of ms exceeded`,xe.ETIMEDOUT))},e);const d=()=>{i&&(c&&clearTimeout(c),c=null,i.forEach(g=>{g.unsubscribe?g.unsubscribe(l):g.removeEventListener("abort",l)}),i=null)};i.forEach(g=>g.addEventListener("abort",l));const{signal:m}=r;return m.unsubscribe=()=>Q.asap(d),m}},J6=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let r=0,a;for(;r<t;)a=r+e,yield i.slice(r,a),r=a},Z6=async function*(i,e){for await(const t of eM(i))yield*J6(t,e)},eM=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},eT=(i,e,t,r)=>{const a=Z6(i,e);let l=0,c,d=m=>{c||(c=!0,r&&r(m))};return new ReadableStream({async pull(m){try{const{done:g,value:y}=await a.next();if(g){d(),m.close();return}let T=y.byteLength;if(t){let A=l+=T;t(A)}m.enqueue(new Uint8Array(y))}catch(g){throw d(g),g}},cancel(m){return d(m),a.return()}},{highWaterMark:2})},Rf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",kS=Rf&&typeof ReadableStream=="function",tM=Rf&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),US=(i,...e)=>{try{return!!i(...e)}catch{return!1}},nM=kS&&US(()=>{let i=!1;const e=new Request(tn.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),tT=64*1024,Mp=kS&&US(()=>Q.isReadableStream(new Response("").body)),Yh={stream:Mp&&(i=>i.body)};Rf&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Yh[e]&&(Yh[e]=Q.isFunction(i[e])?t=>t[e]():(t,r)=>{throw new xe(`Response type '${e}' is not supported`,xe.ERR_NOT_SUPPORT,r)})})})(new Response);const iM=async i=>{if(i==null)return 0;if(Q.isBlob(i))return i.size;if(Q.isSpecCompliantForm(i))return(await new Request(tn.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(Q.isArrayBufferView(i)||Q.isArrayBuffer(i))return i.byteLength;if(Q.isURLSearchParams(i)&&(i=i+""),Q.isString(i))return(await tM(i)).byteLength},rM=async(i,e)=>{const t=Q.toFiniteNumber(i.getContentLength());return t??iM(e)},sM=Rf&&(async i=>{let{url:e,method:t,data:r,signal:a,cancelToken:l,timeout:c,onDownloadProgress:d,onUploadProgress:m,responseType:g,headers:y,withCredentials:T="same-origin",fetchOptions:A}=LS(i);g=g?(g+"").toLowerCase():"text";let M=W6([a,l&&l.toAbortSignal()],c),x;const U=M&&M.unsubscribe&&(()=>{M.unsubscribe()});let C;try{if(m&&nM&&t!=="get"&&t!=="head"&&(C=await rM(y,r))!==0){let oe=new Request(e,{method:"POST",body:r,duplex:"half"}),pe;if(Q.isFormData(r)&&(pe=oe.headers.get("content-type"))&&y.setContentType(pe),oe.body){const[D,R]=WE(C,Qh(JE(m)));r=eT(oe.body,tT,D,R)}}Q.isString(T)||(T=T?"include":"omit");const q="credentials"in Request.prototype;x=new Request(e,{...A,signal:M,method:t.toUpperCase(),headers:y.normalize().toJSON(),body:r,duplex:"half",credentials:q?T:void 0});let X=await fetch(x);const W=Mp&&(g==="stream"||g==="response");if(Mp&&(d||W&&U)){const oe={};["status","statusText","headers"].forEach(I=>{oe[I]=X[I]});const pe=Q.toFiniteNumber(X.headers.get("content-length")),[D,R]=d&&WE(pe,Qh(JE(d),!0))||[];X=new Response(eT(X.body,tT,D,()=>{R&&R(),U&&U()}),oe)}g=g||"text";let ae=await Yh[Q.findKey(Yh,g)||"text"](X,i);return!W&&U&&U(),await new Promise((oe,pe)=>{PS(oe,pe,{data:ae,headers:pn.from(X.headers),status:X.status,statusText:X.statusText,config:i,request:x})})}catch(q){throw U&&U(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,i,x),{cause:q.cause||q}):xe.from(q,q&&q.code,i,x)}}),Pp={http:E6,xhr:X6,fetch:sM};Q.forEach(Pp,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const nT=i=>`- ${i}`,aM=i=>Q.isFunction(i)||i===null||i===!1,jS={getAdapter:i=>{i=Q.isArray(i)?i:[i];const{length:e}=i;let t,r;const a={};for(let l=0;l<e;l++){t=i[l];let c;if(r=t,!aM(t)&&(r=Pp[(c=String(t)).toLowerCase()],r===void 0))throw new xe(`Unknown adapter '${c}'`);if(r)break;a[c||"#"+l]=r}if(!r){const l=Object.entries(a).map(([d,m])=>`adapter ${d} `+(m===!1?"is not supported by the environment":"is not available in the build"));let c=e?l.length>1?`since :
`+l.map(nT).join(`
`):" "+nT(l[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return r},adapters:Pp};function Ym(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Do(null,i)}function iT(i){return Ym(i),i.headers=pn.from(i.headers),i.data=Qm.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),jS.getAdapter(i.adapter||Pu.adapter)(i).then(function(r){return Ym(i),r.data=Qm.call(i,i.transformResponse,r),r.headers=pn.from(r.headers),r},function(r){return MS(r)||(Ym(i),r&&r.response&&(r.response.data=Qm.call(i,i.transformResponse,r.response),r.response.headers=pn.from(r.response.headers))),Promise.reject(r)})}const zS="1.9.0",Cf={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{Cf[i]=function(r){return typeof r===i||"a"+(e<1?"n ":" ")+i}});const rT={};Cf.transitional=function(e,t,r){function a(l,c){return"[Axios v"+zS+"] Transitional option '"+l+"'"+c+(r?". "+r:"")}return(l,c,d)=>{if(e===!1)throw new xe(a(c," has been removed"+(t?" in "+t:"")),xe.ERR_DEPRECATED);return t&&!rT[c]&&(rT[c]=!0,console.warn(a(c," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(l,c,d):!0}};Cf.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function oM(i,e,t){if(typeof i!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const r=Object.keys(i);let a=r.length;for(;a-- >0;){const l=r[a],c=e[l];if(c){const d=i[l],m=d===void 0||c(d,l,i);if(m!==!0)throw new xe("option "+l+" must be "+m,xe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new xe("Unknown option "+l,xe.ERR_BAD_OPTION)}}const Ah={assertOptions:oM,validators:Cf},mi=Ah.validators;let Ks=class{constructor(e){this.defaults=e||{},this.interceptors={request:new YE,response:new YE}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ea(this.defaults,t);const{transitional:r,paramsSerializer:a,headers:l}=t;r!==void 0&&Ah.assertOptions(r,{silentJSONParsing:mi.transitional(mi.boolean),forcedJSONParsing:mi.transitional(mi.boolean),clarifyTimeoutError:mi.transitional(mi.boolean)},!1),a!=null&&(Q.isFunction(a)?t.paramsSerializer={serialize:a}:Ah.assertOptions(a,{encode:mi.function,serialize:mi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ah.assertOptions(t,{baseUrl:mi.spelling("baseURL"),withXsrfToken:mi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let c=l&&Q.merge(l.common,l[t.method]);l&&Q.forEach(["delete","get","head","post","put","patch","common"],x=>{delete l[x]}),t.headers=pn.concat(c,l);const d=[];let m=!0;this.interceptors.request.forEach(function(U){typeof U.runWhen=="function"&&U.runWhen(t)===!1||(m=m&&U.synchronous,d.unshift(U.fulfilled,U.rejected))});const g=[];this.interceptors.response.forEach(function(U){g.push(U.fulfilled,U.rejected)});let y,T=0,A;if(!m){const x=[iT.bind(this),void 0];for(x.unshift.apply(x,d),x.push.apply(x,g),A=x.length,y=Promise.resolve(t);T<A;)y=y.then(x[T++],x[T++]);return y}A=d.length;let M=t;for(T=0;T<A;){const x=d[T++],U=d[T++];try{M=x(M)}catch(C){U.call(this,C);break}}try{y=iT.call(this,M)}catch(x){return Promise.reject(x)}for(T=0,A=g.length;T<A;)y=y.then(g[T++],g[T++]);return y}getUri(e){e=ea(this.defaults,e);const t=VS(e.baseURL,e.url,e.allowAbsoluteUrls);return NS(t,e.params,e.paramsSerializer)}};Q.forEach(["delete","get","head","options"],function(e){Ks.prototype[e]=function(t,r){return this.request(ea(r||{},{method:e,url:t,data:(r||{}).data}))}});Q.forEach(["post","put","patch"],function(e){function t(r){return function(l,c,d){return this.request(ea(d||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}Ks.prototype[e]=t(),Ks.prototype[e+"Form"]=t(!0)});let lM=class BS{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(l){t=l});const r=this;this.promise.then(a=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](a);r._listeners=null}),this.promise.then=a=>{let l;const c=new Promise(d=>{r.subscribe(d),l=d}).then(a);return c.cancel=function(){r.unsubscribe(l)},c},e(function(l,c,d){r.reason||(r.reason=new Do(l,c,d),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new BS(function(a){e=a}),cancel:e}}};function uM(i){return function(t){return i.apply(null,t)}}function cM(i){return Q.isObject(i)&&i.isAxiosError===!0}const Vp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vp).forEach(([i,e])=>{Vp[e]=i});function HS(i){const e=new Ks(i),t=vS(Ks.prototype.request,e);return Q.extend(t,Ks.prototype,e,{allOwnKeys:!0}),Q.extend(t,e,null,{allOwnKeys:!0}),t.create=function(a){return HS(ea(i,a))},t}const vt=HS(Pu);vt.Axios=Ks;vt.CanceledError=Do;vt.CancelToken=lM;vt.isCancel=MS;vt.VERSION=zS;vt.toFormData=wf;vt.AxiosError=xe;vt.Cancel=vt.CanceledError;vt.all=function(e){return Promise.all(e)};vt.spread=uM;vt.isAxiosError=cM;vt.mergeConfig=ea;vt.AxiosHeaders=pn;vt.formToJSON=i=>DS(Q.isHTMLForm(i)?new FormData(i):i);vt.getAdapter=jS.getAdapter;vt.HttpStatusCode=Vp;vt.default=vt;const{Axios:i3,AxiosError:r3,CanceledError:s3,isCancel:a3,CancelToken:o3,VERSION:l3,all:u3,Cancel:c3,isAxiosError:h3,spread:f3,toFormData:d3,AxiosHeaders:m3,HttpStatusCode:p3,formToJSON:g3,getAdapter:y3,mergeConfig:v3}=vt,hM=()=>{const{i18n:i,t:e}=Vg(),t=r=>{i.changeLanguage(r.target.value)};return b.jsx("div",{className:"language-selector",children:b.jsxs("select",{className:"language-dropdown",value:i.language,onChange:t,children:[b.jsx("option",{value:"en",children:"English"}),b.jsx("option",{value:"hi",children:""})]})})};var fM="firebase",dM="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kr(fM,dM,"app");const mM={apiKey:"AIzaSyAu94tawjUj9RaKkAfrzE1SZdL5M_s2TbY",authDomain:"aicarelink-41053.firebaseapp.com",projectId:"aicarelink-41053",storageBucket:"aicarelink-41053.firebasestorage.app",messagingSenderId:"637585840146",appId:"1:637585840146:web:fe81c8026d7a754126e0cb",measurementId:"G-TWT0P8FED0"},FS=HT(mM),pM=Du(FS),gM=wo(FS),yM=()=>{const[i,e]=ee.useState([]),[t,r]=ee.useState(""),[a,l]=ee.useState(!1),[c,d]=ee.useState([]),[m,g]=ee.useState([]),{t:y}=Vg(),[T,A]=ee.useState(!1);ee.useEffect(()=>{(async()=>{const X=gM.currentUser;if(X){const W=kO(AO(pM,"medicalForms"),UO("userId","==",X.uid)),ae=await FO(W),oe=[];ae.forEach(pe=>{const D=pe.data();D.familyMembers&&oe.push(...D.familyMembers)}),d(oe),g([{name:"Dr. Smith",phone:"+1234567890",specialty:"General Physician"},{name:"Dr. Johnson",phone:"+0987654321",specialty:"Emergency Care"}])}})()},[]);const M=q=>{const{value:X,checked:W}=q.target;e(W?ae=>[...ae,X]:ae=>ae.filter(oe=>oe!==X))},x=q=>{window.location.href=`tel:${q}`},U=async()=>{if(i.length===0){r(y("select_symptoms_error"));return}l(!0);try{const q=await vt.post("https://aarogyabackend.onrender.com/predict",{symptoms:i});r(q.data.disease),A(q.data.serious)}catch(q){console.error("Prediction error:",q),r(y("prediction_error")),A(!1)}finally{l(!1)}},C=[{value:"fever",label:y("symptoms.fever"),description:y("symptom_descriptions.fever")},{value:"cough",label:y("symptoms.cough"),description:y("symptom_descriptions.cough")},{value:"sore throat",label:y("symptoms.sore_throat"),description:y("symptom_descriptions.sore_throat")},{value:"headache",label:y("symptoms.headache"),description:y("symptom_descriptions.headache")},{value:"body pain",label:y("symptoms.body_pain"),description:y("symptom_descriptions.body_pain")},{value:"fatigue",label:y("symptoms.fatigue"),description:y("symptom_descriptions.fatigue")},{value:"breathing difficulty",label:y("symptoms.breathing_difficulty"),description:y("symptom_descriptions.breathing_difficulty")},{value:"chest pain",label:y("symptoms.chest_pain"),description:y("symptom_descriptions.chest_pain")},{value:"nausea",label:y("symptoms.nausea"),description:y("symptom_descriptions.nausea")},{value:"vomiting",label:y("symptoms.vomiting"),description:y("symptom_descriptions.vomiting")},{value:"diarrhea",label:y("symptoms.diarrhea"),description:y("symptom_descriptions.diarrhea")},{value:"loss of taste",label:y("symptoms.loss_of_taste"),description:y("symptom_descriptions.loss_of_taste")},{value:"loss of smell",label:y("symptoms.loss_of_smell"),description:y("symptom_descriptions.loss_of_smell")},{value:"runny nose",label:y("symptoms.runny_nose"),description:y("symptom_descriptions.runny_nose")},{value:"congestion",label:y("symptoms.congestion"),description:y("symptom_descriptions.congestion")},{value:"muscle pain",label:y("symptoms.muscle_pain"),description:y("symptom_descriptions.muscle_pain")},{value:"joint pain",label:y("symptoms.joint_pain"),description:y("symptom_descriptions.joint_pain")},{value:"rash",label:y("symptoms.rash"),description:y("symptom_descriptions.rash")},{value:"loss of appetite",label:y("symptoms.loss_of_appetite"),description:y("symptom_descriptions.loss_of_appetite")},{value:"weakness",label:y("symptoms.weakness"),description:y("symptom_descriptions.weakness")},{value:"dizziness",label:y("symptoms.dizziness"),description:y("symptom_descriptions.dizziness")},{value:"chills",label:y("symptoms.chills"),description:y("symptom_descriptions.chills")},{value:"sweating",label:y("symptoms.sweating"),description:y("symptom_descriptions.sweating")},{value:"abdominal pain",label:y("symptoms.abdominal_pain"),description:y("symptom_descriptions.abdominal_pain")},{value:"blurred vision",label:y("symptoms.blurred_vision"),description:y("symptom_descriptions.blurred_vision")}];return b.jsxs("div",{className:"dispred-container",children:[b.jsx(hM,{}),b.jsxs("div",{className:"dispred-header",children:[b.jsxs(Lr,{to:"/dashboard",className:"back-link",children:[" ",y("back_to_dashboard")]}),b.jsx("h1",{children:y("disease_predictor")}),b.jsx("p",{className:"subtitle",children:y("select_symptoms")})]}),b.jsx("div",{className:"symptoms-container",children:C.map(({value:q,label:X,description:W})=>b.jsxs("label",{className:"symptom-label",children:[b.jsx("input",{type:"checkbox",value:q,checked:i.includes(q),onChange:M,"aria-label":`Select ${X}`}),b.jsxs("div",{className:"symptom-info",children:[b.jsx("span",{className:"symptom-name",children:X}),b.jsx("span",{className:"symptom-description",children:W})]})]},q))}),b.jsx("button",{onClick:U,className:`predict-button ${a?"loading":""}`,disabled:a,children:y(a?"predicting":"predict")}),t&&b.jsxs("div",{className:"prediction-container",children:[b.jsx("h2",{children:y("prediction_result")}),b.jsxs("div",{className:"prediction-result",children:[b.jsx("h3",{children:t}),b.jsx("p",{className:"disease-description",children:y(`disease_descriptions.${t}`)}),T&&b.jsxs("div",{className:"emergency-contacts",children:[b.jsx("h4",{children:y("emergency_contacts")}),b.jsx("p",{className:"serious-warning",children:y("serious_condition_warning")}),b.jsxs("div",{className:"contact-buttons",children:[c.map((q,X)=>b.jsx("button",{className:"contact-button",onClick:()=>x(q.phone),children:y("call_family_member",{name:q.name})},X)),m.map((q,X)=>b.jsx("button",{className:"contact-button doctor",onClick:()=>x(q.phone),children:y("call_doctor",{name:q.name})},`doctor-${X}`))]})]}),b.jsxs("div",{className:"disclaimer",children:[b.jsx("p",{className:"disclaimer-text",children:y("prediction_disclaimer")}),b.jsx("p",{className:"consult-doctor",children:y("consult_doctor")})]})]})]})]})},vM=()=>b.jsxs("div",{className:"landing-container",children:[b.jsx("header",{className:"hero-section",children:b.jsxs("div",{className:"hero-content",children:[b.jsxs("h1",{children:["Welcome to ",b.jsx("span",{children:"AA"}),"ROGYA"]}),b.jsx("p",{className:"hero-subtitle",children:"Your Personal Health Companion"}),b.jsxs("div",{className:"cta-buttons",children:[b.jsx(Lr,{to:"/login",className:"cta-button primary",children:"Get Started"}),b.jsx(Lr,{to:"/login",className:"cta-button secondary",children:"Sign In"})]})]})}),b.jsxs("section",{className:"features-section",children:[b.jsx("h2",{children:"Why Choose AAROGYA?"}),b.jsxs("div",{className:"features-grid",children:[b.jsxs("div",{className:"feature-card",children:[b.jsx(hD,{className:"feature-icon"}),b.jsx("h3",{children:"Medical History"}),b.jsx("p",{children:"Keep track of your medical records and history in one secure place"})]}),b.jsxs("div",{className:"feature-card",children:[b.jsx(iD,{className:"feature-icon"}),b.jsx("h3",{children:"Health Monitoring"}),b.jsx("p",{children:"Monitor your vital health metrics and track your wellness journey"})]}),b.jsxs("div",{className:"feature-card",children:[b.jsx(hS,{className:"feature-icon"}),b.jsx("h3",{children:"Analytics"}),b.jsx("p",{children:"Get insights into your health patterns and progress"})]}),b.jsxs("div",{className:"feature-card",children:[b.jsx(Pg,{className:"feature-icon"}),b.jsx("h3",{children:"AI Assistant"}),b.jsx("p",{children:"Get instant health advice and support from our AI assistant"})]})]})]}),b.jsx("section",{className:"about-section",children:b.jsxs("div",{className:"about-content",children:[b.jsx("h2",{children:"About AAROGYA"}),b.jsx("p",{children:"AAROGYA is your comprehensive health management platform that helps you take control of your well-being. With advanced features and AI-powered assistance, we make healthcare management simple and accessible."})]})}),b.jsx("footer",{className:"landing-footer",children:b.jsx("p",{children:"Made with  by Team AAROGYA Under Guidance of Nawal Ma'am"})})]}),we=i=>typeof i=="string",Kl=()=>{let i,e;const t=new Promise((r,a)=>{i=r,e=a});return t.resolve=i,t.reject=e,t},sT=i=>i==null?"":""+i,_M=(i,e,t)=>{i.forEach(r=>{e[r]&&(t[r]=e[r])})},EM=/###/g,aT=i=>i&&i.indexOf("###")>-1?i.replace(EM,"."):i,oT=i=>!i||we(i),ru=(i,e,t)=>{const r=we(e)?e.split("."):e;let a=0;for(;a<r.length-1;){if(oT(i))return{};const l=aT(r[a]);!i[l]&&t&&(i[l]=new t),Object.prototype.hasOwnProperty.call(i,l)?i=i[l]:i={},++a}return oT(i)?{}:{obj:i,k:aT(r[a])}},lT=(i,e,t)=>{const{obj:r,k:a}=ru(i,e,Object);if(r!==void 0||e.length===1){r[a]=t;return}let l=e[e.length-1],c=e.slice(0,e.length-1),d=ru(i,c,Object);for(;d.obj===void 0&&c.length;)l=`${c[c.length-1]}.${l}`,c=c.slice(0,c.length-1),d=ru(i,c,Object),d!=null&&d.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=t},TM=(i,e,t,r)=>{const{obj:a,k:l}=ru(i,e,Object);a[l]=a[l]||[],a[l].push(t)},Xh=(i,e)=>{const{obj:t,k:r}=ru(i,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},bM=(i,e,t)=>{const r=Xh(i,t);return r!==void 0?r:Xh(e,t)},qS=(i,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in i?we(i[r])||i[r]instanceof String||we(e[r])||e[r]instanceof String?t&&(i[r]=e[r]):qS(i[r],e[r],t):i[r]=e[r]);return i},Ja=i=>i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var SM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const AM=i=>we(i)?i.replace(/[&<>"'\/]/g,e=>SM[e]):i;class wM{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const RM=[" ",",","?","!",";"],CM=new wM(20),IM=(i,e,t)=>{e=e||"",t=t||"";const r=RM.filter(c=>e.indexOf(c)<0&&t.indexOf(c)<0);if(r.length===0)return!0;const a=CM.getRegExp(`(${r.map(c=>c==="?"?"\\?":c).join("|")})`);let l=!a.test(i);if(!l){const c=i.indexOf(t);c>0&&!a.test(i.substring(0,c))&&(l=!0)}return l},Lp=function(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!i)return;if(i[e])return Object.prototype.hasOwnProperty.call(i,e)?i[e]:void 0;const r=e.split(t);let a=i;for(let l=0;l<r.length;){if(!a||typeof a!="object")return;let c,d="";for(let m=l;m<r.length;++m)if(m!==l&&(d+=t),d+=r[m],c=a[d],c!==void 0){if(["string","number","boolean"].indexOf(typeof c)>-1&&m<r.length-1)continue;l+=m-l+1;break}a=c}return a},Wh=i=>i==null?void 0:i.replace("_","-"),xM={type:"logger",log(i){this.output("log",i)},warn(i){this.output("warn",i)},error(i){this.output("error",i)},output(i,e){var t,r;(r=(t=console==null?void 0:console[i])==null?void 0:t.apply)==null||r.call(t,console,e)}};class Jh{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||xM,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,a){return a&&!this.debug?null:(we(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Jh(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Jh(this.logger,e)}}var gi=new Jh;class If{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const a=this.observers[r].get(t)||0;this.observers[r].set(t,a+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(c=>{let[d,m]=c;for(let g=0;g<m;g++)d(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(c=>{let[d,m]=c;for(let g=0;g<m;g++)d.apply(d,[e,...r])})}}class uT extends If{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){var g,y;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,c=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,t],r&&(Array.isArray(r)?d.push(...r):we(r)&&l?d.push(...r.split(l)):d.push(r)));const m=Xh(this.data,d);return!m&&!t&&!r&&e.indexOf(".")>-1&&(e=d[0],t=d[1],r=d.slice(2).join(".")),m||!c||!we(r)?m:Lp((y=(g=this.data)==null?void 0:g[e])==null?void 0:y[t],r,l)}addResource(e,t,r,a){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const c=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,t];r&&(d=d.concat(c?r.split(c):r)),e.indexOf(".")>-1&&(d=e.split("."),a=t,t=d[1]),this.addNamespaces(t),lT(this.data,d,a),l.silent||this.emit("added",e,t,r,a)}addResources(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const l in r)(we(r[l])||Array.isArray(r[l]))&&this.addResource(e,t,l,r[l],{silent:!0});a.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,a,l){let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},d=[e,t];e.indexOf(".")>-1&&(d=e.split("."),a=r,r=t,t=d[1]),this.addNamespaces(t);let m=Xh(this.data,d)||{};c.skipCopy||(r=JSON.parse(JSON.stringify(r))),a?qS(m,r,l):m={...m,...r},lT(this.data,d,m),c.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(a=>t[a]&&Object.keys(t[a]).length>0)}toJSON(){return this.data}}var GS={processors:{},addPostProcessor(i){this.processors[i.name]=i},handle(i,e,t,r,a){return i.forEach(l=>{var c;e=((c=this.processors[l])==null?void 0:c.process(e,t,r,a))??e}),e}};const cT={},hT=i=>!we(i)&&typeof i!="boolean"&&typeof i!="number";class Zh extends If{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),_M(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=gi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return(r==null?void 0:r.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let l=t.ns||this.options.defaultNS||[];const c=r&&e.indexOf(r)>-1,d=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!IM(e,r,a);if(c&&!d){const m=e.match(this.interpolator.nestingRegexp);if(m&&m.length>0)return{key:e,namespaces:we(l)?[l]:l};const g=e.split(r);(r!==a||r===a&&this.options.ns.indexOf(g[0])>-1)&&(l=g.shift()),e=g.join(a)}return{key:e,namespaces:we(l)?[l]:l}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,l=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(e[e.length-1],t),m=d[d.length-1],g=t.lng||this.language,y=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((g==null?void 0:g.toLowerCase())==="cimode"){if(y){const L=t.nsSeparator||this.options.nsSeparator;return a?{res:`${m}${L}${c}`,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:m,usedParams:this.getUsedParamsDetails(t)}:`${m}${L}${c}`}return a?{res:c,usedKey:c,exactUsedKey:c,usedLng:g,usedNS:m,usedParams:this.getUsedParamsDetails(t)}:c}const T=this.resolve(e,t);let A=T==null?void 0:T.res;const M=(T==null?void 0:T.usedKey)||c,x=(T==null?void 0:T.exactUsedKey)||c,U=["[object Number]","[object Function]","[object RegExp]"],C=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,q=!this.i18nFormat||this.i18nFormat.handleAsObject,X=t.count!==void 0&&!we(t.count),W=Zh.hasDefaultValue(t),ae=X?this.pluralResolver.getSuffix(g,t.count,t):"",oe=t.ordinal&&X?this.pluralResolver.getSuffix(g,t.count,{ordinal:!1}):"",pe=X&&!t.ordinal&&t.count===0,D=pe&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${ae}`]||t[`defaultValue${oe}`]||t.defaultValue;let R=A;q&&!A&&W&&(R=D);const I=hT(R),V=Object.prototype.toString.apply(R);if(q&&R&&I&&U.indexOf(V)<0&&!(we(C)&&Array.isArray(R))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const L=this.options.returnedObjectHandler?this.options.returnedObjectHandler(M,R,{...t,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(T.res=L,T.usedParams=this.getUsedParamsDetails(t),T):L}if(l){const L=Array.isArray(R),j=L?[]:{},O=L?x:M;for(const We in R)if(Object.prototype.hasOwnProperty.call(R,We)){const Fe=`${O}${l}${We}`;W&&!A?j[We]=this.translate(Fe,{...t,defaultValue:hT(D)?D[We]:void 0,joinArrays:!1,ns:d}):j[We]=this.translate(Fe,{...t,joinArrays:!1,ns:d}),j[We]===Fe&&(j[We]=R[We])}A=j}}else if(q&&we(C)&&Array.isArray(A))A=A.join(C),A&&(A=this.extendTranslation(A,e,t,r));else{let L=!1,j=!1;!this.isValidLookup(A)&&W&&(L=!0,A=D),this.isValidLookup(A)||(j=!0,A=c);const We=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&j?void 0:A,Fe=W&&D!==A&&this.options.updateMissing;if(j||L||Fe){if(this.logger.log(Fe?"updateKey":"missingKey",g,m,c,Fe?D:A),l){const Re=this.resolve(c,{...t,keySeparator:!1});Re&&Re.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Y=[];const ue=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ue&&ue[0])for(let Re=0;Re<ue.length;Re++)Y.push(ue[Re]);else this.options.saveMissingTo==="all"?Y=this.languageUtils.toResolveHierarchy(t.lng||this.language):Y.push(t.lng||this.language);const me=(Re,P,ie)=>{var se;const ce=W&&ie!==A?ie:We;this.options.missingKeyHandler?this.options.missingKeyHandler(Re,m,P,ce,Fe,t):(se=this.backendConnector)!=null&&se.saveMissing&&this.backendConnector.saveMissing(Re,m,P,ce,Fe,t),this.emit("missingKey",Re,m,P,A)};this.options.saveMissing&&(this.options.saveMissingPlurals&&X?Y.forEach(Re=>{const P=this.pluralResolver.getSuffixes(Re,t);pe&&t[`defaultValue${this.options.pluralSeparator}zero`]&&P.indexOf(`${this.options.pluralSeparator}zero`)<0&&P.push(`${this.options.pluralSeparator}zero`),P.forEach(ie=>{me([Re],c+ie,t[`defaultValue${ie}`]||D)})}):me(Y,c,D))}A=this.extendTranslation(A,e,t,T,r),j&&A===c&&this.options.appendNamespaceToMissingKey&&(A=`${m}:${c}`),(j||L)&&this.options.parseMissingKeyHandler&&(A=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${m}:${c}`:c,L?A:void 0))}return a?(T.res=A,T.usedParams=this.getUsedParamsDetails(t),T):A}extendTranslation(e,t,r,a,l){var g,y;var c=this;if((g=this.i18nFormat)!=null&&g.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const T=we(e)&&(((y=r==null?void 0:r.interpolation)==null?void 0:y.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let A;if(T){const x=e.match(this.interpolator.nestingRegexp);A=x&&x.length}let M=r.replace&&!we(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(M={...this.options.interpolation.defaultVariables,...M}),e=this.interpolator.interpolate(e,M,r.lng||this.language||a.usedLng,r),T){const x=e.match(this.interpolator.nestingRegexp),U=x&&x.length;A<U&&(r.nest=!1)}!r.lng&&a&&a.res&&(r.lng=this.language||a.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var x=arguments.length,U=new Array(x),C=0;C<x;C++)U[C]=arguments[C];return(l==null?void 0:l[0])===U[0]&&!r.context?(c.logger.warn(`It seems you are nesting recursively key: ${U[0]} in key: ${t[0]}`),null):c.translate(...U,t)},r)),r.interpolation&&this.interpolator.reset()}const d=r.postProcess||this.options.postProcess,m=we(d)?[d]:d;return e!=null&&(m!=null&&m.length)&&r.applyPostProcessor!==!1&&(e=GS.handle(m,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,a,l,c,d;return we(e)&&(e=[e]),e.forEach(m=>{if(this.isValidLookup(r))return;const g=this.extractFromKey(m,t),y=g.key;a=y;let T=g.namespaces;this.options.fallbackNS&&(T=T.concat(this.options.fallbackNS));const A=t.count!==void 0&&!we(t.count),M=A&&!t.ordinal&&t.count===0,x=t.context!==void 0&&(we(t.context)||typeof t.context=="number")&&t.context!=="",U=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);T.forEach(C=>{var q,X;this.isValidLookup(r)||(d=C,!cT[`${U[0]}-${C}`]&&((q=this.utils)!=null&&q.hasLoadedNamespace)&&!((X=this.utils)!=null&&X.hasLoadedNamespace(d))&&(cT[`${U[0]}-${C}`]=!0,this.logger.warn(`key "${a}" for languages "${U.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),U.forEach(W=>{var pe;if(this.isValidLookup(r))return;c=W;const ae=[y];if((pe=this.i18nFormat)!=null&&pe.addLookupKeys)this.i18nFormat.addLookupKeys(ae,y,W,C,t);else{let D;A&&(D=this.pluralResolver.getSuffix(W,t.count,t));const R=`${this.options.pluralSeparator}zero`,I=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(A&&(ae.push(y+D),t.ordinal&&D.indexOf(I)===0&&ae.push(y+D.replace(I,this.options.pluralSeparator)),M&&ae.push(y+R)),x){const V=`${y}${this.options.contextSeparator}${t.context}`;ae.push(V),A&&(ae.push(V+D),t.ordinal&&D.indexOf(I)===0&&ae.push(V+D.replace(I,this.options.pluralSeparator)),M&&ae.push(V+R))}}let oe;for(;oe=ae.pop();)this.isValidLookup(r)||(l=oe,r=this.getResource(W,C,oe,t))}))})}),{res:r,usedKey:a,exactUsedKey:l,usedLng:c,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){var l;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(l=this.i18nFormat)!=null&&l.getResource?this.i18nFormat.getResource(e,t,r,a):this.resourceStore.getResource(e,t,r,a)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!we(e.replace);let a=r?e.replace:e;if(r&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!r){a={...a};for(const l of t)delete a[l]}return a}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class fT{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=gi.create("languageUtils")}getScriptPartFromCode(e){if(e=Wh(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Wh(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(we(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const a=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(a))&&(t=a)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const a=this.getScriptPartFromCode(r);if(this.isSupportedCode(a))return t=a;const l=this.getLanguagePartFromCode(r);if(this.isSupportedCode(l))return t=l;t=this.options.supportedLngs.find(c=>{if(c===l)return c;if(!(c.indexOf("-")<0&&l.indexOf("-")<0)&&(c.indexOf("-")>0&&l.indexOf("-")<0&&c.substring(0,c.indexOf("-"))===l||c.indexOf(l)===0&&l.length>1))return c})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),we(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),a=[],l=c=>{c&&(this.isSupportedCode(c)?a.push(c):this.logger.warn(`rejecting language code not found in supportedLngs: ${c}`))};return we(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):we(e)&&l(this.formatLanguageCode(e)),r.forEach(c=>{a.indexOf(c)<0&&l(this.formatLanguageCode(c))}),a}}const dT={zero:0,one:1,two:2,few:3,many:4,other:5},mT={select:i=>i===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class NM{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=gi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=Wh(e==="dev"?"en":e),a=t.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:r,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let c;try{c=new Intl.PluralRules(r,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),mT;if(!e.match(/-|_/))return mT;const m=this.languageUtils.getLanguagePartFromCode(e);c=this.getRule(m,t)}return this.pluralRulesCache[l]=c,c}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(a=>`${t}${a}`)}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((a,l)=>dT[a]-dT[l]).map(a=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(e,r);return a?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const pT=function(i,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,l=bM(i,e,t);return!l&&a&&we(t)&&(l=Lp(i,t,r),l===void 0&&(l=Lp(e,t,r))),l},Xm=i=>i.replace(/\$/g,"$$$$");class OM{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=gi.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:a,prefix:l,prefixEscaped:c,suffix:d,suffixEscaped:m,formatSeparator:g,unescapeSuffix:y,unescapePrefix:T,nestingPrefix:A,nestingPrefixEscaped:M,nestingSuffix:x,nestingSuffixEscaped:U,nestingOptionsSeparator:C,maxReplaces:q,alwaysFormat:X}=e.interpolation;this.escape=t!==void 0?t:AM,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?Ja(l):c||"{{",this.suffix=d?Ja(d):m||"}}",this.formatSeparator=g||",",this.unescapePrefix=y?"":T||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=A?Ja(A):M||Ja("$t("),this.nestingSuffix=x?Ja(x):U||Ja(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=q||1e3,this.alwaysFormat=X!==void 0?X:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,a){var M;let l,c,d;const m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=x=>{if(x.indexOf(this.formatSeparator)<0){const X=pT(t,m,x,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(X,void 0,r,{...a,...t,interpolationkey:x}):X}const U=x.split(this.formatSeparator),C=U.shift().trim(),q=U.join(this.formatSeparator).trim();return this.format(pT(t,m,C,this.options.keySeparator,this.options.ignoreJSONStructure),q,r,{...a,...t,interpolationkey:C})};this.resetRegExp();const y=(a==null?void 0:a.missingInterpolationHandler)||this.options.missingInterpolationHandler,T=((M=a==null?void 0:a.interpolation)==null?void 0:M.skipOnVariables)!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:x=>Xm(x)},{regex:this.regexp,safeValue:x=>this.escapeValue?Xm(this.escape(x)):Xm(x)}].forEach(x=>{for(d=0;l=x.regex.exec(e);){const U=l[1].trim();if(c=g(U),c===void 0)if(typeof y=="function"){const q=y(e,l,a);c=we(q)?q:""}else if(a&&Object.prototype.hasOwnProperty.call(a,U))c="";else if(T){c=l[0];continue}else this.logger.warn(`missed to pass in variable ${U} for interpolating ${e}`),c="";else!we(c)&&!this.useRawValueToEscape&&(c=sT(c));const C=x.safeValue(c);if(e=e.replace(l[0],C),T?(x.regex.lastIndex+=c.length,x.regex.lastIndex-=l[0].length):x.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,l,c;const d=(m,g)=>{const y=this.nestingOptionsSeparator;if(m.indexOf(y)<0)return m;const T=m.split(new RegExp(`${y}[ ]*{`));let A=`{${T[1]}`;m=T[0],A=this.interpolate(A,c);const M=A.match(/'/g),x=A.match(/"/g);(((M==null?void 0:M.length)??0)%2===0&&!x||x.length%2!==0)&&(A=A.replace(/'/g,'"'));try{c=JSON.parse(A),g&&(c={...g,...c})}catch(U){return this.logger.warn(`failed parsing options string in nesting for key ${m}`,U),`${m}${y}${A}`}return c.defaultValue&&c.defaultValue.indexOf(this.prefix)>-1&&delete c.defaultValue,m};for(;a=this.nestingRegexp.exec(e);){let m=[];c={...r},c=c.replace&&!we(c.replace)?c.replace:c,c.applyPostProcessor=!1,delete c.defaultValue;let g=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const y=a[1].split(this.formatSeparator).map(T=>T.trim());a[1]=y.shift(),m=y,g=!0}if(l=t(d.call(this,a[1].trim(),c),c),l&&a[0]===e&&!we(l))return l;we(l)||(l=sT(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),g&&(l=m.reduce((y,T)=>this.format(y,T,r.lng,{...r,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const DM=i=>{let e=i.toLowerCase().trim();const t={};if(i.indexOf("(")>-1){const r=i.split("(");e=r[0].toLowerCase().trim();const a=r[1].substring(0,r[1].length-1);e==="currency"&&a.indexOf(":")<0?t.currency||(t.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?t.range||(t.range=a.trim()):a.split(";").forEach(c=>{if(c){const[d,...m]=c.split(":"),g=m.join(":").trim().replace(/^'+|'+$/g,""),y=d.trim();t[y]||(t[y]=g),g==="false"&&(t[y]=!1),g==="true"&&(t[y]=!0),isNaN(g)||(t[y]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},Za=i=>{const e={};return(t,r,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const c=r+JSON.stringify(l);let d=e[c];return d||(d=i(Wh(r),a),e[c]=d),d(t)}};class MM{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=gi.create("formatter"),this.options=e,this.formats={number:Za((t,r)=>{const a=new Intl.NumberFormat(t,{...r});return l=>a.format(l)}),currency:Za((t,r)=>{const a=new Intl.NumberFormat(t,{...r,style:"currency"});return l=>a.format(l)}),datetime:Za((t,r)=>{const a=new Intl.DateTimeFormat(t,{...r});return l=>a.format(l)}),relativetime:Za((t,r)=>{const a=new Intl.RelativeTimeFormat(t,{...r});return l=>a.format(l,r.range||"day")}),list:Za((t,r)=>{const a=new Intl.ListFormat(t,{...r});return l=>a.format(l)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Za(t)}format(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const l=t.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(m=>m.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,m)=>{var T;const{formatName:g,formatOptions:y}=DM(m);if(this.formats[g]){let A=d;try{const M=((T=a==null?void 0:a.formatParams)==null?void 0:T[a.interpolationkey])||{},x=M.locale||M.lng||a.locale||a.lng||r;A=this.formats[g](d,x,{...y,...a,...M})}catch(M){this.logger.warn(M)}return A}else this.logger.warn(`there was no format function for ${g}`);return d},e)}}const PM=(i,e)=>{i.pending[e]!==void 0&&(delete i.pending[e],i.pendingCount--)};class VM extends If{constructor(e,t,r){var l,c;let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=a,this.logger=gi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],(c=(l=this.backend)==null?void 0:l.init)==null||c.call(l,r,a.backend,a)}queueLoad(e,t,r,a){const l={},c={},d={},m={};return e.forEach(g=>{let y=!0;t.forEach(T=>{const A=`${g}|${T}`;!r.reload&&this.store.hasResourceBundle(g,T)?this.state[A]=2:this.state[A]<0||(this.state[A]===1?c[A]===void 0&&(c[A]=!0):(this.state[A]=1,y=!1,c[A]===void 0&&(c[A]=!0),l[A]===void 0&&(l[A]=!0),m[T]===void 0&&(m[T]=!0)))}),y||(d[g]=!0)}),(Object.keys(l).length||Object.keys(c).length)&&this.queue.push({pending:c,pendingCount:Object.keys(c).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(c),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(m)}}loaded(e,t,r){const a=e.split("|"),l=a[0],c=a[1];t&&this.emit("failedLoading",l,c,t),!t&&r&&this.store.addResourceBundle(l,c,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const d={};this.queue.forEach(m=>{TM(m.loaded,[l],c),PM(m,e),t&&m.errors.push(t),m.pendingCount===0&&!m.done&&(Object.keys(m.loaded).forEach(g=>{d[g]||(d[g]={});const y=m.loaded[g];y.length&&y.forEach(T=>{d[g][T]===void 0&&(d[g][T]=!0)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(m=>!m.done)}read(e,t,r){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,c=arguments.length>5?arguments[5]:void 0;if(!e.length)return c(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:a,wait:l,callback:c});return}this.readingCalls++;const d=(g,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const T=this.waitingReads.shift();this.read(T.lng,T.ns,T.fcName,T.tried,T.wait,T.callback)}if(g&&y&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,a+1,l*2,c)},l);return}c(g,y)},m=this.backend[r].bind(this.backend);if(m.length===2){try{const g=m(e,t);g&&typeof g.then=="function"?g.then(y=>d(null,y)).catch(d):d(null,g)}catch(g){d(g)}return}return m(e,t,d)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();we(e)&&(e=this.languageUtils.toResolveHierarchy(e)),we(t)&&(t=[t]);const l=this.queueLoad(e,t,r,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(c=>{this.loadOne(c)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),a=r[0],l=r[1];this.read(a,l,"read",void 0,void 0,(c,d)=>{c&&this.logger.warn(`${t}loading namespace ${l} for language ${a} failed`,c),!c&&d&&this.logger.log(`${t}loaded namespace ${l} for language ${a}`,d),this.loaded(e,c,d)})}saveMissing(e,t,r,a,l){var m,g,y,T,A;let c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},d=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((g=(m=this.services)==null?void 0:m.utils)!=null&&g.hasLoadedNamespace&&!((T=(y=this.services)==null?void 0:y.utils)!=null&&T.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((A=this.backend)!=null&&A.create){const M={...c,isUpdate:l},x=this.backend.create.bind(this.backend);if(x.length<6)try{let U;x.length===5?U=x(e,t,r,a,M):U=x(e,t,r,a),U&&typeof U.then=="function"?U.then(C=>d(null,C)).catch(d):d(null,U)}catch(U){d(U)}else x(e,t,r,a,d,M)}!e||!e[0]||this.store.addResource(e[0],t,r,a)}}}const gT=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:i=>{let e={};if(typeof i[1]=="object"&&(e=i[1]),we(i[1])&&(e.defaultValue=i[1]),we(i[2])&&(e.tDescription=i[2]),typeof i[2]=="object"||typeof i[3]=="object"){const t=i[3]||i[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:i=>i,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),yT=i=>{var e,t;return we(i.ns)&&(i.ns=[i.ns]),we(i.fallbackLng)&&(i.fallbackLng=[i.fallbackLng]),we(i.fallbackNS)&&(i.fallbackNS=[i.fallbackNS]),((t=(e=i.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),typeof i.initImmediate=="boolean"&&(i.initAsync=i.initImmediate),i},hh=()=>{},LM=i=>{Object.getOwnPropertyNames(Object.getPrototypeOf(i)).forEach(t=>{typeof i[t]=="function"&&(i[t]=i[t].bind(i))})};class vu extends If{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=yT(e),this.services={},this.logger=gi,this.modules={external:[]},LM(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(we(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const a=gT();this.options={...a,...this.options,...yT(t)},this.options.interpolation={...a.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const l=y=>y?typeof y=="function"?new y:y:null;if(!this.options.isClone){this.modules.logger?gi.init(l(this.modules.logger),this.options):gi.init(null,this.options);let y;this.modules.formatter?y=this.modules.formatter:y=MM;const T=new fT(this.options);this.store=new uT(this.options.resources,this.options);const A=this.services;A.logger=gi,A.resourceStore=this.store,A.languageUtils=T,A.pluralResolver=new NM(T,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),y&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(A.formatter=l(y),A.formatter.init(A,this.options),this.options.interpolation.format=A.formatter.format.bind(A.formatter)),A.interpolator=new OM(this.options),A.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},A.backendConnector=new VM(l(this.modules.backend),A.resourceStore,A,this.options),A.backendConnector.on("*",function(M){for(var x=arguments.length,U=new Array(x>1?x-1:0),C=1;C<x;C++)U[C-1]=arguments[C];e.emit(M,...U)}),this.modules.languageDetector&&(A.languageDetector=l(this.modules.languageDetector),A.languageDetector.init&&A.languageDetector.init(A,this.options.detection,this.options)),this.modules.i18nFormat&&(A.i18nFormat=l(this.modules.i18nFormat),A.i18nFormat.init&&A.i18nFormat.init(this)),this.translator=new Zh(this.services,this.options),this.translator.on("*",function(M){for(var x=arguments.length,U=new Array(x>1?x-1:0),C=1;C<x;C++)U[C-1]=arguments[C];e.emit(M,...U)}),this.modules.external.forEach(M=>{M.init&&M.init(this)})}if(this.format=this.options.interpolation.format,r||(r=hh),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const y=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);y.length>0&&y[0]!=="dev"&&(this.options.lng=y[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(y=>{this[y]=function(){return e.store[y](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(y=>{this[y]=function(){return e.store[y](...arguments),e}});const m=Kl(),g=()=>{const y=(T,A)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),m.resolve(A),r(T,A)};if(this.languages&&!this.isInitialized)return y(null,this.t.bind(this));this.changeLanguage(this.options.lng,y)};return this.options.resources||!this.options.initAsync?g():setTimeout(g,0),m}loadResources(e){var l,c;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hh;const a=we(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((a==null?void 0:a.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const d=[],m=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(T=>{T!=="cimode"&&d.indexOf(T)<0&&d.push(T)})};a?m(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(y=>m(y)),(c=(l=this.options.preload)==null?void 0:l.forEach)==null||c.call(l,g=>m(g)),this.services.backendConnector.load(d,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(g)})}else r(null)}reloadResources(e,t,r){const a=Kl();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=hh),this.services.backendConnector.reload(e,t,l=>{a.resolve(),r(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&GS.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.indexOf(e)<0&&this.languages.unshift(e))}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const a=Kl();this.emit("languageChanging",e);const l=m=>{this.language=m,this.languages=this.services.languageUtils.toResolveHierarchy(m),this.resolvedLanguage=void 0,this.setResolvedLanguage(m)},c=(m,g)=>{g?this.isLanguageChangingTo===e&&(l(g),this.translator.changeLanguage(g),this.isLanguageChangingTo=void 0,this.emit("languageChanged",g),this.logger.log("languageChanged",g)):this.isLanguageChangingTo=void 0,a.resolve(function(){return r.t(...arguments)}),t&&t(m,function(){return r.t(...arguments)})},d=m=>{var T,A;!e&&!m&&this.services.languageDetector&&(m=[]);const g=we(m)?m:m&&m[0],y=this.store.hasLanguageSomeTranslations(g)?g:this.services.languageUtils.getBestMatchFromCodes(we(m)?[m]:m);y&&(this.language||l(y),this.translator.language||this.translator.changeLanguage(y),(A=(T=this.services.languageDetector)==null?void 0:T.cacheUserLanguage)==null||A.call(T,y)),this.loadResources(y,M=>{c(M,y)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(e),a}getFixedT(e,t,r){var a=this;const l=function(c,d){let m;if(typeof d!="object"){for(var g=arguments.length,y=new Array(g>2?g-2:0),T=2;T<g;T++)y[T-2]=arguments[T];m=a.options.overloadTranslationOptionHandler([c,d].concat(y))}else m={...d};m.lng=m.lng||l.lng,m.lngs=m.lngs||l.lngs,m.ns=m.ns||l.ns,m.keyPrefix!==""&&(m.keyPrefix=m.keyPrefix||r||l.keyPrefix);const A=a.options.keySeparator||".";let M;return m.keyPrefix&&Array.isArray(c)?M=c.map(x=>`${m.keyPrefix}${A}${x}`):M=m.keyPrefix?`${m.keyPrefix}${A}${c}`:c,a.t(M,m)};return we(e)?l.lng=e:l.lngs=e,l.ns=t,l.keyPrefix=r,l}t(){var a;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(a=this.translator)==null?void 0:a.translate(...t)}exists(){var a;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(a=this.translator)==null?void 0:a.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const c=(d,m)=>{const g=this.services.backendConnector.state[`${d}|${m}`];return g===-1||g===0||g===2};if(t.precheck){const d=t.precheck(this,c);if(d!==void 0)return d}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||c(r,e)&&(!a||c(l,e)))}loadNamespaces(e,t){const r=Kl();return this.options.ns?(we(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{r.resolve(),t&&t(a)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Kl();we(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(c=>a.indexOf(c)<0&&this.services.languageUtils.isSupportedCode(c));return l.length?(this.options.preload=a.concat(l),this.loadResources(c=>{r.resolve(),t&&t(c)}),r):(t&&t(),Promise.resolve())}dir(e){var a,l;if(e||(e=this.resolvedLanguage||(((a=this.languages)==null?void 0:a.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((l=this.services)==null?void 0:l.languageUtils)||new fT(gT());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new vu(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hh;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new vu(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},r){const d=Object.keys(this.store.data).reduce((m,g)=>(m[g]={...this.store.data[g]},Object.keys(m[g]).reduce((y,T)=>(y[T]={...m[g][T]},y),{})),{});l.store=new uT(d,a),l.services.resourceStore=l.store}return l.translator=new Zh(l.services,a),l.translator.on("*",function(d){for(var m=arguments.length,g=new Array(m>1?m-1:0),y=1;y<m;y++)g[y-1]=arguments[y];l.emit(d,...g)}),l.init(a,t),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Qt=vu.createInstance();Qt.createInstance=vu.createInstance;Qt.createInstance;Qt.dir;Qt.init;Qt.loadResources;Qt.reloadResources;Qt.use;Qt.changeLanguage;Qt.getFixedT;Qt.t;Qt.exists;Qt.setDefaultNamespace;Qt.hasLoadedNamespace;Qt.loadNamespaces;Qt.loadLanguages;const{slice:kM,forEach:UM}=[];function jM(i){return UM.call(kM.call(arguments,1),e=>{if(e)for(const t in e)i[t]===void 0&&(i[t]=e[t])}),i}function zM(i){return typeof i!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(i))}const vT=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,BM=function(i,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let l=`${i}=${a}`;if(r.maxAge>0){const c=r.maxAge-0;if(Number.isNaN(c))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(c)}`}if(r.domain){if(!vT.test(r.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${r.domain}`}if(r.path){if(!vT.test(r.path))throw new TypeError("option path is invalid");l+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(l+="; HttpOnly"),r.secure&&(l+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return l},_T={create(i,e,t,r){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+t*60*1e3)),r&&(a.domain=r),document.cookie=BM(i,encodeURIComponent(e),a)},read(i){const e=`${i}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let a=t[r];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(i){this.create(i,"",-1)}};var HM={name:"cookie",lookup(i){let{lookupCookie:e}=i;if(e&&typeof document<"u")return _T.read(e)||void 0},cacheUserLanguage(i,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:a,cookieOptions:l}=e;t&&typeof document<"u"&&_T.create(t,i,r,a,l)}},FM={name:"querystring",lookup(i){var r;let{lookupQuerystring:e}=i,t;if(typeof window<"u"){let{search:a}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(a=window.location.hash.substring(window.location.hash.indexOf("?")));const c=a.substring(1).split("&");for(let d=0;d<c.length;d++){const m=c[d].indexOf("=");m>0&&c[d].substring(0,m)===e&&(t=c[d].substring(m+1))}}return t}};let eo=null;const ET=()=>{if(eo!==null)return eo;try{if(eo=typeof window<"u"&&window.localStorage!==null,!eo)return!1;const i="i18next.translate.boo";window.localStorage.setItem(i,"foo"),window.localStorage.removeItem(i)}catch{eo=!1}return eo};var qM={name:"localStorage",lookup(i){let{lookupLocalStorage:e}=i;if(e&&ET())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(i,e){let{lookupLocalStorage:t}=e;t&&ET()&&window.localStorage.setItem(t,i)}};let to=null;const TT=()=>{if(to!==null)return to;try{if(to=typeof window<"u"&&window.sessionStorage!==null,!to)return!1;const i="i18next.translate.boo";window.sessionStorage.setItem(i,"foo"),window.sessionStorage.removeItem(i)}catch{to=!1}return to};var GM={name:"sessionStorage",lookup(i){let{lookupSessionStorage:e}=i;if(e&&TT())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(i,e){let{lookupSessionStorage:t}=e;t&&TT()&&window.sessionStorage.setItem(t,i)}},KM={name:"navigator",lookup(i){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:a}=navigator;if(t)for(let l=0;l<t.length;l++)e.push(t[l]);r&&e.push(r),a&&e.push(a)}return e.length>0?e:void 0}},$M={name:"htmlTag",lookup(i){let{htmlTag:e}=i,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},QM={name:"path",lookup(i){var a;let{lookupFromPathIndex:e}=i;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(a=t[typeof e=="number"?e:0])==null?void 0:a.replace("/",""):void 0}},YM={name:"subdomain",lookup(i){var a,l;let{lookupFromSubdomainIndex:e}=i;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((l=(a=window.location)==null?void 0:a.hostname)==null?void 0:l.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let KS=!1;try{document.cookie,KS=!0}catch{}const $S=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];KS||$S.splice(1,1);const XM=()=>({order:$S,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:i=>i});class QS{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=jM(t,this.options||{},XM()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(HM),this.addDetector(FM),this.addDetector(qM),this.addDetector(GM),this.addDetector(KM),this.addDetector($M),this.addDetector(QM),this.addDetector(YM)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let a=this.detectors[r].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(t=t.concat(a))}}),t=t.filter(r=>r!=null&&!zM(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}QS.type="languageDetector";const WM={en:{translation:{back_to_dashboard:"Back to Dashboard",disease_predictor:"Disease Predictor",select_symptoms:"Select your symptoms to get a prediction",predict:"Predict",predicting:"Predicting...",prediction_result:"Prediction Result",select_symptoms_error:"Please select at least one symptom",prediction_error:"Error getting prediction. Please try again.",symptoms:{fever:"Fever",cough:"Cough",sore_throat:"Sore Throat",headache:"Headache",body_pain:"Body Pain",fatigue:"Fatigue",breathing_difficulty:"Breathing Difficulty",chest_pain:"Chest Pain",nausea:"Nausea",vomiting:"Vomiting",diarrhea:"Diarrhea",loss_of_taste:"Loss of Taste",loss_of_smell:"Loss of Smell",runny_nose:"Runny Nose",congestion:"Congestion",muscle_pain:"Muscle Pain",joint_pain:"Joint Pain",rash:"Rash",loss_of_appetite:"Loss of Appetite",weakness:"Weakness",dizziness:"Dizziness",chills:"Chills",sweating:"Sweating",abdominal_pain:"Abdominal Pain",blurred_vision:"Blurred Vision",insomnia:"Insomnia"},symptom_descriptions:{fever:"Elevated body temperature above normal (98.6F/37C)",cough:"Sudden, forceful expulsion of air from the lungs",sore_throat:"Pain, scratchiness or irritation of the throat",headache:"Pain in any region of the head",body_pain:"Generalized pain or discomfort throughout the body",fatigue:"Feeling of tiredness or lack of energy",breathing_difficulty:"Difficulty breathing or feeling breathless",chest_pain:"Pain or discomfort in the chest area",nausea:"Unpleasant sensation of wanting to vomit",vomiting:"Forceful expulsion of stomach contents through the mouth",diarrhea:"Frequent, loose, or watery bowel movements",loss_of_taste:"Reduced or absent ability to taste food",loss_of_smell:"Reduced or absent ability to smell",runny_nose:"Excessive nasal discharge or mucus",congestion:"Blocked or stuffy nose",muscle_pain:"Pain or discomfort in muscles",joint_pain:"Pain or discomfort in joints",rash:"Change in skin color or texture",loss_of_appetite:"Reduced desire to eat or lack of interest in food",weakness:"Lack of physical strength or energy",dizziness:"Feeling of being lightheaded or unsteady",chills:"Feeling of coldness with shivering",sweating:"Excessive perspiration or moisture on the skin",abdominal_pain:"Pain or discomfort in the stomach area",blurred_vision:"Lack of sharpness of vision",insomnia:"Difficulty falling or staying asleep"},medical_information:"Medical Information",fill_medical_details:"Please fill out your medical details",age:"Age",enter_age:"Enter your age",family_members:"Family Members",name:"Name",enter_name:"Enter name",relationship:"Relationship",enter_relationship:"Enter relationship",phone:"Phone",enter_phone:"Enter phone number",email:"Email",enter_email:"Enter email address",address:"Address",enter_address:"Enter address",add_member:"Add Member",cancel:"Cancel",saving:"Saving...",save_medical_info:"Save Medical Information",error_loading_data:"Failed to load existing data",error_saving_data:"Failed to save medical information",error_adding_member:"Failed to add family member",error_removing_member:"Failed to remove family member",error_required_fields:"Please fill in all required fields",disease_descriptions:{"Common Cold":"A viral infection of the upper respiratory tract, characterized by mild fever, cough, and nasal congestion.",Bronchitis:"Inflammation of the bronchial tubes, often causing persistent cough and mucus production.","Strep Throat":"A bacterial infection causing severe sore throat, fever, and difficulty swallowing.",Migraine:"A neurological condition causing severe headaches, often accompanied by nausea and sensitivity to light.",Anemia:"A condition where the body lacks enough healthy red blood cells to carry oxygen to tissues.",Gastritis:"Inflammation of the stomach lining, often causing abdominal pain, nausea, and indigestion.",Vertigo:"A sensation of spinning or dizziness, often related to inner ear problems.","Allergic Reaction":"An immune system response to a foreign substance, causing symptoms like rash, itching, or swelling.",Fibromyalgia:"A chronic condition causing widespread muscle pain, fatigue, and sleep problems.",Asthma:"A chronic respiratory condition causing difficulty breathing, wheezing, and chest tightness.",Angina:"Chest pain caused by reduced blood flow to the heart muscle.",Arthritis:"Inflammation of joints causing pain, stiffness, and reduced mobility.",Anxiety:"A mental health condition characterized by excessive worry, restlessness, and sleep disturbances.",Pneumonia:"An infection that inflames the air sacs in one or both lungs, causing cough, fever, and difficulty breathing.","COVID-19":"A respiratory illness caused by the coronavirus, with symptoms ranging from mild to severe.",Influenza:"A viral infection causing fever, cough, sore throat, and body aches.",Tonsillitis:"Inflammation of the tonsils, causing sore throat, fever, and difficulty swallowing.","Viral Meningitis":"Inflammation of the membranes surrounding the brain and spinal cord.",Chickenpox:"A highly contagious viral infection causing an itchy rash and fever.","Chronic Bronchitis":"Long-term inflammation of the bronchial tubes, often related to smoking.",Gastroenteritis:"Inflammation of the digestive tract, causing diarrhea, nausea, and abdominal pain.","Heart Condition":"Various conditions affecting the heart, requiring medical evaluation.","Rheumatoid Arthritis":"An autoimmune disorder causing joint inflammation and pain.","Dengue Fever":"A mosquito-borne viral infection causing high fever, severe headache, and joint pain.","Food Poisoning":"Illness caused by consuming contaminated food, leading to nausea, vomiting, and diarrhea.","Severe Viral Infection":"A serious viral illness requiring medical attention.","Unknown combination of symptoms":"The combination of symptoms doesn't match any known patterns. Please consult a doctor."},prediction_disclaimer:"Note: This prediction is based on common symptoms and patterns. It is not a substitute for professional medical advice, diagnosis, or treatment. Always seek the advice of your physician or other qualified health provider with any questions you may have regarding a medical condition.",consult_doctor:"Please consult a doctor for proper diagnosis and treatment.",emergency_contacts:"Emergency Contacts",call_family_member:"Call {{name}}",call_doctor:"Call Dr. {{name}}",serious_condition_warning:"This condition requires immediate medical attention. Please contact a healthcare provider or emergency services."}},hi:{translation:{back_to_dashboard:"   ",disease_predictor:" ",select_symptoms:"       ",predict:" ",predicting:"    ...",prediction_result:" ",select_symptoms_error:"      ",prediction_error:"        ",symptoms:{fever:"",cough:"",sore_throat:"  ",headache:"",body_pain:"  ",fatigue:"",breathing_difficulty:"   ",chest_pain:"  ",nausea:"",vomiting:"",diarrhea:"",loss_of_taste:"  ",loss_of_smell:"  ",runny_nose:" ",congestion:"  ",muscle_pain:"  ",joint_pain:"  ",rash:"",loss_of_appetite:"  ",weakness:"",dizziness:" ",chills:" ",sweating:" ",abdominal_pain:"  ",blurred_vision:" ",insomnia:""},symptom_descriptions:{fever:"      (98.6F/37C)",cough:"    ,  ",sore_throat:"  ,   ",headache:"      ",body_pain:"      ",fatigue:"      ",breathing_difficulty:"      ",chest_pain:"      ",nausea:"      ",vomiting:"         ",diarrhea:"-,      ",loss_of_taste:"           ",loss_of_smell:"         ",runny_nose:"     ",congestion:"       ",muscle_pain:"    ",joint_pain:"    ",rash:"      ",loss_of_appetite:"          ",weakness:"     ",dizziness:"     ",chills:"    ",sweating:"     ",abdominal_pain:"      ",blurred_vision:"    ",insomnia:"     "},medical_information:" ",fill_medical_details:"    ",age:"",enter_age:"   ",family_members:"  ",name:"",enter_name:"  ",relationship:"",enter_relationship:"  ",phone:"",enter_phone:"   ",email:"",enter_email:"   ",address:"",enter_address:"  ",add_member:" ",cancel:" ",saving:"   ...",save_medical_info:"  ",error_loading_data:"     ",error_saving_data:"    ",error_adding_member:"      ",error_removing_member:"      ",error_required_fields:"    ",disease_descriptions:{"Common Cold":"     ,   ,       ",Bronchitis:"   ,       ","Strep Throat":"       ,        ",Migraine:"     ,           ",Anemia:"                   ",Gastritis:"    ,    ,     ",Vertigo:"     ,         ","Allergic Reaction":"        ,  ,       ",Fibromyalgia:"       ,        ",Asthma:"        ,        ",Angina:"              ",Arthritis:"    ,       ",Anxiety:"      ,        ",Pneumonia:"               ,  ,        ","COVID-19":"       ,         ",Influenza:"    , ,          ",Tonsillitis:"  ,    ,       ","Viral Meningitis":"          ",Chickenpox:"             ","Chronic Bronchitis":"      ,       ",Gastroenteritis:"   ,  ,      ","Heart Condition":"      ,        ","Rheumatoid Arthritis":"           ","Dengue Fever":"        ,         ","Food Poisoning":"      ,  ,     ","Severe Viral Infection":"            ","Unknown combination of symptoms":"               "},prediction_disclaimer:":             ,                              ",consult_doctor:"          ",emergency_contacts:" ",call_family_member:"{{name}}   ",call_doctor:". {{name}}   ",serious_condition_warning:"                     "}}};Qt.use(QS).use(xD).init({resources:WM,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator"],caches:["localStorage"]}});const JM=()=>b.jsx(xx,{children:b.jsx(MD,{i18n:Qt,children:b.jsx(x2,{children:b.jsxs("div",{className:"app-container",children:[b.jsxs(b2,{children:[b.jsx(Vr,{path:"/",element:b.jsx(vM,{})}),b.jsx(Vr,{path:"/login",element:b.jsx(dD,{})}),b.jsx(Vr,{path:"/dashboard",element:b.jsx(Fl,{children:b.jsx(pD,{})})}),b.jsx(Vr,{path:"/medical-form",element:b.jsx(Fl,{children:b.jsx(gD,{})})}),b.jsx(Vr,{path:"/bmi-calculator",element:b.jsx(Fl,{children:b.jsx(yD,{})})}),b.jsx(Vr,{path:"/emergency-contacts",element:b.jsx(Fl,{children:b.jsx(PD,{})})}),b.jsx(Vr,{path:"/disease-predictor",element:b.jsx(Fl,{children:b.jsx(yM,{})})})]}),b.jsx(dS,{})]})})})});Nw.createRoot(document.getElementById("root")).render(b.jsx(Xi.StrictMode,{children:b.jsx(JM,{})}));
